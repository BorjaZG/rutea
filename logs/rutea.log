2026-02-10 10:29:00.017 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2026-02-10 10:29:00.059 [main] INFO  com.svalero.rutea.RuteaApplication - Starting RuteaApplication using Java 23 with PID 26736 (C:\Proyects\rutea\target\classes started by borzg in C:\Proyects\rutea)
2026-02-10 10:29:00.060 [main] DEBUG com.svalero.rutea.RuteaApplication - Running with Spring Boot v3.3.3, Spring v6.1.12
2026-02-10 10:29:00.060 [main] INFO  com.svalero.rutea.RuteaApplication - No active profile set, falling back to 1 default profile: "default"
2026-02-10 10:29:00.664 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-02-10 10:29:00.709 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 39 ms. Found 5 JPA repository interfaces.
2026-02-10 10:29:01.094 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-02-10 10:29:01.103 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2026-02-10 10:29:01.107 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-02-10 10:29:01.107 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.28]
2026-02-10 10:29:01.158 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-02-10 10:29:01.158 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1058 ms
2026-02-10 10:29:01.266 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-02-10 10:29:01.337 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.2.Final
2026-02-10 10:29:01.370 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-02-10 10:29:01.632 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-02-10 10:29:01.655 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-02-10 10:29:02.709 [main] WARN  o.h.e.j.e.i.JdbcEnvironmentInitiator - HHH000342: Could not obtain connection to query metadata
java.lang.NullPointerException: Cannot invoke "org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(java.sql.SQLException, String)" because the return value of "org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.sqlExceptionHelper()" is null
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:116)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:290)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:123)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:77)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:221)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:189)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:171)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1431)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1502)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.svalero.rutea.RuteaApplication.main(RuteaApplication.java:10)
2026-02-10 10:29:02.733 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MariaDBDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-10 10:29:03.537 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-10 10:29:03.553 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-02-10 10:29:04.569 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 08000
2026-02-10 10:29:04.569 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Socket fail to connect to host:address=(host=localhost)(port=3306)(type=primary). Connection refused: getsockopt
2026-02-10 10:29:04.574 [main] ERROR o.s.o.j.LocalContainerEntityManagerFactoryBean - Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Socket fail to connect to host:address=(host=localhost)(port=3306)(type=primary). Connection refused: getsockopt] [n/a]
2026-02-10 10:29:04.574 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Socket fail to connect to host:address=(host=localhost)(port=3306)(type=primary). Connection refused: getsockopt] [n/a]
2026-02-10 10:29:04.576 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2026-02-10 10:29:04.585 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2026-02-10 10:29:04.598 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Socket fail to connect to host:address=(host=localhost)(port=3306)(type=primary). Connection refused: getsockopt] [n/a]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.svalero.rutea.RuteaApplication.main(RuteaApplication.java:10)
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Socket fail to connect to host:address=(host=localhost)(port=3306)(type=primary). Connection refused: getsockopt] [n/a]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 15 common frames omitted
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Socket fail to connect to host:address=(host=localhost)(port=3306)(type=primary). Connection refused: getsockopt] [n/a]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:51)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:74)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:39)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:63)
	at org.hibernate.tool.schema.extract.spi.ExtractionContext.getQueryResults(ExtractionContext.java:43)
	at org.hibernate.tool.schema.extract.internal.SequenceInformationExtractorMariaDBDatabaseImpl.extractMetadata(SequenceInformationExtractorMariaDBDatabaseImpl.java:46)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.initializeSequences(DatabaseInformationImpl.java:66)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.<init>(DatabaseInformationImpl.java:60)
	at org.hibernate.tool.schema.internal.Helper.buildDatabaseInformation(Helper.java:185)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:98)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 19 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Socket fail to connect to host:address=(host=localhost)(port=3306)(type=primary). Connection refused: getsockopt
	at org.mariadb.jdbc.client.impl.ConnectionHelper.connectSocket(ConnectionHelper.java:140)
	at org.mariadb.jdbc.client.impl.StandardClient.<init>(StandardClient.java:102)
	at org.mariadb.jdbc.Driver.connect(Driver.java:69)
	at org.mariadb.jdbc.Driver.connect(Driver.java:95)
	at org.mariadb.jdbc.Driver.connect(Driver.java:26)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:137)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:360)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:202)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:461)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:550)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:98)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:437)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46)
	... 39 common frames omitted
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:760)
	at org.mariadb.jdbc.client.impl.ConnectionHelper.connectSocket(ConnectionHelper.java:134)
	... 53 common frames omitted
2026-02-10 10:29:30.302 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2026-02-10 10:29:30.330 [main] INFO  com.svalero.rutea.RuteaApplication - Starting RuteaApplication using Java 23 with PID 6904 (C:\Proyects\rutea\target\classes started by borzg in C:\Proyects\rutea)
2026-02-10 10:29:30.330 [main] DEBUG com.svalero.rutea.RuteaApplication - Running with Spring Boot v3.3.3, Spring v6.1.12
2026-02-10 10:29:30.331 [main] INFO  com.svalero.rutea.RuteaApplication - No active profile set, falling back to 1 default profile: "default"
2026-02-10 10:29:30.862 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-02-10 10:29:30.907 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 35 ms. Found 5 JPA repository interfaces.
2026-02-10 10:29:31.281 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-02-10 10:29:31.289 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2026-02-10 10:29:31.291 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-02-10 10:29:31.291 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.28]
2026-02-10 10:29:31.346 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-02-10 10:29:31.347 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 980 ms
2026-02-10 10:29:31.454 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-02-10 10:29:31.505 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.2.Final
2026-02-10 10:29:31.535 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-02-10 10:29:31.783 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-02-10 10:29:31.802 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-02-10 10:29:31.880 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.mariadb.jdbc.Connection@3f9f8d23
2026-02-10 10:29:31.881 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-02-10 10:29:31.902 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MariaDBDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-10 10:29:32.790 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-10 10:29:32.852 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-02-10 10:29:33.259 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-02-10 10:29:33.358 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 36 mappings in 'requestMappingHandlerMapping'
2026-02-10 10:29:33.407 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2026-02-10 10:29:33.433 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-10 10:29:33.467 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-10 10:29:33.598 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2026-02-10 10:29:33.613 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2026-02-10 10:29:33.618 [main] INFO  com.svalero.rutea.RuteaApplication - Started RuteaApplication in 3.667 seconds (process running for 4.215)
2026-02-10 10:29:41.694 [http-nio-8080-exec-3] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-02-10 10:29:41.694 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-02-10 10:29:41.694 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2026-02-10 10:29:41.694 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2026-02-10 10:29:41.694 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2026-02-10 10:29:41.695 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@58dd1d0c
2026-02-10 10:29:41.695 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@1978eab7
2026-02-10 10:29:41.695 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2026-02-10 10:29:41.695 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2026-02-10 10:29:41.701 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/categorias", parameters={}
2026-02-10 10:29:41.711 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#getAll(Boolean, String, Integer)
2026-02-10 10:29:41.728 [http-nio-8080-exec-3] DEBUG c.s.r.controller.CategoriaController - GET /categorias - Filtros: activa=null, nombre=null, ordenPrioridad=null
2026-02-10 10:29:41.728 [http-nio-8080-exec-3] DEBUG c.s.rutea.service.CategoriaService - Buscando categorías con filtros: activa=null, nombre=null, ordenPrioridad=null
2026-02-10 10:29:41.843 [http-nio-8080-exec-3] INFO  c.s.rutea.service.CategoriaService - Se encontraron 2 categorías
2026-02-10 10:29:41.857 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 10:29:41.860 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoriaOutDto(id=1, activa=true, costePromedio=10.0, descripcion=Ruta por la Ciudad, iconoUrl=htt (truncated)...]
2026-02-10 10:29:41.904 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-02-10 10:32:45.027 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - PATCH "/categorias/1", parameters={}
2026-02-10 10:32:45.027 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#patch(long, Map)
2026-02-10 10:32:45.050 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [{nombre=Ruta de Ciudad}]
2026-02-10 10:32:45.051 [http-nio-8080-exec-8] DEBUG c.s.r.controller.CategoriaController - PATCH /categorias/1 - Campos: [nombre]
2026-02-10 10:32:45.051 [http-nio-8080-exec-8] INFO  c.s.rutea.service.CategoriaService - Aplicando PATCH a categoría ID: 1 con 1 campos
2026-02-10 10:32:45.053 [http-nio-8080-exec-8] DEBUG c.s.rutea.service.CategoriaService - Campos a actualizar: [nombre]
2026-02-10 10:32:45.066 [http-nio-8080-exec-8] DEBUG c.s.rutea.service.CategoriaService - Campo actualizado: nombre = Ruta de Ciudad
2026-02-10 10:32:45.079 [http-nio-8080-exec-8] INFO  c.s.rutea.service.CategoriaService - Categoría actualizada exitosamente con PATCH: ID 1
2026-02-10 10:32:45.081 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 10:32:45.081 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CategoriaOutDto(id=1, activa=true, costePromedio=10.0, descripcion=Ruta por la Ciudad, iconoUrl=http (truncated)...]
2026-02-10 10:32:45.082 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-02-10 10:32:53.786 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - PATCH "/categorias/1", parameters={}
2026-02-10 10:32:53.787 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#patch(long, Map)
2026-02-10 10:32:53.788 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [{nombre=Ruta de Ciudad Actualizada}]
2026-02-10 10:32:53.788 [http-nio-8080-exec-6] DEBUG c.s.r.controller.CategoriaController - PATCH /categorias/1 - Campos: [nombre]
2026-02-10 10:32:53.788 [http-nio-8080-exec-6] INFO  c.s.rutea.service.CategoriaService - Aplicando PATCH a categoría ID: 1 con 1 campos
2026-02-10 10:32:53.788 [http-nio-8080-exec-6] DEBUG c.s.rutea.service.CategoriaService - Campos a actualizar: [nombre]
2026-02-10 10:32:53.794 [http-nio-8080-exec-6] DEBUG c.s.rutea.service.CategoriaService - Campo actualizado: nombre = Ruta de Ciudad Actualizada
2026-02-10 10:32:53.820 [http-nio-8080-exec-6] INFO  c.s.rutea.service.CategoriaService - Categoría actualizada exitosamente con PATCH: ID 1
2026-02-10 10:32:53.820 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 10:32:53.820 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CategoriaOutDto(id=1, activa=true, costePromedio=10.0, descripcion=Ruta por la Ciudad, iconoUrl=http (truncated)...]
2026-02-10 10:32:53.821 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-02-10 10:32:56.890 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/categorias", parameters={}
2026-02-10 10:32:56.890 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#getAll(Boolean, String, Integer)
2026-02-10 10:32:56.890 [http-nio-8080-exec-4] DEBUG c.s.r.controller.CategoriaController - GET /categorias - Filtros: activa=null, nombre=null, ordenPrioridad=null
2026-02-10 10:32:56.891 [http-nio-8080-exec-4] DEBUG c.s.rutea.service.CategoriaService - Buscando categorías con filtros: activa=null, nombre=null, ordenPrioridad=null
2026-02-10 10:32:56.902 [http-nio-8080-exec-4] INFO  c.s.rutea.service.CategoriaService - Se encontraron 2 categorías
2026-02-10 10:32:56.902 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 10:32:56.902 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoriaOutDto(id=1, activa=true, costePromedio=10.0, descripcion=Ruta por la Ciudad, iconoUrl=htt (truncated)...]
2026-02-10 10:32:56.902 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-02-10 10:33:56.941 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/puntos", parameters={}
2026-02-10 10:33:56.942 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#getAll(Long, Boolean, Boolean, String, Float)
2026-02-10 10:33:56.946 [http-nio-8080-exec-9] DEBUG c.s.r.c.PuntoInteresController - GET: /puntos - Filtros aplicados
2026-02-10 10:33:56.946 [http-nio-8080-exec-9] DEBUG c.s.r.service.PuntoInteresService - Buscando puntos de interés con filtros: categoriaId=null, abiertoActualmente=null, nombre=, puntuacionMedia=null
2026-02-10 10:33:56.960 [http-nio-8080-exec-9] INFO  c.s.r.service.PuntoInteresService - Se encontraron 1 puntos de interés
2026-02-10 10:33:56.980 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 10:33:56.983 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[PuntoInteresOutDto(id=3, abiertoActualmente=true, fechaCreacion=2026-02-03T10:00, latitud=41.6488,  (truncated)...]
2026-02-10 10:33:56.987 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-02-10 10:34:14.246 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - PATCH "/puntos/3", parameters={}
2026-02-10 10:34:14.247 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#patch(long, Map)
2026-02-10 10:34:14.249 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [{abiertoActualmente=false, puntuacionMedia=5.5}]
2026-02-10 10:34:14.249 [http-nio-8080-exec-1] DEBUG c.s.r.c.PuntoInteresController - PATCH /puntos/3 - Campos: [abiertoActualmente, puntuacionMedia]
2026-02-10 10:34:14.249 [http-nio-8080-exec-1] INFO  c.s.r.service.PuntoInteresService - Aplicando PATCH a punto de interés ID: 3 con 2 campos
2026-02-10 10:34:14.249 [http-nio-8080-exec-1] DEBUG c.s.r.service.PuntoInteresService - Campos a actualizar: [abiertoActualmente, puntuacionMedia]
2026-02-10 10:34:14.256 [http-nio-8080-exec-1] DEBUG c.s.r.service.PuntoInteresService - Campo actualizado: abiertoActualmente = false
2026-02-10 10:34:14.256 [http-nio-8080-exec-1] DEBUG c.s.r.service.PuntoInteresService - Campo actualizado: puntuacionMedia = 5.5
2026-02-10 10:34:14.267 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleGeneric(Exception)
2026-02-10 10:34:14.269 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 10:34:14.271 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=500, title=internal-server-error, message=Unexpected error, errors={})]
2026-02-10 10:34:14.273 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.transaction.TransactionSystemException: Could not commit JPA transaction]
2026-02-10 10:34:14.274 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2026-02-10 10:35:17.810 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - PATCH "/puntos/3", parameters={}
2026-02-10 10:35:17.810 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#patch(long, Map)
2026-02-10 10:35:17.811 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [{nombre=Punto de Interés Actualizado, puntuacionMedia=5.5, abiertoActualmente=false}]
2026-02-10 10:35:17.811 [http-nio-8080-exec-3] DEBUG c.s.r.c.PuntoInteresController - PATCH /puntos/3 - Campos: [nombre, puntuacionMedia, abiertoActualmente]
2026-02-10 10:35:17.811 [http-nio-8080-exec-3] INFO  c.s.r.service.PuntoInteresService - Aplicando PATCH a punto de interés ID: 3 con 3 campos
2026-02-10 10:35:17.812 [http-nio-8080-exec-3] DEBUG c.s.r.service.PuntoInteresService - Campos a actualizar: [nombre, puntuacionMedia, abiertoActualmente]
2026-02-10 10:35:17.830 [http-nio-8080-exec-3] DEBUG c.s.r.service.PuntoInteresService - Campo actualizado: nombre = Punto de Interés Actualizado
2026-02-10 10:35:17.830 [http-nio-8080-exec-3] DEBUG c.s.r.service.PuntoInteresService - Campo actualizado: puntuacionMedia = 5.5
2026-02-10 10:35:17.830 [http-nio-8080-exec-3] DEBUG c.s.r.service.PuntoInteresService - Campo actualizado: abiertoActualmente = false
2026-02-10 10:35:17.834 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleGeneric(Exception)
2026-02-10 10:35:17.835 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 10:35:17.835 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=500, title=internal-server-error, message=Unexpected error, errors={})]
2026-02-10 10:35:17.835 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.transaction.TransactionSystemException: Could not commit JPA transaction]
2026-02-10 10:35:17.836 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2026-02-10 10:42:30.300 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-02-10 10:42:30.302 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-02-10 10:42:30.311 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-02-10 10:42:34.012 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2026-02-10 10:42:34.042 [main] INFO  com.svalero.rutea.RuteaApplication - Starting RuteaApplication using Java 23 with PID 2412 (C:\Proyects\rutea\target\classes started by borzg in C:\Proyects\rutea)
2026-02-10 10:42:34.042 [main] DEBUG com.svalero.rutea.RuteaApplication - Running with Spring Boot v3.3.3, Spring v6.1.12
2026-02-10 10:42:34.043 [main] INFO  com.svalero.rutea.RuteaApplication - No active profile set, falling back to 1 default profile: "default"
2026-02-10 10:42:34.606 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-02-10 10:42:34.652 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 39 ms. Found 5 JPA repository interfaces.
2026-02-10 10:42:35.014 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-02-10 10:42:35.023 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2026-02-10 10:42:35.026 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-02-10 10:42:35.026 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.28]
2026-02-10 10:42:35.076 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-02-10 10:42:35.077 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 999 ms
2026-02-10 10:42:35.185 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-02-10 10:42:35.235 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.2.Final
2026-02-10 10:42:35.264 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-02-10 10:42:35.496 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-02-10 10:42:35.520 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-02-10 10:42:35.585 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.mariadb.jdbc.Connection@cdbe995
2026-02-10 10:42:35.586 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-02-10 10:42:35.607 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MariaDBDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-10 10:42:36.412 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-10 10:42:36.503 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-02-10 10:42:36.898 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-02-10 10:42:36.974 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 36 mappings in 'requestMappingHandlerMapping'
2026-02-10 10:42:37.027 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2026-02-10 10:42:37.051 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-10 10:42:37.072 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-10 10:42:37.191 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2026-02-10 10:42:37.208 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2026-02-10 10:42:37.214 [main] INFO  com.svalero.rutea.RuteaApplication - Started RuteaApplication in 3.519 seconds (process running for 3.962)
2026-02-10 10:43:15.339 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-02-10 10:43:15.340 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-02-10 10:43:15.350 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-02-10 10:43:18.939 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2026-02-10 10:43:18.969 [main] INFO  com.svalero.rutea.RuteaApplication - Starting RuteaApplication using Java 23 with PID 5720 (C:\Proyects\rutea\target\classes started by borzg in C:\Proyects\rutea)
2026-02-10 10:43:18.970 [main] DEBUG com.svalero.rutea.RuteaApplication - Running with Spring Boot v3.3.3, Spring v6.1.12
2026-02-10 10:43:18.970 [main] INFO  com.svalero.rutea.RuteaApplication - No active profile set, falling back to 1 default profile: "default"
2026-02-10 10:43:19.512 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-02-10 10:43:19.551 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 35 ms. Found 5 JPA repository interfaces.
2026-02-10 10:43:19.887 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-02-10 10:43:19.895 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2026-02-10 10:43:19.897 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-02-10 10:43:19.898 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.28]
2026-02-10 10:43:19.944 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-02-10 10:43:19.944 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 936 ms
2026-02-10 10:43:20.041 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-02-10 10:43:20.080 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.2.Final
2026-02-10 10:43:20.106 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-02-10 10:43:20.328 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-02-10 10:43:20.345 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-02-10 10:43:20.406 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.mariadb.jdbc.Connection@542c65d9
2026-02-10 10:43:20.407 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-02-10 10:43:20.428 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MariaDBDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-10 10:43:21.208 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-10 10:43:21.261 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-02-10 10:43:21.632 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-02-10 10:43:21.705 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 36 mappings in 'requestMappingHandlerMapping'
2026-02-10 10:43:21.753 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2026-02-10 10:43:21.776 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-10 10:43:21.797 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-10 10:43:21.910 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2026-02-10 10:43:21.923 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2026-02-10 10:43:21.929 [main] INFO  com.svalero.rutea.RuteaApplication - Started RuteaApplication in 3.325 seconds (process running for 3.752)
2026-02-10 10:44:10.905 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-02-10 10:44:10.905 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-02-10 10:44:10.906 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2026-02-10 10:44:10.906 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2026-02-10 10:44:10.906 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2026-02-10 10:44:10.907 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@17810908
2026-02-10 10:44:10.907 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@2eb0932c
2026-02-10 10:44:10.908 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2026-02-10 10:44:10.908 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2026-02-10 10:44:10.915 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/puntos", parameters={}
2026-02-10 10:44:10.924 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#getAll(Long, Boolean, Boolean, String, Float)
2026-02-10 10:44:10.945 [http-nio-8080-exec-1] DEBUG c.s.r.c.PuntoInteresController - GET: /puntos - Filtros aplicados
2026-02-10 10:44:10.946 [http-nio-8080-exec-1] DEBUG c.s.r.service.PuntoInteresService - Buscando puntos de interés con filtros: categoriaId=null, abiertoActualmente=null, nombre=, puntuacionMedia=null
2026-02-10 10:44:11.070 [http-nio-8080-exec-1] INFO  c.s.r.service.PuntoInteresService - Se encontraron 1 puntos de interés
2026-02-10 10:44:11.102 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 10:44:11.106 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[PuntoInteresOutDto(id=3, abiertoActualmente=true, fechaCreacion=2026-02-03T10:00, latitud=41.6488,  (truncated)...]
2026-02-10 10:44:11.145 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-02-10 10:44:23.524 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - PATCH "/puntos/3", parameters={}
2026-02-10 10:44:23.525 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#patch(long, Map)
2026-02-10 10:44:23.546 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [{nombre=Punto de Interés Actualizado, puntuacionMedia=5.5, abiertoActualmente=false}]
2026-02-10 10:44:23.548 [http-nio-8080-exec-4] DEBUG c.s.r.c.PuntoInteresController - PATCH /puntos/3 - Campos: [nombre, puntuacionMedia, abiertoActualmente]
2026-02-10 10:44:23.551 [http-nio-8080-exec-4] INFO  c.s.r.service.PuntoInteresService - Aplicando PATCH a punto de interés ID: 3 con 3 campos
2026-02-10 10:44:23.551 [http-nio-8080-exec-4] DEBUG c.s.r.service.PuntoInteresService - Campos a actualizar: [nombre, puntuacionMedia, abiertoActualmente]
2026-02-10 10:44:23.556 [http-nio-8080-exec-4] DEBUG c.s.r.service.PuntoInteresService - Campo actualizado: nombre = Punto de Interés Actualizado
2026-02-10 10:44:23.556 [http-nio-8080-exec-4] DEBUG c.s.r.service.PuntoInteresService - Campo actualizado: puntuacionMedia = 5.5
2026-02-10 10:44:23.556 [http-nio-8080-exec-4] DEBUG c.s.r.service.PuntoInteresService - Campo actualizado: abiertoActualmente = false
2026-02-10 10:44:23.561 [http-nio-8080-exec-4] INFO  c.s.r.service.PuntoInteresService - Punto de interés actualizado exitosamente con PATCH: ID 3
2026-02-10 10:44:23.590 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleGeneric(Exception)
2026-02-10 10:44:23.592 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 10:44:23.593 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=500, title=internal-server-error, message=Unexpected error, errors={})]
2026-02-10 10:44:23.596 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.transaction.TransactionSystemException: Could not commit JPA transaction]
2026-02-10 10:44:23.597 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2026-02-10 10:46:22.640 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-02-10 10:46:22.641 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-02-10 10:46:22.650 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-02-10 10:46:26.254 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2026-02-10 10:46:26.282 [main] INFO  com.svalero.rutea.RuteaApplication - Starting RuteaApplication using Java 23 with PID 17084 (C:\Proyects\rutea\target\classes started by borzg in C:\Proyects\rutea)
2026-02-10 10:46:26.283 [main] DEBUG com.svalero.rutea.RuteaApplication - Running with Spring Boot v3.3.3, Spring v6.1.12
2026-02-10 10:46:26.283 [main] INFO  com.svalero.rutea.RuteaApplication - No active profile set, falling back to 1 default profile: "default"
2026-02-10 10:46:26.832 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-02-10 10:46:26.871 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 34 ms. Found 5 JPA repository interfaces.
2026-02-10 10:46:27.213 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-02-10 10:46:27.221 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2026-02-10 10:46:27.224 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-02-10 10:46:27.224 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.28]
2026-02-10 10:46:27.282 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-02-10 10:46:27.283 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 962 ms
2026-02-10 10:46:27.390 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-02-10 10:46:27.443 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.2.Final
2026-02-10 10:46:27.476 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-02-10 10:46:27.722 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-02-10 10:46:27.742 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-02-10 10:46:27.815 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.mariadb.jdbc.Connection@16b64a03
2026-02-10 10:46:27.817 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-02-10 10:46:27.838 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MariaDBDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-10 10:46:28.683 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-10 10:46:28.742 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-02-10 10:46:29.138 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-02-10 10:46:29.214 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 36 mappings in 'requestMappingHandlerMapping'
2026-02-10 10:46:29.267 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2026-02-10 10:46:29.292 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-10 10:46:29.315 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-10 10:46:29.426 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2026-02-10 10:46:29.441 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2026-02-10 10:46:29.448 [main] INFO  com.svalero.rutea.RuteaApplication - Started RuteaApplication in 3.532 seconds (process running for 3.99)
2026-02-10 10:46:32.370 [http-nio-8080-exec-6] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-02-10 10:46:32.370 [http-nio-8080-exec-6] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-02-10 10:46:32.370 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2026-02-10 10:46:32.371 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2026-02-10 10:46:32.371 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2026-02-10 10:46:32.371 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@174d5cf7
2026-02-10 10:46:32.371 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@e75bae7
2026-02-10 10:46:32.372 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2026-02-10 10:46:32.372 [http-nio-8080-exec-6] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2026-02-10 10:46:32.377 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/puntos", parameters={}
2026-02-10 10:46:32.387 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#getAll(Long, Boolean, Boolean, String, Float)
2026-02-10 10:46:32.406 [http-nio-8080-exec-6] DEBUG c.s.r.c.PuntoInteresController - GET: /puntos - Filtros aplicados
2026-02-10 10:46:32.406 [http-nio-8080-exec-6] DEBUG c.s.r.service.PuntoInteresService - Buscando puntos de interés con filtros: categoriaId=null, abiertoActualmente=null, nombre=, puntuacionMedia=null
2026-02-10 10:46:32.517 [http-nio-8080-exec-6] INFO  c.s.r.service.PuntoInteresService - Se encontraron 1 puntos de interés
2026-02-10 10:46:32.547 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 10:46:32.550 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[PuntoInteresOutDto(id=3, abiertoActualmente=true, fechaCreacion=2026-02-03T10:00, latitud=41.6488,  (truncated)...]
2026-02-10 10:46:32.584 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-02-10 10:46:36.567 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - PATCH "/puntos/3", parameters={}
2026-02-10 10:46:36.568 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#patch(long, Map)
2026-02-10 10:46:36.594 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [{nombre=Punto de Interés Actualizado, puntuacionMedia=5.5, abiertoActualmente=false}]
2026-02-10 10:46:36.596 [http-nio-8080-exec-7] DEBUG c.s.r.c.PuntoInteresController - PATCH /puntos/3 - Campos: [nombre, puntuacionMedia, abiertoActualmente]
2026-02-10 10:46:36.599 [http-nio-8080-exec-7] INFO  c.s.r.service.PuntoInteresService - Aplicando PATCH a punto de interés ID: 3 con 3 campos
2026-02-10 10:46:36.599 [http-nio-8080-exec-7] DEBUG c.s.r.service.PuntoInteresService - Campos a actualizar: [nombre, puntuacionMedia, abiertoActualmente]
2026-02-10 10:46:36.604 [http-nio-8080-exec-7] DEBUG c.s.r.service.PuntoInteresService - Campo actualizado: nombre = Punto de Interés Actualizado
2026-02-10 10:46:36.604 [http-nio-8080-exec-7] DEBUG c.s.r.service.PuntoInteresService - Campo actualizado: puntuacionMedia = 5.5
2026-02-10 10:46:36.604 [http-nio-8080-exec-7] DEBUG c.s.r.service.PuntoInteresService - Campo actualizado: abiertoActualmente = false
2026-02-10 10:46:36.608 [http-nio-8080-exec-7] INFO  c.s.r.service.PuntoInteresService - Punto de interés actualizado exitosamente con PATCH: ID 3
2026-02-10 10:46:36.638 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleGeneric(Exception)
2026-02-10 10:46:36.640 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 10:46:36.642 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=500, title=internal-server-error, message=Unexpected error, errors={})]
2026-02-10 10:46:36.645 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.transaction.TransactionSystemException: Could not commit JPA transaction]
2026-02-10 10:46:36.645 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2026-02-10 10:54:52.550 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-02-10 10:54:52.552 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-02-10 10:54:52.559 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-02-10 10:54:57.833 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2026-02-10 10:54:57.866 [main] INFO  com.svalero.rutea.RuteaApplication - Starting RuteaApplication using Java 23 with PID 10676 (C:\Proyects\rutea\target\classes started by borzg in C:\Proyects\rutea)
2026-02-10 10:54:57.867 [main] DEBUG com.svalero.rutea.RuteaApplication - Running with Spring Boot v3.3.3, Spring v6.1.12
2026-02-10 10:54:57.867 [main] INFO  com.svalero.rutea.RuteaApplication - No active profile set, falling back to 1 default profile: "default"
2026-02-10 10:54:58.459 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-02-10 10:54:58.514 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 49 ms. Found 5 JPA repository interfaces.
2026-02-10 10:54:58.853 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-02-10 10:54:58.861 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2026-02-10 10:54:58.863 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-02-10 10:54:58.863 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.28]
2026-02-10 10:54:58.913 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-02-10 10:54:58.913 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1005 ms
2026-02-10 10:54:59.012 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-02-10 10:54:59.050 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.2.Final
2026-02-10 10:54:59.128 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-02-10 10:54:59.368 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-02-10 10:54:59.387 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-02-10 10:54:59.446 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.mariadb.jdbc.Connection@241fc278
2026-02-10 10:54:59.447 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-02-10 10:54:59.469 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MariaDBDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-10 10:55:00.266 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-10 10:55:00.323 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-02-10 10:55:00.735 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-02-10 10:55:00.812 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 36 mappings in 'requestMappingHandlerMapping'
2026-02-10 10:55:00.859 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2026-02-10 10:55:00.881 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-10 10:55:00.902 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-10 10:55:01.021 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2026-02-10 10:55:01.034 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2026-02-10 10:55:01.039 [main] INFO  com.svalero.rutea.RuteaApplication - Started RuteaApplication in 3.562 seconds (process running for 3.988)
2026-02-10 10:55:08.290 [http-nio-8080-exec-3] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-02-10 10:55:08.290 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-02-10 10:55:08.291 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2026-02-10 10:55:08.291 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2026-02-10 10:55:08.291 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2026-02-10 10:55:08.292 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@35bb3fea
2026-02-10 10:55:08.292 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@2d398cfb
2026-02-10 10:55:08.292 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2026-02-10 10:55:08.292 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2026-02-10 10:55:08.299 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/puntos", parameters={}
2026-02-10 10:55:08.307 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#getAll(Long, Boolean, Boolean, String, Float)
2026-02-10 10:55:08.325 [http-nio-8080-exec-3] DEBUG c.s.r.c.PuntoInteresController - GET: /puntos - Filtros aplicados
2026-02-10 10:55:08.334 [http-nio-8080-exec-3] DEBUG c.s.r.service.PuntoInteresService - Buscando puntos de interés con filtros: categoriaId=null, abiertoActualmente=null, nombre=, puntuacionMedia=null
2026-02-10 10:55:08.433 [http-nio-8080-exec-3] INFO  c.s.r.service.PuntoInteresService - Se encontraron 1 puntos de interés
2026-02-10 10:55:08.464 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 10:55:08.468 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[PuntoInteresOutDto(id=3, abiertoActualmente=true, fechaCreacion=2026-02-03T10:00, latitud=41.6488,  (truncated)...]
2026-02-10 10:55:08.504 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-02-10 10:55:19.006 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - PATCH "/puntos/3", parameters={}
2026-02-10 10:55:19.006 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#patch(long, Map)
2026-02-10 10:55:19.033 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [{nombre=Punto de Interés Actualizado, puntuacionMedia=5.5, abiertoActualmente=false}]
2026-02-10 10:55:19.035 [http-nio-8080-exec-1] DEBUG c.s.r.c.PuntoInteresController - PATCH /puntos/3 - Campos: [nombre, puntuacionMedia, abiertoActualmente]
2026-02-10 10:55:19.040 [http-nio-8080-exec-1] INFO  c.s.r.service.PuntoInteresService - Aplicando PATCH a punto de interés ID: 3 con 3 campos
2026-02-10 10:55:19.040 [http-nio-8080-exec-1] DEBUG c.s.r.service.PuntoInteresService - Campos a actualizar: [nombre, puntuacionMedia, abiertoActualmente]
2026-02-10 10:55:19.046 [http-nio-8080-exec-1] DEBUG c.s.r.service.PuntoInteresService - Campo actualizado: nombre = Punto de Interés Actualizado
2026-02-10 10:55:19.046 [http-nio-8080-exec-1] DEBUG c.s.r.service.PuntoInteresService - Campo actualizado: puntuacionMedia = 5.5
2026-02-10 10:55:19.046 [http-nio-8080-exec-1] DEBUG c.s.r.service.PuntoInteresService - Campo actualizado: abiertoActualmente = false
2026-02-10 10:55:19.086 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleGeneric(Exception)
2026-02-10 10:55:19.088 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 10:55:19.090 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=500, title=internal-server-error, message=Unexpected error, errors={})]
2026-02-10 10:55:19.093 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [jakarta.validation.ConstraintViolationException: Validation failed for classes [com.svalero.rutea.domain.PuntoInteres] during update time for groups [jakarta.validation.groups.Default, ]<EOL>List of constraint violations:[<EOL>?ConstraintViolationImpl{interpolatedMessage='puntuacionMedia must be between 0 and 5', propertyPath=puntuacionMedia, rootBeanClass=class com.svalero.rutea.domain.PuntoInteres, messageTemplate='puntuacionMedia must be between 0 and 5'}<EOL>]]
2026-02-10 10:55:19.093 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2026-02-10 10:56:30.480 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - PATCH "/puntos/3", parameters={}
2026-02-10 10:56:30.481 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#patch(long, Map)
2026-02-10 10:56:30.482 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [{nombre=Punto de Interés Actualizado, puntuacionMedia=4.9, abiertoActualmente=false}]
2026-02-10 10:56:30.482 [http-nio-8080-exec-6] DEBUG c.s.r.c.PuntoInteresController - PATCH /puntos/3 - Campos: [nombre, puntuacionMedia, abiertoActualmente]
2026-02-10 10:56:30.485 [http-nio-8080-exec-6] INFO  c.s.r.service.PuntoInteresService - Aplicando PATCH a punto de interés ID: 3 con 3 campos
2026-02-10 10:56:30.485 [http-nio-8080-exec-6] DEBUG c.s.r.service.PuntoInteresService - Campos a actualizar: [nombre, puntuacionMedia, abiertoActualmente]
2026-02-10 10:56:30.487 [http-nio-8080-exec-6] DEBUG c.s.r.service.PuntoInteresService - Campo actualizado: nombre = Punto de Interés Actualizado
2026-02-10 10:56:30.487 [http-nio-8080-exec-6] DEBUG c.s.r.service.PuntoInteresService - Campo actualizado: puntuacionMedia = 4.9
2026-02-10 10:56:30.487 [http-nio-8080-exec-6] DEBUG c.s.r.service.PuntoInteresService - Campo actualizado: abiertoActualmente = false
2026-02-10 10:56:30.498 [http-nio-8080-exec-6] INFO  c.s.r.service.PuntoInteresService - Punto de interés actualizado exitosamente con PATCH: ID 3
2026-02-10 10:56:30.504 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 10:56:30.504 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [PuntoInteresOutDto(id=3, abiertoActualmente=false, fechaCreacion=2026-02-03T10:00, latitud=41.6488,  (truncated)...]
2026-02-10 10:56:30.505 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-02-10 10:57:25.761 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/resenas", parameters={}
2026-02-10 10:57:25.761 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#getAll(Boolean, Integer, Integer)
2026-02-10 10:57:25.763 [http-nio-8080-exec-4] DEBUG c.s.r.controller.ResenaController - GET /resenas - Filtros: editada=null, likes=null, valoracion=null
2026-02-10 10:57:25.763 [http-nio-8080-exec-4] DEBUG c.s.rutea.service.ResenaService - Buscando reseñas con filtros: editada=null, likes=null, valoracion=null
2026-02-10 10:57:25.770 [http-nio-8080-exec-4] INFO  c.s.rutea.service.ResenaService - Se encontraron 0 reseñas
2026-02-10 10:57:25.771 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 10:57:25.772 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2026-02-10 10:57:25.772 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-02-10 10:57:35.632 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/resenas", parameters={}
2026-02-10 10:57:35.633 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#add(ResenaInDto)
2026-02-10 10:57:35.655 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ResenaInDto(comentario=Pésimo, editada=true, fechaPublicacion=2026-02-05, likes=10, titulo=Malísima, (truncated)...]
2026-02-10 10:57:35.666 [http-nio-8080-exec-7] DEBUG c.s.r.controller.ResenaController - POST /resenas - valoracion: 1
2026-02-10 10:57:35.666 [http-nio-8080-exec-7] INFO  c.s.rutea.service.ResenaService - Creando nueva reseña para punto ID: 1
2026-02-10 10:57:35.671 [http-nio-8080-exec-7] ERROR c.s.rutea.service.ResenaService - Punto de interés no encontrado: ID 1
2026-02-10 10:57:35.671 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.ResenaController#handleException(PuntoInteresNotFoundException)
2026-02-10 10:57:35.671 [http-nio-8080-exec-7] WARN  c.s.r.controller.ResenaController - Punto de interés no encontrado: null
2026-02-10 10:57:35.672 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 10:57:35.672 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El punto de interés no existe, errors={})]
2026-02-10 10:57:35.673 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.PuntoInteresNotFoundException]
2026-02-10 10:57:35.673 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2026-02-10 10:57:50.024 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/usuarios", parameters={}
2026-02-10 10:57:50.024 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#getAll(Boolean, Integer, String)
2026-02-10 10:57:50.025 [http-nio-8080-exec-8] DEBUG c.s.r.controller.UsuarioController - GET /usuarios - Filtros: premium=null, nivelExperiencia=null, username=
2026-02-10 10:57:50.025 [http-nio-8080-exec-8] DEBUG c.s.rutea.service.UsuarioService - Buscando usuarios con filtros: premium=null, nivelExperiencia=null, username=
2026-02-10 10:57:50.031 [http-nio-8080-exec-8] INFO  c.s.rutea.service.UsuarioService - Se encontraron 1 usuarios
2026-02-10 10:57:50.033 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 10:57:50.035 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UsuarioOutDto(id=1, email=borja@example.com, esPremium=true, fechaRegistro=2026-02-08, nivelExperie (truncated)...]
2026-02-10 10:57:50.037 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-02-10 10:57:55.516 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/resenas", parameters={}
2026-02-10 10:57:55.516 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#add(ResenaInDto)
2026-02-10 10:57:55.517 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ResenaInDto(comentario=Pésimo, editada=true, fechaPublicacion=2026-02-05, likes=10, titulo=Malísima, (truncated)...]
2026-02-10 10:57:55.518 [http-nio-8080-exec-9] DEBUG c.s.r.controller.ResenaController - POST /resenas - valoracion: 1
2026-02-10 10:57:55.518 [http-nio-8080-exec-9] INFO  c.s.rutea.service.ResenaService - Creando nueva reseña para punto ID: 3
2026-02-10 10:57:55.551 [http-nio-8080-exec-9] INFO  c.s.rutea.service.ResenaService - Reseña creada exitosamente con ID: 1
2026-02-10 10:57:55.555 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 10:57:55.557 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ResenaOutDto(id=1, comentario=Pésimo, editada=true, fechaPublicacion=2026-02-05, likes=10, titulo=Ma (truncated)...]
2026-02-10 10:57:55.558 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2026-02-10 10:58:54.051 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/resenas", parameters={}
2026-02-10 10:58:54.051 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#getAll(Boolean, Integer, Integer)
2026-02-10 10:58:54.052 [http-nio-8080-exec-10] DEBUG c.s.r.controller.ResenaController - GET /resenas - Filtros: editada=null, likes=null, valoracion=null
2026-02-10 10:58:54.052 [http-nio-8080-exec-10] DEBUG c.s.rutea.service.ResenaService - Buscando reseñas con filtros: editada=null, likes=null, valoracion=null
2026-02-10 10:58:54.061 [http-nio-8080-exec-10] INFO  c.s.rutea.service.ResenaService - Se encontraron 1 reseñas
2026-02-10 10:58:54.062 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 10:58:54.062 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ResenaOutDto(id=1, comentario=Pésimo, editada=true, fechaPublicacion=2026-02-05, likes=10, titulo=M (truncated)...]
2026-02-10 10:58:54.063 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-02-10 10:59:46.850 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/resenas", parameters={}
2026-02-10 10:59:46.850 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#getAll(Boolean, Integer, Integer)
2026-02-10 10:59:46.851 [http-nio-8080-exec-2] DEBUG c.s.r.controller.ResenaController - GET /resenas - Filtros: editada=null, likes=null, valoracion=null
2026-02-10 10:59:46.851 [http-nio-8080-exec-2] DEBUG c.s.rutea.service.ResenaService - Buscando reseñas con filtros: editada=null, likes=null, valoracion=null
2026-02-10 10:59:46.859 [http-nio-8080-exec-2] INFO  c.s.rutea.service.ResenaService - Se encontraron 1 reseñas
2026-02-10 10:59:46.860 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 10:59:46.860 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ResenaOutDto(id=1, comentario=Pésimo, editada=true, fechaPublicacion=2026-02-05, likes=10, titulo=M (truncated)...]
2026-02-10 10:59:46.861 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-02-10 11:00:45.368 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - PATCH "/resenas/1", parameters={}
2026-02-10 11:00:45.369 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#patch(long, Map)
2026-02-10 11:00:45.370 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [{comentario=No está mal, titulo=Justita, valoracion=5}]
2026-02-10 11:00:45.371 [http-nio-8080-exec-3] DEBUG c.s.r.controller.ResenaController - PATCH /resenas/1 - Campos: [comentario, titulo, valoracion]
2026-02-10 11:00:45.371 [http-nio-8080-exec-3] INFO  c.s.rutea.service.ResenaService - Aplicando PATCH a reseña ID: 1 con 3 campos
2026-02-10 11:00:45.371 [http-nio-8080-exec-3] DEBUG c.s.rutea.service.ResenaService - Campos a actualizar: [comentario, titulo, valoracion]
2026-02-10 11:00:45.382 [http-nio-8080-exec-3] DEBUG c.s.rutea.service.ResenaService - Campo actualizado: comentario = No está mal
2026-02-10 11:00:45.382 [http-nio-8080-exec-3] DEBUG c.s.rutea.service.ResenaService - Campo actualizado: titulo = Justita
2026-02-10 11:00:45.383 [http-nio-8080-exec-3] DEBUG c.s.rutea.service.ResenaService - Campo actualizado: valoracion = 5
2026-02-10 11:00:45.390 [http-nio-8080-exec-3] INFO  c.s.rutea.service.ResenaService - Reseña actualizada exitosamente con PATCH: ID 1
2026-02-10 11:00:45.391 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:00:45.391 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ResenaOutDto(id=1, comentario=No está mal, editada=true, fechaPublicacion=2026-02-05, likes=10, titu (truncated)...]
2026-02-10 11:00:45.391 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-02-10 11:00:55.861 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/resenas", parameters={}
2026-02-10 11:00:55.861 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#getAll(Boolean, Integer, Integer)
2026-02-10 11:00:55.862 [http-nio-8080-exec-1] DEBUG c.s.r.controller.ResenaController - GET /resenas - Filtros: editada=null, likes=null, valoracion=null
2026-02-10 11:00:55.862 [http-nio-8080-exec-1] DEBUG c.s.rutea.service.ResenaService - Buscando reseñas con filtros: editada=null, likes=null, valoracion=null
2026-02-10 11:00:55.870 [http-nio-8080-exec-1] INFO  c.s.rutea.service.ResenaService - Se encontraron 1 reseñas
2026-02-10 11:00:55.871 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:00:55.871 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ResenaOutDto(id=1, comentario=No está mal, editada=true, fechaPublicacion=2026-02-05, likes=10, tit (truncated)...]
2026-02-10 11:00:55.872 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-02-10 11:01:17.997 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/rutas", parameters={}
2026-02-10 11:01:17.997 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#getAll(String, Boolean, String)
2026-02-10 11:01:17.998 [http-nio-8080-exec-5] DEBUG c.s.rutea.controller.RutaController - GET /rutas - Filtros: dificultad=, publica=null, titulo=
2026-02-10 11:01:17.998 [http-nio-8080-exec-5] DEBUG c.svalero.rutea.service.RutaService - Buscando rutas con filtros: dificultad=, publica=null, titulo=
2026-02-10 11:01:18.038 [http-nio-8080-exec-5] INFO  c.svalero.rutea.service.RutaService - Se encontraron 1 rutas
2026-02-10 11:01:18.047 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:01:18.049 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[RutaOutDto(id=1, dificultad=Media, distanciaKm=5.0, duracionMinutos=120, fechaRealizacion=2026-02-0 (truncated)...]
2026-02-10 11:01:18.052 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-02-10 11:03:50.176 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - PATCH "/rutas/1", parameters={}
2026-02-10 11:03:50.177 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#patch(long, Map)
2026-02-10 11:03:50.178 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [{distanciaKm=5.5, duracionMinutos=180, publica=false}]
2026-02-10 11:03:50.179 [http-nio-8080-exec-4] DEBUG c.s.rutea.controller.RutaController - PATCH /rutas/1 - Campos: [distanciaKm, duracionMinutos, publica]
2026-02-10 11:03:50.179 [http-nio-8080-exec-4] INFO  c.svalero.rutea.service.RutaService - Aplicando PATCH a ruta ID: 1 con 3 campos
2026-02-10 11:03:50.179 [http-nio-8080-exec-4] DEBUG c.svalero.rutea.service.RutaService - Campos a actualizar: [distanciaKm, duracionMinutos, publica]
2026-02-10 11:03:50.187 [http-nio-8080-exec-4] DEBUG c.svalero.rutea.service.RutaService - Campo actualizado: distanciaKm = 5.5
2026-02-10 11:03:50.187 [http-nio-8080-exec-4] DEBUG c.svalero.rutea.service.RutaService - Campo actualizado: duracionMinutos = 180
2026-02-10 11:03:50.187 [http-nio-8080-exec-4] DEBUG c.svalero.rutea.service.RutaService - Campo actualizado: publica = false
2026-02-10 11:03:50.195 [http-nio-8080-exec-4] INFO  c.svalero.rutea.service.RutaService - Ruta actualizada exitosamente con PATCH: ID 1
2026-02-10 11:03:50.198 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:03:50.199 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [RutaOutDto(id=1, dificultad=Media, distanciaKm=5.5, duracionMinutos=180, fechaRealizacion=2026-02-08 (truncated)...]
2026-02-10 11:03:50.200 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-02-10 11:03:59.903 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/rutas", parameters={}
2026-02-10 11:03:59.904 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#getAll(String, Boolean, String)
2026-02-10 11:03:59.904 [http-nio-8080-exec-8] DEBUG c.s.rutea.controller.RutaController - GET /rutas - Filtros: dificultad=, publica=null, titulo=
2026-02-10 11:03:59.904 [http-nio-8080-exec-8] DEBUG c.svalero.rutea.service.RutaService - Buscando rutas con filtros: dificultad=, publica=null, titulo=
2026-02-10 11:03:59.913 [http-nio-8080-exec-8] INFO  c.svalero.rutea.service.RutaService - Se encontraron 1 rutas
2026-02-10 11:03:59.915 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:03:59.915 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[RutaOutDto(id=1, dificultad=Media, distanciaKm=5.5, duracionMinutos=180, fechaRealizacion=2026-02-0 (truncated)...]
2026-02-10 11:03:59.916 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-02-10 11:04:11.940 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/usuarios", parameters={}
2026-02-10 11:04:11.940 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#getAll(Boolean, Integer, String)
2026-02-10 11:04:11.941 [http-nio-8080-exec-9] DEBUG c.s.r.controller.UsuarioController - GET /usuarios - Filtros: premium=null, nivelExperiencia=null, username=
2026-02-10 11:04:11.941 [http-nio-8080-exec-9] DEBUG c.s.rutea.service.UsuarioService - Buscando usuarios con filtros: premium=null, nivelExperiencia=null, username=
2026-02-10 11:04:11.951 [http-nio-8080-exec-9] INFO  c.s.rutea.service.UsuarioService - Se encontraron 1 usuarios
2026-02-10 11:04:11.952 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:04:11.952 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UsuarioOutDto(id=1, email=borja@example.com, esPremium=true, fechaRegistro=2026-02-08, nivelExperie (truncated)...]
2026-02-10 11:04:11.952 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-02-10 11:05:47.738 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - PATCH "/usuarios/1", parameters={}
2026-02-10 11:05:47.739 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#patch(long, Map)
2026-02-10 11:05:47.740 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [{email=borjazg@example.com, esPremium=false, username=Borja ZG}]
2026-02-10 11:05:47.740 [http-nio-8080-exec-2] DEBUG c.s.r.controller.UsuarioController - PATCH /usuarios/1 - Campos: [email, esPremium, username]
2026-02-10 11:05:47.740 [http-nio-8080-exec-2] INFO  c.s.rutea.service.UsuarioService - Aplicando PATCH a usuario ID: 1 con 3 campos
2026-02-10 11:05:47.740 [http-nio-8080-exec-2] DEBUG c.s.rutea.service.UsuarioService - Campos a actualizar: [email, esPremium, username]
2026-02-10 11:05:47.748 [http-nio-8080-exec-2] DEBUG c.s.rutea.service.UsuarioService - Campo actualizado: email = borjazg@example.com
2026-02-10 11:05:47.749 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleGeneric(Exception)
2026-02-10 11:05:47.749 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:05:47.749 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=500, title=internal-server-error, message=Unexpected error, errors={})]
2026-02-10 11:05:47.749 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: Can not set boolean field com.svalero.rutea.domain.Usuario.esPremium to java.lang.String]
2026-02-10 11:05:47.749 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2026-02-10 11:06:11.922 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - PATCH "/usuarios/1", parameters={}
2026-02-10 11:06:11.923 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#patch(long, Map)
2026-02-10 11:06:11.923 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [{email=borjazg@example.com, esPremium=true, username=Borja ZG}]
2026-02-10 11:06:11.924 [http-nio-8080-exec-1] DEBUG c.s.r.controller.UsuarioController - PATCH /usuarios/1 - Campos: [email, esPremium, username]
2026-02-10 11:06:11.924 [http-nio-8080-exec-1] INFO  c.s.rutea.service.UsuarioService - Aplicando PATCH a usuario ID: 1 con 3 campos
2026-02-10 11:06:11.924 [http-nio-8080-exec-1] DEBUG c.s.rutea.service.UsuarioService - Campos a actualizar: [email, esPremium, username]
2026-02-10 11:06:11.930 [http-nio-8080-exec-1] DEBUG c.s.rutea.service.UsuarioService - Campo actualizado: email = borjazg@example.com
2026-02-10 11:06:11.930 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleGeneric(Exception)
2026-02-10 11:06:11.931 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:06:11.931 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=500, title=internal-server-error, message=Unexpected error, errors={})]
2026-02-10 11:06:11.931 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: Can not set boolean field com.svalero.rutea.domain.Usuario.esPremium to java.lang.String]
2026-02-10 11:06:11.932 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2026-02-10 11:06:16.747 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - PATCH "/usuarios/1", parameters={}
2026-02-10 11:06:16.748 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#patch(long, Map)
2026-02-10 11:06:16.749 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [{email=borjazg@example.com, esPremium=true, username=Borja}]
2026-02-10 11:06:16.749 [http-nio-8080-exec-7] DEBUG c.s.r.controller.UsuarioController - PATCH /usuarios/1 - Campos: [email, esPremium, username]
2026-02-10 11:06:16.749 [http-nio-8080-exec-7] INFO  c.s.rutea.service.UsuarioService - Aplicando PATCH a usuario ID: 1 con 3 campos
2026-02-10 11:06:16.749 [http-nio-8080-exec-7] DEBUG c.s.rutea.service.UsuarioService - Campos a actualizar: [email, esPremium, username]
2026-02-10 11:06:16.754 [http-nio-8080-exec-7] DEBUG c.s.rutea.service.UsuarioService - Campo actualizado: email = borjazg@example.com
2026-02-10 11:06:16.754 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleGeneric(Exception)
2026-02-10 11:06:16.754 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:06:16.754 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=500, title=internal-server-error, message=Unexpected error, errors={})]
2026-02-10 11:06:16.754 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: Can not set boolean field com.svalero.rutea.domain.Usuario.esPremium to java.lang.String]
2026-02-10 11:06:16.754 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2026-02-10 11:16:38.418 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-02-10 11:16:38.418 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-02-10 11:16:38.428 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-02-10 11:49:16.052 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2026-02-10 11:49:16.084 [main] INFO  c.s.r.c.PuntoInteresControllerTest - Starting PuntoInteresControllerTest using Java 23 with PID 23060 (started by borzg in C:\Proyects\rutea)
2026-02-10 11:49:16.085 [main] DEBUG c.s.r.c.PuntoInteresControllerTest - Running with Spring Boot v3.3.3, Spring v6.1.12
2026-02-10 11:49:16.086 [main] INFO  c.s.r.c.PuntoInteresControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-10 11:49:16.099 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@18a645fd
2026-02-10 11:49:17.804 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 8 mappings in 'requestMappingHandlerMapping'
2026-02-10 11:49:17.960 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-10 11:49:18.010 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-10 11:49:18.041 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-10 11:49:18.097 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2026-02-10 11:49:18.097 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2026-02-10 11:49:18.099 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
2026-02-10 11:49:18.129 [main] INFO  c.s.r.c.PuntoInteresControllerTest - Started PuntoInteresControllerTest in 2.484 seconds (process running for 3.731)
2026-02-10 11:49:18.264 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#getAll(Long, Boolean, Boolean, String, Float)
2026-02-10 11:49:18.311 [main] DEBUG c.s.r.c.PuntoInteresController - GET: /puntos - Filtros aplicados
2026-02-10 11:49:18.340 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:18.358 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[PuntoInteresOutDto(id=1, abiertoActualmente=false, fechaCreacion=null, latitud=0.0, longitud=0.0, n (truncated)...]
2026-02-10 11:49:18.462 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#delete(long)
2026-02-10 11:49:18.464 [main] DEBUG c.s.r.c.PuntoInteresController - DELETE: /puntos/1
2026-02-10 11:49:18.466 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:18.466 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2026-02-10 11:49:18.492 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#add(PuntoInteresInDto)
2026-02-10 11:49:18.526 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [PuntoInteresInDto(abiertoActualmente=true, fechaCreacion=null, latitud=200.0, longitud=-999.0, nombr (truncated)...]
2026-02-10 11:49:18.607 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.PuntoInteresController#handleException(MethodArgumentNotValidException)
2026-02-10 11:49:18.609 [main] WARN  c.s.r.c.PuntoInteresController - Error de validación en request
2026-02-10 11:49:18.610 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:18.612 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={puntuacionMedia=puntuac (truncated)...]
2026-02-10 11:49:18.617 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.PuntoInteresOutDto> com.svalero.rutea.controller.PuntoInteresController.add(com.svalero.rutea.dto.PuntoInteresInDto) throws com.svalero.rutea.exception.CategoriaNotFoundException with 5 errors: [Field error in object 'puntoInteresInDto' on field 'puntuacionMedia': rejected value [6.0]; codes [DecimalMax.puntoInteresInDto.puntuacionMedia,DecimalMax.puntuacionMedia,DecimalMax.float,DecimalMax]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [puntoInteresInDto.puntuacionMedia,puntuacionMedia]; arguments []; default message [puntuacionMedia],true,5.0]; default message [puntuacionMedia must be between 0 and 5]] [Field error in object 'puntoInteresInDto' on field 'nombre': rejected value []; codes [NotBlank.puntoInteresInDto.nombre,NotBlank.nombre,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [puntoInteresInDto.nombre,nombre]; arguments []; default message [nombre]]; default message [nombre is mandatory]] [Field error in object 'puntoInteresInDto' on field 'categoriaId': rejected value [null]; codes [NotNull.puntoInteresInDto.categoriaId,NotNull.categoriaId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [puntoInteresInDto.categoriaId,categoriaId]; arguments []; default message [categoriaId]]; default message [categoriaId is mandatory]] [Field error in object 'puntoInteresInDto' on field 'longitud': rejected value [-999.0]; codes [DecimalMin.puntoInteresInDto.longitud,DecimalMin.longitud,DecimalMin.double,DecimalMin]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [puntoInteresInDto.longitud,longitud]; arguments []; default message [longitud],true,-180.0]; default message [longitud must be between -180 and 180]] [Field error in object 'puntoInteresInDto' on field 'latitud': rejected value [200.0]; codes [DecimalMax.puntoInteresInDto.latitud,DecimalMax.latitud,DecimalMax.double,DecimalMax]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [puntoInteresInDto.latitud,latitud]; arguments []; default message [latitud],true,90.0]; default message [latitud must be between -90 and 90]] ]
2026-02-10 11:49:18.624 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#modify(long, PuntoInteresInDto)
2026-02-10 11:49:18.626 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [PuntoInteresInDto(abiertoActualmente=true, fechaCreacion=null, latitud=1000.0, longitud=0.0, nombre= (truncated)...]
2026-02-10 11:49:18.627 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.PuntoInteresController#handleException(MethodArgumentNotValidException)
2026-02-10 11:49:18.627 [main] WARN  c.s.r.c.PuntoInteresController - Error de validación en request
2026-02-10 11:49:18.627 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:18.627 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={puntuacionMedia=puntuac (truncated)...]
2026-02-10 11:49:18.628 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [1] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.PuntoInteresOutDto> com.svalero.rutea.controller.PuntoInteresController.modify(long,com.svalero.rutea.dto.PuntoInteresInDto) throws com.svalero.rutea.exception.PuntoInteresNotFoundException,com.svalero.rutea.exception.CategoriaNotFoundException with 4 errors: [Field error in object 'puntoInteresInDto' on field 'puntuacionMedia': rejected value [-1.0]; codes [DecimalMin.puntoInteresInDto.puntuacionMedia,DecimalMin.puntuacionMedia,DecimalMin.float,DecimalMin]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [puntoInteresInDto.puntuacionMedia,puntuacionMedia]; arguments []; default message [puntuacionMedia],true,0.0]; default message [puntuacionMedia must be between 0 and 5]] [Field error in object 'puntoInteresInDto' on field 'latitud': rejected value [1000.0]; codes [DecimalMax.puntoInteresInDto.latitud,DecimalMax.latitud,DecimalMax.double,DecimalMax]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [puntoInteresInDto.latitud,latitud]; arguments []; default message [latitud],true,90.0]; default message [latitud must be between -90 and 90]] [Field error in object 'puntoInteresInDto' on field 'categoriaId': rejected value [null]; codes [NotNull.puntoInteresInDto.categoriaId,NotNull.categoriaId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [puntoInteresInDto.categoriaId,categoriaId]; arguments []; default message [categoriaId]]; default message [categoriaId is mandatory]] [Field error in object 'puntoInteresInDto' on field 'nombre': rejected value []; codes [NotBlank.puntoInteresInDto.nombre,NotBlank.nombre,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [puntoInteresInDto.nombre,nombre]; arguments []; default message [nombre]]; default message [nombre is mandatory]] ]
2026-02-10 11:49:18.633 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#add(PuntoInteresInDto)
2026-02-10 11:49:18.636 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [PuntoInteresInDto(abiertoActualmente=true, fechaCreacion=2026-02-10T11:49:18.631847900, latitud=41.0 (truncated)...]
2026-02-10 11:49:18.636 [main] DEBUG c.s.r.c.PuntoInteresController - POST: /puntos/ - Parque
2026-02-10 11:49:18.639 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:18.639 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [PuntoInteresOutDto(id=10, abiertoActualmente=true, fechaCreacion=2026-02-10T11:49:18.631847900, lati (truncated)...]
2026-02-10 11:49:18.644 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#modify(long, PuntoInteresInDto)
2026-02-10 11:49:18.644 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [PuntoInteresInDto(abiertoActualmente=false, fechaCreacion=null, latitud=40.0, longitud=-0.7, nombre= (truncated)...]
2026-02-10 11:49:18.645 [main] DEBUG c.s.r.c.PuntoInteresController - PUT: /puntos/1
2026-02-10 11:49:18.645 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:18.645 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [PuntoInteresOutDto(id=1, abiertoActualmente=false, fechaCreacion=null, latitud=40.0, longitud=-0.7,  (truncated)...]
2026-02-10 11:49:18.650 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#get(long)
2026-02-10 11:49:18.653 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.PuntoInteresOutDto> com.svalero.rutea.controller.PuntoInteresController.get(long) throws com.svalero.rutea.exception.PuntoInteresNotFoundException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"
2026-02-10 11:49:18.655 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:49:18.655 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:18.655 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={id=Invalid value: abc})]
2026-02-10 11:49:18.656 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"]
2026-02-10 11:49:18.662 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#modify(long, PuntoInteresInDto)
2026-02-10 11:49:18.662 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [PuntoInteresInDto(abiertoActualmente=true, fechaCreacion=null, latitud=41.0, longitud=-0.8, nombre=P (truncated)...]
2026-02-10 11:49:18.662 [main] DEBUG c.s.r.c.PuntoInteresController - PUT: /puntos/1
2026-02-10 11:49:18.664 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.PuntoInteresController#handleException(CategoriaNotFoundException)
2026-02-10 11:49:18.664 [main] WARN  c.s.r.c.PuntoInteresController - Categoría no encontrada: null
2026-02-10 11:49:18.664 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:18.664 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=La categoría no existe, errors={})]
2026-02-10 11:49:18.664 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.CategoriaNotFoundException]
2026-02-10 11:49:18.669 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#add(PuntoInteresInDto)
2026-02-10 11:49:18.669 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [PuntoInteresInDto(abiertoActualmente=true, fechaCreacion=null, latitud=41.0, longitud=-0.8, nombre=P (truncated)...]
2026-02-10 11:49:18.669 [main] DEBUG c.s.r.c.PuntoInteresController - POST: /puntos/ - Parque
2026-02-10 11:49:18.670 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.PuntoInteresController#handleException(CategoriaNotFoundException)
2026-02-10 11:49:18.670 [main] WARN  c.s.r.c.PuntoInteresController - Categoría no encontrada: null
2026-02-10 11:49:18.670 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:18.670 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=La categoría no existe, errors={})]
2026-02-10 11:49:18.670 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.CategoriaNotFoundException]
2026-02-10 11:49:18.675 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#delete(long)
2026-02-10 11:49:18.675 [main] DEBUG c.s.r.c.PuntoInteresController - DELETE: /puntos/99
2026-02-10 11:49:18.675 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.PuntoInteresController#handleException(PuntoInteresNotFoundException)
2026-02-10 11:49:18.675 [main] WARN  c.s.r.c.PuntoInteresController - Punto de interés no encontrado: null
2026-02-10 11:49:18.677 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:18.677 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El punto de interés no existe, errors={})]
2026-02-10 11:49:18.677 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.PuntoInteresNotFoundException]
2026-02-10 11:49:18.678 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#delete(long)
2026-02-10 11:49:18.680 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.svalero.rutea.controller.PuntoInteresController.delete(long) throws com.svalero.rutea.exception.PuntoInteresNotFoundException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"
2026-02-10 11:49:18.680 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:49:18.680 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:18.680 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={id=Invalid value: abc})]
2026-02-10 11:49:18.680 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"]
2026-02-10 11:49:18.683 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#get(long)
2026-02-10 11:49:18.684 [main] DEBUG c.s.r.c.PuntoInteresController - GET: /puntos/99
2026-02-10 11:49:18.685 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.PuntoInteresController#handleException(PuntoInteresNotFoundException)
2026-02-10 11:49:18.685 [main] WARN  c.s.r.c.PuntoInteresController - Punto de interés no encontrado: null
2026-02-10 11:49:18.685 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:18.685 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El punto de interés no existe, errors={})]
2026-02-10 11:49:18.685 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.PuntoInteresNotFoundException]
2026-02-10 11:49:18.689 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#getAll(Long, Boolean, Boolean, String, Float)
2026-02-10 11:49:18.691 [main] DEBUG c.s.r.c.PuntoInteresController - GET: /puntos - Filtros aplicados
2026-02-10 11:49:18.691 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:18.691 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[PuntoInteresOutDto(id=10, abiertoActualmente=true, fechaCreacion=2026-02-10T11:49:18.689913, latitu (truncated)...]
2026-02-10 11:49:18.696 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#get(long)
2026-02-10 11:49:18.696 [main] DEBUG c.s.r.c.PuntoInteresController - GET: /puntos/1
2026-02-10 11:49:18.696 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:18.696 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [PuntoInteresOutDto(id=1, abiertoActualmente=true, fechaCreacion=null, latitud=41.0, longitud=-0.8, n (truncated)...]
2026-02-10 11:49:18.699 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#getAll(Long, Boolean, Boolean, String, Float)
2026-02-10 11:49:18.700 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [4] in public org.springframework.http.ResponseEntity<java.util.List<com.svalero.rutea.dto.PuntoInteresOutDto>> com.svalero.rutea.controller.PuntoInteresController.getAll(java.lang.Long,java.lang.Boolean,java.lang.Boolean,java.lang.String,java.lang.Float): Failed to convert value of type 'java.lang.String' to required type 'java.lang.Float'; For input string: "abc"
2026-02-10 11:49:18.700 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:49:18.700 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:18.700 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={puntuacionMedia=Invalid (truncated)...]
2026-02-10 11:49:18.700 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Float'; For input string: "abc"]
2026-02-10 11:49:18.705 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#modify(long, PuntoInteresInDto)
2026-02-10 11:49:18.705 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [PuntoInteresInDto(abiertoActualmente=true, fechaCreacion=null, latitud=41.0, longitud=-0.8, nombre=P (truncated)...]
2026-02-10 11:49:18.705 [main] DEBUG c.s.r.c.PuntoInteresController - PUT: /puntos/99
2026-02-10 11:49:18.705 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.PuntoInteresController#handleException(PuntoInteresNotFoundException)
2026-02-10 11:49:18.707 [main] WARN  c.s.r.c.PuntoInteresController - Punto de interés no encontrado: null
2026-02-10 11:49:18.707 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:18.707 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El punto de interés no existe, errors={})]
2026-02-10 11:49:18.707 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.PuntoInteresNotFoundException]
2026-02-10 11:49:18.711 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.svalero.rutea.controller.UsuarioControllerTest]: UsuarioControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-02-10 11:49:18.722 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.svalero.rutea.RuteaApplication for test class com.svalero.rutea.controller.UsuarioControllerTest
2026-02-10 11:49:18.755 [main] INFO  c.s.r.c.UsuarioControllerTest - Starting UsuarioControllerTest using Java 23 with PID 23060 (started by borzg in C:\Proyects\rutea)
2026-02-10 11:49:18.755 [main] DEBUG c.s.r.c.UsuarioControllerTest - Running with Spring Boot v3.3.3, Spring v6.1.12
2026-02-10 11:49:18.755 [main] INFO  c.s.r.c.UsuarioControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-10 11:49:18.758 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@39c5a105
2026-02-10 11:49:18.956 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 8 mappings in 'requestMappingHandlerMapping'
2026-02-10 11:49:18.988 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-10 11:49:18.994 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-10 11:49:18.998 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-10 11:49:19.002 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2026-02-10 11:49:19.002 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2026-02-10 11:49:19.004 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2026-02-10 11:49:19.009 [main] INFO  c.s.r.c.UsuarioControllerTest - Started UsuarioControllerTest in 0.284 seconds (process running for 4.612)
2026-02-10 11:49:19.013 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#delete(long)
2026-02-10 11:49:19.017 [main] DEBUG c.s.r.controller.UsuarioController - DELETE /usuarios/1
2026-02-10 11:49:19.020 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:19.020 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2026-02-10 11:49:19.033 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#modify(long, UsuarioInDto)
2026-02-10 11:49:19.044 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UsuarioInDto(email=b@b.com, esPremium=false, fechaRegistro=2026-02-10, nivelExperiencia=5, password= (truncated)...]
2026-02-10 11:49:19.072 [main] DEBUG c.s.r.controller.UsuarioController - PUT /usuarios/99
2026-02-10 11:49:19.073 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.UsuarioController#handleException(UsuarioNotFoundException)
2026-02-10 11:49:19.073 [main] WARN  c.s.r.controller.UsuarioController - Usuario no encontrado: null
2026-02-10 11:49:19.077 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:19.077 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El usuario no existe, errors={})]
2026-02-10 11:49:19.078 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.UsuarioNotFoundException]
2026-02-10 11:49:19.081 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#add(UsuarioInDto)
2026-02-10 11:49:19.083 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UsuarioInDto(email=no-es-email, esPremium=false, fechaRegistro=null, nivelExperiencia=-1, password=1 (truncated)...]
2026-02-10 11:49:19.084 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.UsuarioController#handleException(MethodArgumentNotValidException)
2026-02-10 11:49:19.085 [main] WARN  c.s.r.controller.UsuarioController - Error de validación en request
2026-02-10 11:49:19.085 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:19.085 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={password=password lengt (truncated)...]
2026-02-10 11:49:19.086 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.UsuarioOutDto> com.svalero.rutea.controller.UsuarioController.add(com.svalero.rutea.dto.UsuarioInDto) with 5 errors: [Field error in object 'usuarioInDto' on field 'email': rejected value [no-es-email]; codes [Email.usuarioInDto.email,Email.email,Email.java.lang.String,Email]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.email,email]; arguments []; default message [email],[Ljakarta.validation.constraints.Pattern$Flag;@61c58320,.*]; default message [email must be valid]] [Field error in object 'usuarioInDto' on field 'username': rejected value []; codes [NotBlank.usuarioInDto.username,NotBlank.username,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.username,username]; arguments []; default message [username]]; default message [username is mandatory]] [Field error in object 'usuarioInDto' on field 'password': rejected value [123]; codes [Size.usuarioInDto.password,Size.password,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.password,password]; arguments []; default message [password],255,6]; default message [password length must be between 6 and 255]] [Field error in object 'usuarioInDto' on field 'fechaRegistro': rejected value [null]; codes [NotNull.usuarioInDto.fechaRegistro,NotNull.fechaRegistro,NotNull.java.time.LocalDate,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.fechaRegistro,fechaRegistro]; arguments []; default message [fechaRegistro]]; default message [fechaRegistro is mandatory]] [Field error in object 'usuarioInDto' on field 'nivelExperiencia': rejected value [-1]; codes [Min.usuarioInDto.nivelExperiencia,Min.nivelExperiencia,Min.int,Min]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.nivelExperiencia,nivelExperiencia]; arguments []; default message [nivelExperiencia],0]; default message [nivelExperiencia must be >= 0]] ]
2026-02-10 11:49:19.090 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#modify(long, UsuarioInDto)
2026-02-10 11:49:19.092 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UsuarioInDto(email=, esPremium=false, fechaRegistro=null, nivelExperiencia=-2, password=1, username= (truncated)...]
2026-02-10 11:49:19.093 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.UsuarioController#handleException(MethodArgumentNotValidException)
2026-02-10 11:49:19.093 [main] WARN  c.s.r.controller.UsuarioController - Error de validación en request
2026-02-10 11:49:19.093 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:19.093 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={password=password lengt (truncated)...]
2026-02-10 11:49:19.095 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [1] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.UsuarioOutDto> com.svalero.rutea.controller.UsuarioController.modify(long,com.svalero.rutea.dto.UsuarioInDto) throws com.svalero.rutea.exception.UsuarioNotFoundException with 5 errors: [Field error in object 'usuarioInDto' on field 'nivelExperiencia': rejected value [-2]; codes [Min.usuarioInDto.nivelExperiencia,Min.nivelExperiencia,Min.int,Min]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.nivelExperiencia,nivelExperiencia]; arguments []; default message [nivelExperiencia],0]; default message [nivelExperiencia must be >= 0]] [Field error in object 'usuarioInDto' on field 'username': rejected value []; codes [NotBlank.usuarioInDto.username,NotBlank.username,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.username,username]; arguments []; default message [username]]; default message [username is mandatory]] [Field error in object 'usuarioInDto' on field 'password': rejected value [1]; codes [Size.usuarioInDto.password,Size.password,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.password,password]; arguments []; default message [password],255,6]; default message [password length must be between 6 and 255]] [Field error in object 'usuarioInDto' on field 'email': rejected value []; codes [NotBlank.usuarioInDto.email,NotBlank.email,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.email,email]; arguments []; default message [email]]; default message [email is mandatory]] [Field error in object 'usuarioInDto' on field 'fechaRegistro': rejected value [null]; codes [NotNull.usuarioInDto.fechaRegistro,NotNull.fechaRegistro,NotNull.java.time.LocalDate,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.fechaRegistro,fechaRegistro]; arguments []; default message [fechaRegistro]]; default message [fechaRegistro is mandatory]] ]
2026-02-10 11:49:19.101 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#add(UsuarioInDto)
2026-02-10 11:49:19.101 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UsuarioInDto(email=a@a.com, esPremium=true, fechaRegistro=2026-02-10, nivelExperiencia=2, password=1 (truncated)...]
2026-02-10 11:49:19.103 [main] DEBUG c.s.r.controller.UsuarioController - POST /usuarios - borja
2026-02-10 11:49:19.106 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:19.113 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UsuarioOutDto(id=1, email=a@a.com, esPremium=true, fechaRegistro=2026-02-10, nivelExperiencia=2, use (truncated)...]
2026-02-10 11:49:19.117 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#modify(long, UsuarioInDto)
2026-02-10 11:49:19.117 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UsuarioInDto(email=b@b.com, esPremium=false, fechaRegistro=2026-02-10, nivelExperiencia=5, password= (truncated)...]
2026-02-10 11:49:19.119 [main] DEBUG c.s.r.controller.UsuarioController - PUT /usuarios/1
2026-02-10 11:49:19.119 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:19.120 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UsuarioOutDto(id=1, email=b@b.com, esPremium=false, fechaRegistro=2026-02-10, nivelExperiencia=5, us (truncated)...]
2026-02-10 11:49:19.124 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#get(long)
2026-02-10 11:49:19.124 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.UsuarioOutDto> com.svalero.rutea.controller.UsuarioController.get(long) throws com.svalero.rutea.exception.UsuarioNotFoundException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"
2026-02-10 11:49:19.125 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:49:19.125 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:19.125 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={id=Invalid value: abc})]
2026-02-10 11:49:19.125 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"]
2026-02-10 11:49:19.128 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#delete(long)
2026-02-10 11:49:19.128 [main] DEBUG c.s.r.controller.UsuarioController - DELETE /usuarios/99
2026-02-10 11:49:19.130 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.UsuarioController#handleException(UsuarioNotFoundException)
2026-02-10 11:49:19.130 [main] WARN  c.s.r.controller.UsuarioController - Usuario no encontrado: null
2026-02-10 11:49:19.130 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:19.130 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El usuario no existe, errors={})]
2026-02-10 11:49:19.130 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.UsuarioNotFoundException]
2026-02-10 11:49:19.133 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#delete(long)
2026-02-10 11:49:19.133 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.svalero.rutea.controller.UsuarioController.delete(long) throws com.svalero.rutea.exception.UsuarioNotFoundException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"
2026-02-10 11:49:19.133 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:49:19.133 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:19.133 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={id=Invalid value: abc})]
2026-02-10 11:49:19.134 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"]
2026-02-10 11:49:19.138 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#get(long)
2026-02-10 11:49:19.138 [main] DEBUG c.s.r.controller.UsuarioController - GET /usuarios/99
2026-02-10 11:49:19.139 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.UsuarioController#handleException(UsuarioNotFoundException)
2026-02-10 11:49:19.139 [main] WARN  c.s.r.controller.UsuarioController - Usuario no encontrado: null
2026-02-10 11:49:19.139 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:19.139 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El usuario no existe, errors={})]
2026-02-10 11:49:19.139 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.UsuarioNotFoundException]
2026-02-10 11:49:19.142 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#get(long)
2026-02-10 11:49:19.142 [main] DEBUG c.s.r.controller.UsuarioController - GET /usuarios/1
2026-02-10 11:49:19.142 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:19.142 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UsuarioOutDto(id=1, email=a@a.com, esPremium=false, fechaRegistro=2026-02-10, nivelExperiencia=0, us (truncated)...]
2026-02-10 11:49:19.146 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#getAll(Boolean, Integer, String)
2026-02-10 11:49:19.147 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [1] in public org.springframework.http.ResponseEntity<java.util.List<com.svalero.rutea.dto.UsuarioOutDto>> com.svalero.rutea.controller.UsuarioController.getAll(java.lang.Boolean,java.lang.Integer,java.lang.String): Failed to convert value of type 'java.lang.String' to required type 'java.lang.Integer'; For input string: "abc"
2026-02-10 11:49:19.147 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:49:19.147 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:19.147 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={nivelExperiencia=Invali (truncated)...]
2026-02-10 11:49:19.147 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Integer'; For input string: "abc"]
2026-02-10 11:49:19.151 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#getAll(Boolean, Integer, String)
2026-02-10 11:49:19.153 [main] DEBUG c.s.r.controller.UsuarioController - GET /usuarios - Filtros: premium=true, nivelExperiencia=3, username=bor
2026-02-10 11:49:19.155 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:19.155 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UsuarioOutDto(id=1, email=a@a.com, esPremium=true, fechaRegistro=2026-02-10, nivelExperiencia=3, us (truncated)...]
2026-02-10 11:49:19.158 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.svalero.rutea.controller.CategoriaControllerTest]: CategoriaControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-02-10 11:49:19.164 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.svalero.rutea.RuteaApplication for test class com.svalero.rutea.controller.CategoriaControllerTest
2026-02-10 11:49:19.181 [main] INFO  c.s.r.c.CategoriaControllerTest - Starting CategoriaControllerTest using Java 23 with PID 23060 (started by borzg in C:\Proyects\rutea)
2026-02-10 11:49:19.181 [main] DEBUG c.s.r.c.CategoriaControllerTest - Running with Spring Boot v3.3.3, Spring v6.1.12
2026-02-10 11:49:19.181 [main] INFO  c.s.r.c.CategoriaControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-10 11:49:19.182 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@4fd63c43
2026-02-10 11:49:19.342 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 8 mappings in 'requestMappingHandlerMapping'
2026-02-10 11:49:19.361 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-10 11:49:19.367 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-10 11:49:19.369 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-10 11:49:19.375 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2026-02-10 11:49:19.375 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2026-02-10 11:49:19.375 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2026-02-10 11:49:19.378 [main] INFO  c.s.r.c.CategoriaControllerTest - Started CategoriaControllerTest in 0.213 seconds (process running for 4.981)
2026-02-10 11:49:19.381 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#delete(long)
2026-02-10 11:49:19.383 [main] DEBUG c.s.r.controller.CategoriaController - DELETE /categorias/1
2026-02-10 11:49:19.384 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:19.384 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2026-02-10 11:49:19.389 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#delete(long)
2026-02-10 11:49:19.390 [main] DEBUG c.s.r.controller.CategoriaController - DELETE /categorias/99
2026-02-10 11:49:19.392 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.CategoriaController#handleException(CategoriaNotFoundException)
2026-02-10 11:49:19.392 [main] WARN  c.s.r.controller.CategoriaController - Categoría no encontrada: null
2026-02-10 11:49:19.393 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:19.393 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=La categoria no existe, errors={})]
2026-02-10 11:49:19.395 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.CategoriaNotFoundException]
2026-02-10 11:49:19.401 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#add(CategoriaInDto)
2026-02-10 11:49:19.407 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CategoriaInDto(activa=false, costePromedio=0.0, descripcion=null, iconoUrl=null, nombre=, ordenPrior (truncated)...]
2026-02-10 11:49:19.413 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.CategoriaController#handleException(MethodArgumentNotValidException)
2026-02-10 11:49:19.413 [main] WARN  c.s.r.controller.CategoriaController - Error de validación en request
2026-02-10 11:49:19.413 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:19.415 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={nombre=nombre is mandat (truncated)...]
2026-02-10 11:49:19.415 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.CategoriaOutDto> com.svalero.rutea.controller.CategoriaController.add(com.svalero.rutea.dto.CategoriaInDto): [Field error in object 'categoriaInDto' on field 'nombre': rejected value []; codes [NotBlank.categoriaInDto.nombre,NotBlank.nombre,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaInDto.nombre,nombre]; arguments []; default message [nombre]]; default message [nombre is mandatory]] ]
2026-02-10 11:49:19.420 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#modify(long, CategoriaInDto)
2026-02-10 11:49:19.422 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CategoriaInDto(activa=false, costePromedio=0.0, descripcion=null, iconoUrl=null, nombre=, ordenPrior (truncated)...]
2026-02-10 11:49:19.424 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.CategoriaController#handleException(MethodArgumentNotValidException)
2026-02-10 11:49:19.424 [main] WARN  c.s.r.controller.CategoriaController - Error de validación en request
2026-02-10 11:49:19.424 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:19.424 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={nombre=nombre is mandat (truncated)...]
2026-02-10 11:49:19.424 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [1] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.CategoriaOutDto> com.svalero.rutea.controller.CategoriaController.modify(long,com.svalero.rutea.dto.CategoriaInDto) throws com.svalero.rutea.exception.CategoriaNotFoundException: [Field error in object 'categoriaInDto' on field 'nombre': rejected value []; codes [NotBlank.categoriaInDto.nombre,NotBlank.nombre,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaInDto.nombre,nombre]; arguments []; default message [nombre]]; default message [nombre is mandatory]] ]
2026-02-10 11:49:19.430 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#add(CategoriaInDto)
2026-02-10 11:49:19.430 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CategoriaInDto(activa=true, costePromedio=0.0, descripcion=null, iconoUrl=null, nombre=Montaña, orde (truncated)...]
2026-02-10 11:49:19.431 [main] DEBUG c.s.r.controller.CategoriaController - POST /categorias - Montaña
2026-02-10 11:49:19.434 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:19.440 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CategoriaOutDto(id=1, activa=true, costePromedio=0.0, descripcion=null, iconoUrl=null, nombre=Montañ (truncated)...]
2026-02-10 11:49:19.445 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#modify(long, CategoriaInDto)
2026-02-10 11:49:19.445 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CategoriaInDto(activa=true, costePromedio=0.0, descripcion=null, iconoUrl=null, nombre=X, ordenPrior (truncated)...]
2026-02-10 11:49:19.446 [main] DEBUG c.s.r.controller.CategoriaController - PUT /categorias/1
2026-02-10 11:49:19.446 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:19.448 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CategoriaOutDto(id=1, activa=true, costePromedio=0.0, descripcion=null, iconoUrl=null, nombre=X, ord (truncated)...]
2026-02-10 11:49:19.451 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#modify(long, CategoriaInDto)
2026-02-10 11:49:19.451 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CategoriaInDto(activa=true, costePromedio=0.0, descripcion=null, iconoUrl=null, nombre=X, ordenPrior (truncated)...]
2026-02-10 11:49:19.453 [main] DEBUG c.s.r.controller.CategoriaController - PUT /categorias/99
2026-02-10 11:49:19.453 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.CategoriaController#handleException(CategoriaNotFoundException)
2026-02-10 11:49:19.453 [main] WARN  c.s.r.controller.CategoriaController - Categoría no encontrada: null
2026-02-10 11:49:19.453 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:19.453 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=La categoria no existe, errors={})]
2026-02-10 11:49:19.454 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.CategoriaNotFoundException]
2026-02-10 11:49:19.456 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#get(long)
2026-02-10 11:49:19.457 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.CategoriaOutDto> com.svalero.rutea.controller.CategoriaController.get(long) throws com.svalero.rutea.exception.CategoriaNotFoundException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"
2026-02-10 11:49:19.457 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:49:19.457 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:19.457 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={id=Invalid value: abc})]
2026-02-10 11:49:19.457 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"]
2026-02-10 11:49:19.460 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#delete(long)
2026-02-10 11:49:19.460 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.svalero.rutea.controller.CategoriaController.delete(long) throws com.svalero.rutea.exception.CategoriaNotFoundException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"
2026-02-10 11:49:19.460 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:49:19.460 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:19.460 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={id=Invalid value: abc})]
2026-02-10 11:49:19.460 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"]
2026-02-10 11:49:19.465 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#modify(long, CategoriaInDto)
2026-02-10 11:49:19.465 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.CategoriaOutDto> com.svalero.rutea.controller.CategoriaController.modify(long,com.svalero.rutea.dto.CategoriaInDto) throws com.svalero.rutea.exception.CategoriaNotFoundException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"
2026-02-10 11:49:19.465 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:49:19.465 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:19.465 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={id=Invalid value: abc})]
2026-02-10 11:49:19.465 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"]
2026-02-10 11:49:19.470 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#get(long)
2026-02-10 11:49:19.470 [main] DEBUG c.s.r.controller.CategoriaController - GET /categorias/1
2026-02-10 11:49:19.470 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:19.470 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CategoriaOutDto(id=1, activa=false, costePromedio=0.0, descripcion=null, iconoUrl=null, nombre=Monta (truncated)...]
2026-02-10 11:49:19.473 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#get(long)
2026-02-10 11:49:19.474 [main] DEBUG c.s.r.controller.CategoriaController - GET /categorias/99
2026-02-10 11:49:19.474 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.CategoriaController#handleException(CategoriaNotFoundException)
2026-02-10 11:49:19.474 [main] WARN  c.s.r.controller.CategoriaController - Categoría no encontrada: null
2026-02-10 11:49:19.474 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:19.474 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=La categoria no existe, errors={})]
2026-02-10 11:49:19.474 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.CategoriaNotFoundException]
2026-02-10 11:49:19.478 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#getAll(Boolean, String, Integer)
2026-02-10 11:49:19.478 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [2] in public org.springframework.http.ResponseEntity<java.util.List<com.svalero.rutea.dto.CategoriaOutDto>> com.svalero.rutea.controller.CategoriaController.getAll(java.lang.Boolean,java.lang.String,java.lang.Integer): Failed to convert value of type 'java.lang.String' to required type 'java.lang.Integer'; For input string: "abc"
2026-02-10 11:49:19.478 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:49:19.479 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:19.479 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={ordenPrioridad=Invalid  (truncated)...]
2026-02-10 11:49:19.479 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Integer'; For input string: "abc"]
2026-02-10 11:49:19.482 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#getAll(Boolean, String, Integer)
2026-02-10 11:49:19.484 [main] DEBUG c.s.r.controller.CategoriaController - GET /categorias - Filtros: activa=true, nombre=mon, ordenPrioridad=1
2026-02-10 11:49:19.484 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:19.484 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoriaOutDto(id=1, activa=true, costePromedio=0.0, descripcion=null, iconoUrl=null, nombre=Monta (truncated)...]
2026-02-10 11:49:19.700 [main] DEBUG c.s.rutea.service.CategoriaService - Buscando categoría por ID: 1
2026-02-10 11:49:19.721 [main] INFO  c.s.rutea.service.CategoriaService - Modificando categoría ID: 1
2026-02-10 11:49:19.722 [main] INFO  c.s.rutea.service.CategoriaService - Categoría modificada exitosamente: ID 1
2026-02-10 11:49:19.725 [main] DEBUG c.s.rutea.service.CategoriaService - Buscando categorías con filtros: activa=true, nombre=null, ordenPrioridad=null
2026-02-10 11:49:19.727 [main] INFO  c.s.rutea.service.CategoriaService - Se encontraron 1 categorías
2026-02-10 11:49:19.730 [main] DEBUG c.s.rutea.service.CategoriaService - Buscando categorías con filtros: activa=null, nombre=mon, ordenPrioridad=null
2026-02-10 11:49:19.731 [main] INFO  c.s.rutea.service.CategoriaService - Se encontraron 1 categorías
2026-02-10 11:49:19.735 [main] DEBUG c.s.rutea.service.CategoriaService - Buscando categorías con filtros: activa=null, nombre=mon, ordenPrioridad=1
2026-02-10 11:49:19.735 [main] INFO  c.s.rutea.service.CategoriaService - Se encontraron 1 categorías
2026-02-10 11:49:19.736 [main] DEBUG c.s.rutea.service.CategoriaService - Buscando categorías con filtros: activa=true, nombre=mon, ordenPrioridad=1
2026-02-10 11:49:19.736 [main] INFO  c.s.rutea.service.CategoriaService - Se encontraron 1 categorías
2026-02-10 11:49:19.742 [main] INFO  c.s.rutea.service.CategoriaService - Eliminando categoría ID: 99
2026-02-10 11:49:19.742 [main] ERROR c.s.rutea.service.CategoriaService - Categoría no encontrada para eliminación: ID 99
2026-02-10 11:49:19.747 [main] INFO  c.s.rutea.service.CategoriaService - Eliminando categoría ID: 1
2026-02-10 11:49:19.747 [main] INFO  c.s.rutea.service.CategoriaService - Categoría eliminada exitosamente: ID 1
2026-02-10 11:49:19.750 [main] DEBUG c.s.rutea.service.CategoriaService - Buscando categorías con filtros: activa=true, nombre=null, ordenPrioridad=1
2026-02-10 11:49:19.751 [main] INFO  c.s.rutea.service.CategoriaService - Se encontraron 1 categorías
2026-02-10 11:49:19.753 [main] DEBUG c.s.rutea.service.CategoriaService - Buscando categoría por ID: 99
2026-02-10 11:49:19.753 [main] ERROR c.s.rutea.service.CategoriaService - Categoría no encontrada: ID 99
2026-02-10 11:49:19.756 [main] INFO  c.s.rutea.service.CategoriaService - Modificando categoría ID: 99
2026-02-10 11:49:19.756 [main] ERROR c.s.rutea.service.CategoriaService - Categoría no encontrada para modificación: ID 99
2026-02-10 11:49:19.760 [main] DEBUG c.s.rutea.service.CategoriaService - Buscando categorías con filtros: activa=true, nombre=mon, ordenPrioridad=null
2026-02-10 11:49:19.760 [main] INFO  c.s.rutea.service.CategoriaService - Se encontraron 1 categorías
2026-02-10 11:49:19.762 [main] DEBUG c.s.rutea.service.CategoriaService - Buscando categorías con filtros: activa=null, nombre=null, ordenPrioridad=null
2026-02-10 11:49:19.762 [main] INFO  c.s.rutea.service.CategoriaService - Se encontraron 2 categorías
2026-02-10 11:49:19.767 [main] INFO  c.s.rutea.service.CategoriaService - Creando nueva categoría: Montaña
2026-02-10 11:49:19.767 [main] INFO  c.s.rutea.service.CategoriaService - Categoría creada exitosamente con ID: 1
2026-02-10 11:49:19.770 [main] DEBUG c.s.rutea.service.CategoriaService - Buscando categorías con filtros: activa=null, nombre=null, ordenPrioridad=1
2026-02-10 11:49:19.770 [main] INFO  c.s.rutea.service.CategoriaService - Se encontraron 1 categorías
2026-02-10 11:49:19.773 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.svalero.rutea.controller.RutaControllerTest]: RutaControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-02-10 11:49:19.781 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.svalero.rutea.RuteaApplication for test class com.svalero.rutea.controller.RutaControllerTest
2026-02-10 11:49:19.801 [main] INFO  c.s.r.controller.RutaControllerTest - Starting RutaControllerTest using Java 23 with PID 23060 (started by borzg in C:\Proyects\rutea)
2026-02-10 11:49:19.801 [main] DEBUG c.s.r.controller.RutaControllerTest - Running with Spring Boot v3.3.3, Spring v6.1.12
2026-02-10 11:49:19.801 [main] INFO  c.s.r.controller.RutaControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-10 11:49:19.803 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@45ac973
2026-02-10 11:49:19.958 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 8 mappings in 'requestMappingHandlerMapping'
2026-02-10 11:49:19.973 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-10 11:49:19.976 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-10 11:49:19.978 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-10 11:49:19.983 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2026-02-10 11:49:19.983 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2026-02-10 11:49:19.983 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2026-02-10 11:49:19.986 [main] INFO  c.s.r.controller.RutaControllerTest - Started RutaControllerTest in 0.204 seconds (process running for 5.588)
2026-02-10 11:49:19.988 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#delete(long)
2026-02-10 11:49:19.989 [main] DEBUG c.s.rutea.controller.RutaController - DELETE /rutas/1
2026-02-10 11:49:19.991 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:19.991 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2026-02-10 11:49:19.995 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#add(RutaInDto)
2026-02-10 11:49:20.005 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RutaInDto(dificultad=facil, distanciaKm=1.0, duracionMinutos=10, fechaRealizacion=2026-02-10, public (truncated)...]
2026-02-10 11:49:20.009 [main] DEBUG c.s.rutea.controller.RutaController - POST /rutas - Ruta
2026-02-10 11:49:20.011 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.RutaController#handleException(UsuarioNotFoundException)
2026-02-10 11:49:20.011 [main] WARN  c.s.rutea.controller.RutaController - Usuario no encontrado: null
2026-02-10 11:49:20.013 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:20.013 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El usuario no existe, errors={})]
2026-02-10 11:49:20.013 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.UsuarioNotFoundException]
2026-02-10 11:49:20.016 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#add(RutaInDto)
2026-02-10 11:49:20.017 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RutaInDto(dificultad=x, distanciaKm=-1.0, duracionMinutos=-5, fechaRealizacion=null, publica=true, t (truncated)...]
2026-02-10 11:49:20.017 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.RutaController#handleException(MethodArgumentNotValidException)
2026-02-10 11:49:20.017 [main] WARN  c.s.rutea.controller.RutaController - Error de validación en request
2026-02-10 11:49:20.019 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:20.019 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={fechaRealizacion=fechaR (truncated)...]
2026-02-10 11:49:20.019 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.RutaOutDto> com.svalero.rutea.controller.RutaController.add(com.svalero.rutea.dto.RutaInDto) throws com.svalero.rutea.exception.UsuarioNotFoundException,com.svalero.rutea.exception.PuntoInteresNotFoundException with 5 errors: [Field error in object 'rutaInDto' on field 'usuarioId': rejected value [null]; codes [NotNull.rutaInDto.usuarioId,NotNull.usuarioId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [rutaInDto.usuarioId,usuarioId]; arguments []; default message [usuarioId]]; default message [usuarioId is mandatory]] [Field error in object 'rutaInDto' on field 'duracionMinutos': rejected value [-5]; codes [Min.rutaInDto.duracionMinutos,Min.duracionMinutos,Min.int,Min]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [rutaInDto.duracionMinutos,duracionMinutos]; arguments []; default message [duracionMinutos],0]; default message [duracionMinutos must be >= 0]] [Field error in object 'rutaInDto' on field 'titulo': rejected value []; codes [NotBlank.rutaInDto.titulo,NotBlank.titulo,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [rutaInDto.titulo,titulo]; arguments []; default message [titulo]]; default message [titulo is mandatory]] [Field error in object 'rutaInDto' on field 'fechaRealizacion': rejected value [null]; codes [NotNull.rutaInDto.fechaRealizacion,NotNull.fechaRealizacion,NotNull.java.time.LocalDate,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [rutaInDto.fechaRealizacion,fechaRealizacion]; arguments []; default message [fechaRealizacion]]; default message [fechaRealizacion is mandatory]] [Field error in object 'rutaInDto' on field 'distanciaKm': rejected value [-1.0]; codes [PositiveOrZero.rutaInDto.distanciaKm,PositiveOrZero.distanciaKm,PositiveOrZero.float,PositiveOrZero]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [rutaInDto.distanciaKm,distanciaKm]; arguments []; default message [distanciaKm]]; default message [distanciaKm must be >= 0]] ]
2026-02-10 11:49:20.022 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#modify(long, RutaInDto)
2026-02-10 11:49:20.023 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RutaInDto(dificultad=null, distanciaKm=-1.0, duracionMinutos=-1, fechaRealizacion=null, publica=true (truncated)...]
2026-02-10 11:49:20.023 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.RutaController#handleException(MethodArgumentNotValidException)
2026-02-10 11:49:20.023 [main] WARN  c.s.rutea.controller.RutaController - Error de validación en request
2026-02-10 11:49:20.025 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:20.025 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={fechaRealizacion=fechaR (truncated)...]
2026-02-10 11:49:20.025 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [1] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.RutaOutDto> com.svalero.rutea.controller.RutaController.modify(long,com.svalero.rutea.dto.RutaInDto) throws com.svalero.rutea.exception.RutaNotFoundException,com.svalero.rutea.exception.UsuarioNotFoundException,com.svalero.rutea.exception.PuntoInteresNotFoundException with 5 errors: [Field error in object 'rutaInDto' on field 'titulo': rejected value []; codes [NotBlank.rutaInDto.titulo,NotBlank.titulo,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [rutaInDto.titulo,titulo]; arguments []; default message [titulo]]; default message [titulo is mandatory]] [Field error in object 'rutaInDto' on field 'duracionMinutos': rejected value [-1]; codes [Min.rutaInDto.duracionMinutos,Min.duracionMinutos,Min.int,Min]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [rutaInDto.duracionMinutos,duracionMinutos]; arguments []; default message [duracionMinutos],0]; default message [duracionMinutos must be >= 0]] [Field error in object 'rutaInDto' on field 'fechaRealizacion': rejected value [null]; codes [NotNull.rutaInDto.fechaRealizacion,NotNull.fechaRealizacion,NotNull.java.time.LocalDate,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [rutaInDto.fechaRealizacion,fechaRealizacion]; arguments []; default message [fechaRealizacion]]; default message [fechaRealizacion is mandatory]] [Field error in object 'rutaInDto' on field 'distanciaKm': rejected value [-1.0]; codes [PositiveOrZero.rutaInDto.distanciaKm,PositiveOrZero.distanciaKm,PositiveOrZero.float,PositiveOrZero]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [rutaInDto.distanciaKm,distanciaKm]; arguments []; default message [distanciaKm]]; default message [distanciaKm must be >= 0]] [Field error in object 'rutaInDto' on field 'usuarioId': rejected value [null]; codes [NotNull.rutaInDto.usuarioId,NotNull.usuarioId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [rutaInDto.usuarioId,usuarioId]; arguments []; default message [usuarioId]]; default message [usuarioId is mandatory]] ]
2026-02-10 11:49:20.030 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#add(RutaInDto)
2026-02-10 11:49:20.030 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RutaInDto(dificultad=facil, distanciaKm=5.5, duracionMinutos=60, fechaRealizacion=2026-02-10, public (truncated)...]
2026-02-10 11:49:20.030 [main] DEBUG c.s.rutea.controller.RutaController - POST /rutas - Paseo por el parque
2026-02-10 11:49:20.031 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:20.039 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [RutaOutDto(id=1, dificultad=facil, distanciaKm=5.5, duracionMinutos=60, fechaRealizacion=2026-02-10, (truncated)...]
2026-02-10 11:49:20.044 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#modify(long, RutaInDto)
2026-02-10 11:49:20.045 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RutaInDto(dificultad=dificil, distanciaKm=12.0, duracionMinutos=180, fechaRealizacion=2026-02-10, pu (truncated)...]
2026-02-10 11:49:20.045 [main] DEBUG c.s.rutea.controller.RutaController - PUT /rutas/1
2026-02-10 11:49:20.045 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:20.045 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [RutaOutDto(id=1, dificultad=dificil, distanciaKm=12.0, duracionMinutos=180, fechaRealizacion=2026-02 (truncated)...]
2026-02-10 11:49:20.050 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#get(long)
2026-02-10 11:49:20.050 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.RutaOutDto> com.svalero.rutea.controller.RutaController.get(long) throws com.svalero.rutea.exception.RutaNotFoundException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"
2026-02-10 11:49:20.050 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:49:20.051 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:20.051 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={id=Invalid value: abc})]
2026-02-10 11:49:20.051 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"]
2026-02-10 11:49:20.054 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#modify(long, RutaInDto)
2026-02-10 11:49:20.056 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RutaInDto(dificultad=x, distanciaKm=1.0, duracionMinutos=1, fechaRealizacion=2026-02-10, publica=tru (truncated)...]
2026-02-10 11:49:20.056 [main] DEBUG c.s.rutea.controller.RutaController - PUT /rutas/1
2026-02-10 11:49:20.057 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.RutaController#handleException(PuntoInteresNotFoundException)
2026-02-10 11:49:20.059 [main] WARN  c.s.rutea.controller.RutaController - Punto de interés no encontrado: null
2026-02-10 11:49:20.059 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:20.059 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El punto de interés no existe, errors={})]
2026-02-10 11:49:20.059 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.PuntoInteresNotFoundException]
2026-02-10 11:49:20.062 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#add(RutaInDto)
2026-02-10 11:49:20.063 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RutaInDto(dificultad=facil, distanciaKm=1.0, duracionMinutos=10, fechaRealizacion=2026-02-10, public (truncated)...]
2026-02-10 11:49:20.063 [main] DEBUG c.s.rutea.controller.RutaController - POST /rutas - Ruta
2026-02-10 11:49:20.065 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.RutaController#handleException(PuntoInteresNotFoundException)
2026-02-10 11:49:20.065 [main] WARN  c.s.rutea.controller.RutaController - Punto de interés no encontrado: null
2026-02-10 11:49:20.065 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:20.065 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El punto de interés no existe, errors={})]
2026-02-10 11:49:20.065 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.PuntoInteresNotFoundException]
2026-02-10 11:49:20.068 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#delete(long)
2026-02-10 11:49:20.068 [main] DEBUG c.s.rutea.controller.RutaController - DELETE /rutas/99
2026-02-10 11:49:20.068 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.RutaController#handleException(RutaNotFoundException)
2026-02-10 11:49:20.068 [main] WARN  c.s.rutea.controller.RutaController - Ruta no encontrada: null
2026-02-10 11:49:20.068 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:20.068 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=La ruta no existe, errors={})]
2026-02-10 11:49:20.070 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.RutaNotFoundException]
2026-02-10 11:49:20.072 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#delete(long)
2026-02-10 11:49:20.073 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.svalero.rutea.controller.RutaController.delete(long) throws com.svalero.rutea.exception.RutaNotFoundException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"
2026-02-10 11:49:20.073 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:49:20.073 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:20.073 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={id=Invalid value: abc})]
2026-02-10 11:49:20.073 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"]
2026-02-10 11:49:20.076 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#modify(long, RutaInDto)
2026-02-10 11:49:20.078 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RutaInDto(dificultad=x, distanciaKm=1.0, duracionMinutos=1, fechaRealizacion=2026-02-10, publica=tru (truncated)...]
2026-02-10 11:49:20.078 [main] DEBUG c.s.rutea.controller.RutaController - PUT /rutas/1
2026-02-10 11:49:20.078 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.RutaController#handleException(UsuarioNotFoundException)
2026-02-10 11:49:20.079 [main] WARN  c.s.rutea.controller.RutaController - Usuario no encontrado: null
2026-02-10 11:49:20.079 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:20.079 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El usuario no existe, errors={})]
2026-02-10 11:49:20.079 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.UsuarioNotFoundException]
2026-02-10 11:49:20.082 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#get(long)
2026-02-10 11:49:20.082 [main] DEBUG c.s.rutea.controller.RutaController - GET /rutas/99
2026-02-10 11:49:20.082 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.RutaController#handleException(RutaNotFoundException)
2026-02-10 11:49:20.082 [main] WARN  c.s.rutea.controller.RutaController - Ruta no encontrada: null
2026-02-10 11:49:20.084 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:20.084 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=La ruta no existe, errors={})]
2026-02-10 11:49:20.084 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.RutaNotFoundException]
2026-02-10 11:49:20.086 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#get(long)
2026-02-10 11:49:20.086 [main] DEBUG c.s.rutea.controller.RutaController - GET /rutas/1
2026-02-10 11:49:20.088 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:20.088 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [RutaOutDto(id=1, dificultad=media, distanciaKm=10.0, duracionMinutos=120, fechaRealizacion=2026-02-1 (truncated)...]
2026-02-10 11:49:20.091 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#getAll(String, Boolean, String)
2026-02-10 11:49:20.091 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [1] in public org.springframework.http.ResponseEntity<java.util.List<com.svalero.rutea.dto.RutaOutDto>> com.svalero.rutea.controller.RutaController.getAll(java.lang.String,java.lang.Boolean,java.lang.String): Failed to convert value of type 'java.lang.String' to required type 'java.lang.Boolean'; Invalid boolean value [abc]
2026-02-10 11:49:20.091 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:49:20.092 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:20.092 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={publica=Invalid value:  (truncated)...]
2026-02-10 11:49:20.092 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Boolean'; Invalid boolean value [abc]]
2026-02-10 11:49:20.094 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#modify(long, RutaInDto)
2026-02-10 11:49:20.095 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RutaInDto(dificultad=x, distanciaKm=1.0, duracionMinutos=1, fechaRealizacion=2026-02-10, publica=tru (truncated)...]
2026-02-10 11:49:20.095 [main] DEBUG c.s.rutea.controller.RutaController - PUT /rutas/99
2026-02-10 11:49:20.095 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.RutaController#handleException(RutaNotFoundException)
2026-02-10 11:49:20.097 [main] WARN  c.s.rutea.controller.RutaController - Ruta no encontrada: null
2026-02-10 11:49:20.097 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:20.097 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=La ruta no existe, errors={})]
2026-02-10 11:49:20.097 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.RutaNotFoundException]
2026-02-10 11:49:20.100 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#getAll(String, Boolean, String)
2026-02-10 11:49:20.102 [main] DEBUG c.s.rutea.controller.RutaController - GET /rutas - Filtros: dificultad=facil, publica=true, titulo=paseo
2026-02-10 11:49:20.102 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:20.102 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[RutaOutDto(id=1, dificultad=facil, distanciaKm=5.5, duracionMinutos=60, fechaRealizacion=2026-02-10 (truncated)...]
2026-02-10 11:49:20.222 [main] DEBUG c.s.r.service.PuntoInteresService - Buscando punto de interés por ID: 10
2026-02-10 11:49:20.228 [main] INFO  c.s.r.service.PuntoInteresService - Modificando punto de interés ID: 10
2026-02-10 11:49:20.229 [main] INFO  c.s.r.service.PuntoInteresService - Punto de interés modificado exitosamente: ID 10
2026-02-10 11:49:20.240 [main] INFO  c.s.r.service.PuntoInteresService - Eliminando punto de interés ID: 999
2026-02-10 11:49:20.240 [main] ERROR c.s.r.service.PuntoInteresService - Punto de interés no encontrado para eliminación: ID 999
2026-02-10 11:49:20.246 [main] INFO  c.s.r.service.PuntoInteresService - Creando nuevo punto de interés: X
2026-02-10 11:49:20.247 [main] ERROR c.s.r.service.PuntoInteresService - Categoría no encontrada: ID 99
2026-02-10 11:49:20.250 [main] INFO  c.s.r.service.PuntoInteresService - Modificando punto de interés ID: 999
2026-02-10 11:49:20.250 [main] ERROR c.s.r.service.PuntoInteresService - Punto de interés no encontrado para modificación: ID 999
2026-02-10 11:49:20.255 [main] INFO  c.s.r.service.PuntoInteresService - Eliminando punto de interés ID: 10
2026-02-10 11:49:20.255 [main] INFO  c.s.r.service.PuntoInteresService - Punto de interés eliminado exitosamente: ID 10
2026-02-10 11:49:20.258 [main] DEBUG c.s.r.service.PuntoInteresService - Buscando puntos de interés con filtros: categoriaId=1, abiertoActualmente=true, nombre=parque, puntuacionMedia=4.5
2026-02-10 11:49:20.261 [main] INFO  c.s.r.service.PuntoInteresService - Se encontraron 1 puntos de interés
2026-02-10 11:49:20.267 [main] INFO  c.s.r.service.PuntoInteresService - Creando nuevo punto de interés: Parque Grande
2026-02-10 11:49:20.267 [main] INFO  c.s.r.service.PuntoInteresService - Punto de interés creado exitosamente con ID: 10
2026-02-10 11:49:20.290 [main] DEBUG c.s.r.service.PuntoInteresService - Buscando punto de interés por ID: 999
2026-02-10 11:49:20.292 [main] ERROR c.s.r.service.PuntoInteresService - Punto de interés no encontrado: ID 999
2026-02-10 11:49:20.297 [main] INFO  c.s.r.service.PuntoInteresService - Modificando punto de interés ID: 10
2026-02-10 11:49:20.297 [main] ERROR c.s.r.service.PuntoInteresService - Categoría no encontrada: ID 99
2026-02-10 11:49:20.411 [main] INFO  c.s.rutea.service.ResenaService - Modificando reseña ID: 999
2026-02-10 11:49:20.411 [main] ERROR c.s.rutea.service.ResenaService - Reseña no encontrada para modificación: ID 999
2026-02-10 11:49:20.414 [main] DEBUG c.s.rutea.service.ResenaService - Buscando reseña por ID: 1
2026-02-10 11:49:20.417 [main] DEBUG c.s.rutea.service.ResenaService - Buscando reseñas con filtros: editada=false, likes=10, valoracion=5
2026-02-10 11:49:20.419 [main] INFO  c.s.rutea.service.ResenaService - Se encontraron 1 reseñas
2026-02-10 11:49:20.423 [main] INFO  c.s.rutea.service.ResenaService - Creando nueva reseña para punto ID: 10
2026-02-10 11:49:20.424 [main] ERROR c.s.rutea.service.ResenaService - Usuario no encontrado: ID 999
2026-02-10 11:49:20.427 [main] INFO  c.s.rutea.service.ResenaService - Creando nueva reseña para punto ID: 10
2026-02-10 11:49:20.427 [main] INFO  c.s.rutea.service.ResenaService - Reseña creada exitosamente con ID: 1
2026-02-10 11:49:20.432 [main] INFO  c.s.rutea.service.ResenaService - Eliminando reseña ID: 999
2026-02-10 11:49:20.432 [main] ERROR c.s.rutea.service.ResenaService - Reseña no encontrada para eliminación: ID 999
2026-02-10 11:49:20.435 [main] INFO  c.s.rutea.service.ResenaService - Modificando reseña ID: 1
2026-02-10 11:49:20.437 [main] ERROR c.s.rutea.service.ResenaService - Punto de interés no encontrado: ID 999
2026-02-10 11:49:20.440 [main] INFO  c.s.rutea.service.ResenaService - Eliminando reseña ID: 1
2026-02-10 11:49:20.442 [main] INFO  c.s.rutea.service.ResenaService - Reseña eliminada exitosamente: ID 1
2026-02-10 11:49:20.447 [main] INFO  c.s.rutea.service.ResenaService - Modificando reseña ID: 1
2026-02-10 11:49:20.447 [main] ERROR c.s.rutea.service.ResenaService - Usuario no encontrado: ID 999
2026-02-10 11:49:20.451 [main] INFO  c.s.rutea.service.ResenaService - Modificando reseña ID: 1
2026-02-10 11:49:20.452 [main] INFO  c.s.rutea.service.ResenaService - Reseña modificada exitosamente: ID 1
2026-02-10 11:49:20.456 [main] DEBUG c.s.rutea.service.ResenaService - Buscando reseña por ID: 999
2026-02-10 11:49:20.456 [main] ERROR c.s.rutea.service.ResenaService - Reseña no encontrada: ID 999
2026-02-10 11:49:20.459 [main] INFO  c.s.rutea.service.ResenaService - Creando nueva reseña para punto ID: 999
2026-02-10 11:49:20.460 [main] ERROR c.s.rutea.service.ResenaService - Punto de interés no encontrado: ID 999
2026-02-10 11:49:20.513 [main] DEBUG c.svalero.rutea.service.RutaService - Buscando ruta por ID: 1
2026-02-10 11:49:20.521 [main] INFO  c.svalero.rutea.service.RutaService - Creando nueva ruta: Ruta
2026-02-10 11:49:20.521 [main] ERROR c.svalero.rutea.service.RutaService - Usuario no encontrado: ID 999
2026-02-10 11:49:20.527 [main] INFO  c.svalero.rutea.service.RutaService - Eliminando ruta ID: 999
2026-02-10 11:49:20.528 [main] ERROR c.svalero.rutea.service.RutaService - Ruta no encontrada para eliminación: ID 999
2026-02-10 11:49:20.534 [main] INFO  c.svalero.rutea.service.RutaService - Modificando ruta ID: 999
2026-02-10 11:49:20.535 [main] ERROR c.svalero.rutea.service.RutaService - Ruta no encontrada para modificación: ID 999
2026-02-10 11:49:20.540 [main] INFO  c.svalero.rutea.service.RutaService - Modificando ruta ID: 1
2026-02-10 11:49:20.547 [main] INFO  c.svalero.rutea.service.RutaService - Eliminando ruta ID: 1
2026-02-10 11:49:20.547 [main] INFO  c.svalero.rutea.service.RutaService - Ruta eliminada exitosamente: ID 1
2026-02-10 11:49:20.551 [main] INFO  c.svalero.rutea.service.RutaService - Modificando ruta ID: 1
2026-02-10 11:49:20.551 [main] ERROR c.svalero.rutea.service.RutaService - Usuario no encontrado: ID 999
2026-02-10 11:49:20.556 [main] INFO  c.svalero.rutea.service.RutaService - Creando nueva ruta: Ruta
2026-02-10 11:49:20.559 [main] INFO  c.svalero.rutea.service.RutaService - Creando nueva ruta: Paseo por el parque
2026-02-10 11:49:20.560 [main] INFO  c.svalero.rutea.service.RutaService - Ruta creada exitosamente con ID: 1
2026-02-10 11:49:20.565 [main] INFO  c.svalero.rutea.service.RutaService - Modificando ruta ID: 1
2026-02-10 11:49:20.565 [main] INFO  c.svalero.rutea.service.RutaService - Ruta modificada exitosamente: ID 1
2026-02-10 11:49:20.570 [main] DEBUG c.svalero.rutea.service.RutaService - Buscando ruta por ID: 999
2026-02-10 11:49:20.570 [main] ERROR c.svalero.rutea.service.RutaService - Ruta no encontrada: ID 999
2026-02-10 11:49:20.575 [main] DEBUG c.svalero.rutea.service.RutaService - Buscando rutas con filtros: dificultad=fac, publica=true, titulo=parque
2026-02-10 11:49:20.576 [main] INFO  c.svalero.rutea.service.RutaService - Se encontraron 1 rutas
2026-02-10 11:49:20.582 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.svalero.rutea.controller.ResenaControllerTest]: ResenaControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-02-10 11:49:20.588 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.svalero.rutea.RuteaApplication for test class com.svalero.rutea.controller.ResenaControllerTest
2026-02-10 11:49:20.611 [main] INFO  c.s.r.c.ResenaControllerTest - Starting ResenaControllerTest using Java 23 with PID 23060 (started by borzg in C:\Proyects\rutea)
2026-02-10 11:49:20.611 [main] DEBUG c.s.r.c.ResenaControllerTest - Running with Spring Boot v3.3.3, Spring v6.1.12
2026-02-10 11:49:20.611 [main] INFO  c.s.r.c.ResenaControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-10 11:49:20.613 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@462deb2b
2026-02-10 11:49:20.744 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 8 mappings in 'requestMappingHandlerMapping'
2026-02-10 11:49:20.764 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-10 11:49:20.767 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-10 11:49:20.769 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-10 11:49:20.772 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2026-02-10 11:49:20.772 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2026-02-10 11:49:20.772 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2026-02-10 11:49:20.775 [main] INFO  c.s.r.c.ResenaControllerTest - Started ResenaControllerTest in 0.185 seconds (process running for 6.378)
2026-02-10 11:49:20.778 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#delete(long)
2026-02-10 11:49:20.778 [main] DEBUG c.s.r.controller.ResenaController - DELETE /resenas/1
2026-02-10 11:49:20.781 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:20.781 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2026-02-10 11:49:20.788 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#add(ResenaInDto)
2026-02-10 11:49:20.794 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ResenaInDto(comentario=Ok, editada=false, fechaPublicacion=null, likes=0, titulo=null, valoracion=4, (truncated)...]
2026-02-10 11:49:20.798 [main] DEBUG c.s.r.controller.ResenaController - POST /resenas - valoracion: 4
2026-02-10 11:49:20.800 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.ResenaController#handleException(UsuarioNotFoundException)
2026-02-10 11:49:20.800 [main] WARN  c.s.r.controller.ResenaController - Usuario no encontrado: null
2026-02-10 11:49:20.801 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:20.801 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El usuario no existe, errors={})]
2026-02-10 11:49:20.801 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.UsuarioNotFoundException]
2026-02-10 11:49:20.805 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#add(ResenaInDto)
2026-02-10 11:49:20.805 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ResenaInDto(comentario=, editada=false, fechaPublicacion=null, likes=-1, titulo=null, valoracion=6,  (truncated)...]
2026-02-10 11:49:20.806 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.ResenaController#handleException(MethodArgumentNotValidException)
2026-02-10 11:49:20.806 [main] WARN  c.s.r.controller.ResenaController - Error de validación en request
2026-02-10 11:49:20.808 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:20.808 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={puntoId=puntoId is mand (truncated)...]
2026-02-10 11:49:20.808 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.ResenaOutDto> com.svalero.rutea.controller.ResenaController.add(com.svalero.rutea.dto.ResenaInDto) throws com.svalero.rutea.exception.PuntoInteresNotFoundException,com.svalero.rutea.exception.UsuarioNotFoundException with 5 errors: [Field error in object 'resenaInDto' on field 'puntoId': rejected value [null]; codes [NotNull.resenaInDto.puntoId,NotNull.puntoId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [resenaInDto.puntoId,puntoId]; arguments []; default message [puntoId]]; default message [puntoId is mandatory]] [Field error in object 'resenaInDto' on field 'usuarioId': rejected value [null]; codes [NotNull.resenaInDto.usuarioId,NotNull.usuarioId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [resenaInDto.usuarioId,usuarioId]; arguments []; default message [usuarioId]]; default message [usuarioId is mandatory]] [Field error in object 'resenaInDto' on field 'likes': rejected value [-1]; codes [PositiveOrZero.resenaInDto.likes,PositiveOrZero.likes,PositiveOrZero.int,PositiveOrZero]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [resenaInDto.likes,likes]; arguments []; default message [likes]]; default message [likes must be >= 0]] [Field error in object 'resenaInDto' on field 'valoracion': rejected value [6]; codes [Max.resenaInDto.valoracion,Max.valoracion,Max.int,Max]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [resenaInDto.valoracion,valoracion]; arguments []; default message [valoracion],5]; default message [valoracion must be between 1 and 5]] [Field error in object 'resenaInDto' on field 'comentario': rejected value []; codes [NotBlank.resenaInDto.comentario,NotBlank.comentario,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [resenaInDto.comentario,comentario]; arguments []; default message [comentario]]; default message [comentario is mandatory]] ]
2026-02-10 11:49:20.813 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#modify(long, ResenaInDto)
2026-02-10 11:49:20.815 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ResenaInDto(comentario=, editada=false, fechaPublicacion=null, likes=-5, titulo=t, valoracion=0, pun (truncated)...]
2026-02-10 11:49:20.815 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.ResenaController#handleException(MethodArgumentNotValidException)
2026-02-10 11:49:20.815 [main] WARN  c.s.r.controller.ResenaController - Error de validación en request
2026-02-10 11:49:20.815 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:20.816 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={valoracion=valoracion m (truncated)...]
2026-02-10 11:49:20.816 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [1] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.ResenaOutDto> com.svalero.rutea.controller.ResenaController.modify(long,com.svalero.rutea.dto.ResenaInDto) throws com.svalero.rutea.exception.ResenaNotFoundException,com.svalero.rutea.exception.PuntoInteresNotFoundException,com.svalero.rutea.exception.UsuarioNotFoundException with 5 errors: [Field error in object 'resenaInDto' on field 'comentario': rejected value []; codes [NotBlank.resenaInDto.comentario,NotBlank.comentario,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [resenaInDto.comentario,comentario]; arguments []; default message [comentario]]; default message [comentario is mandatory]] [Field error in object 'resenaInDto' on field 'valoracion': rejected value [0]; codes [Min.resenaInDto.valoracion,Min.valoracion,Min.int,Min]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [resenaInDto.valoracion,valoracion]; arguments []; default message [valoracion],1]; default message [valoracion must be between 1 and 5]] [Field error in object 'resenaInDto' on field 'likes': rejected value [-5]; codes [PositiveOrZero.resenaInDto.likes,PositiveOrZero.likes,PositiveOrZero.int,PositiveOrZero]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [resenaInDto.likes,likes]; arguments []; default message [likes]]; default message [likes must be >= 0]] [Field error in object 'resenaInDto' on field 'usuarioId': rejected value [null]; codes [NotNull.resenaInDto.usuarioId,NotNull.usuarioId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [resenaInDto.usuarioId,usuarioId]; arguments []; default message [usuarioId]]; default message [usuarioId is mandatory]] [Field error in object 'resenaInDto' on field 'puntoId': rejected value [null]; codes [NotNull.resenaInDto.puntoId,NotNull.puntoId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [resenaInDto.puntoId,puntoId]; arguments []; default message [puntoId]]; default message [puntoId is mandatory]] ]
2026-02-10 11:49:20.821 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#add(ResenaInDto)
2026-02-10 11:49:20.821 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ResenaInDto(comentario=Muy buena, editada=false, fechaPublicacion=2026-02-10, likes=0, titulo=Título (truncated)...]
2026-02-10 11:49:20.823 [main] DEBUG c.s.r.controller.ResenaController - POST /resenas - valoracion: 5
2026-02-10 11:49:20.824 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:20.831 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ResenaOutDto(id=1, comentario=Muy buena, editada=false, fechaPublicacion=2026-02-10, likes=0, titulo (truncated)...]
2026-02-10 11:49:20.836 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#modify(long, ResenaInDto)
2026-02-10 11:49:20.836 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ResenaInDto(comentario=Editada, editada=true, fechaPublicacion=2026-02-10, likes=5, titulo=Nuevo, va (truncated)...]
2026-02-10 11:49:20.837 [main] DEBUG c.s.r.controller.ResenaController - PUT /resenas/1
2026-02-10 11:49:20.837 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:20.837 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ResenaOutDto(id=1, comentario=Editada, editada=true, fechaPublicacion=2026-02-10, likes=5, titulo=Nu (truncated)...]
2026-02-10 11:49:20.841 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#get(long)
2026-02-10 11:49:20.841 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.ResenaOutDto> com.svalero.rutea.controller.ResenaController.get(long) throws com.svalero.rutea.exception.ResenaNotFoundException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"
2026-02-10 11:49:20.841 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:49:20.841 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:20.841 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={id=Invalid value: abc})]
2026-02-10 11:49:20.842 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"]
2026-02-10 11:49:20.844 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#delete(long)
2026-02-10 11:49:20.844 [main] DEBUG c.s.r.controller.ResenaController - DELETE /resenas/99
2026-02-10 11:49:20.845 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.ResenaController#handleException(ResenaNotFoundException)
2026-02-10 11:49:20.845 [main] WARN  c.s.r.controller.ResenaController - Reseña no encontrada: null
2026-02-10 11:49:20.845 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:20.845 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=La reseña no existe, errors={})]
2026-02-10 11:49:20.845 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.ResenaNotFoundException]
2026-02-10 11:49:20.850 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#delete(long)
2026-02-10 11:49:20.850 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.svalero.rutea.controller.ResenaController.delete(long) throws com.svalero.rutea.exception.ResenaNotFoundException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"
2026-02-10 11:49:20.850 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:49:20.850 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:20.850 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={id=Invalid value: abc})]
2026-02-10 11:49:20.850 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"]
2026-02-10 11:49:20.855 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#modify(long, ResenaInDto)
2026-02-10 11:49:20.855 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ResenaInDto(comentario=X, editada=false, fechaPublicacion=null, likes=0, titulo=null, valoracion=4,  (truncated)...]
2026-02-10 11:49:20.855 [main] DEBUG c.s.r.controller.ResenaController - PUT /resenas/1
2026-02-10 11:49:20.856 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.ResenaController#handleException(UsuarioNotFoundException)
2026-02-10 11:49:20.857 [main] WARN  c.s.r.controller.ResenaController - Usuario no encontrado: null
2026-02-10 11:49:20.857 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:20.857 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El usuario no existe, errors={})]
2026-02-10 11:49:20.858 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.UsuarioNotFoundException]
2026-02-10 11:49:20.863 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#add(ResenaInDto)
2026-02-10 11:49:20.865 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ResenaInDto(comentario=Ok, editada=false, fechaPublicacion=null, likes=0, titulo=null, valoracion=4, (truncated)...]
2026-02-10 11:49:20.865 [main] DEBUG c.s.r.controller.ResenaController - POST /resenas - valoracion: 4
2026-02-10 11:49:20.866 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.ResenaController#handleException(PuntoInteresNotFoundException)
2026-02-10 11:49:20.866 [main] WARN  c.s.r.controller.ResenaController - Punto de interés no encontrado: null
2026-02-10 11:49:20.866 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:20.866 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El punto de interés no existe, errors={})]
2026-02-10 11:49:20.866 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.PuntoInteresNotFoundException]
2026-02-10 11:49:20.869 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#modify(long, ResenaInDto)
2026-02-10 11:49:20.869 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ResenaInDto(comentario=X, editada=false, fechaPublicacion=null, likes=0, titulo=null, valoracion=4,  (truncated)...]
2026-02-10 11:49:20.871 [main] DEBUG c.s.r.controller.ResenaController - PUT /resenas/99
2026-02-10 11:49:20.871 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.ResenaController#handleException(ResenaNotFoundException)
2026-02-10 11:49:20.871 [main] WARN  c.s.r.controller.ResenaController - Reseña no encontrada: null
2026-02-10 11:49:20.871 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:20.871 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=La reseña no existe, errors={})]
2026-02-10 11:49:20.871 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.ResenaNotFoundException]
2026-02-10 11:49:20.875 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#get(long)
2026-02-10 11:49:20.875 [main] DEBUG c.s.r.controller.ResenaController - GET /resenas/99
2026-02-10 11:49:20.876 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.ResenaController#handleException(ResenaNotFoundException)
2026-02-10 11:49:20.876 [main] WARN  c.s.r.controller.ResenaController - Reseña no encontrada: null
2026-02-10 11:49:20.876 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:20.876 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=La reseña no existe, errors={})]
2026-02-10 11:49:20.876 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.ResenaNotFoundException]
2026-02-10 11:49:20.880 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#get(long)
2026-02-10 11:49:20.880 [main] DEBUG c.s.r.controller.ResenaController - GET /resenas/1
2026-02-10 11:49:20.881 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:20.881 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ResenaOutDto(id=1, comentario=Comentario, editada=false, fechaPublicacion=2026-02-10, likes=0, titul (truncated)...]
2026-02-10 11:49:20.883 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#getAll(Boolean, Integer, Integer)
2026-02-10 11:49:20.884 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [1] in public org.springframework.http.ResponseEntity<java.util.List<com.svalero.rutea.dto.ResenaOutDto>> com.svalero.rutea.controller.ResenaController.getAll(java.lang.Boolean,java.lang.Integer,java.lang.Integer): Failed to convert value of type 'java.lang.String' to required type 'java.lang.Integer'; For input string: "abc"
2026-02-10 11:49:20.884 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:49:20.884 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:20.885 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={likes=Invalid value: ab (truncated)...]
2026-02-10 11:49:20.885 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Integer'; For input string: "abc"]
2026-02-10 11:49:20.888 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#modify(long, ResenaInDto)
2026-02-10 11:49:20.889 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ResenaInDto(comentario=X, editada=false, fechaPublicacion=null, likes=0, titulo=null, valoracion=4,  (truncated)...]
2026-02-10 11:49:20.890 [main] DEBUG c.s.r.controller.ResenaController - PUT /resenas/1
2026-02-10 11:49:20.891 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.ResenaController#handleException(PuntoInteresNotFoundException)
2026-02-10 11:49:20.891 [main] WARN  c.s.r.controller.ResenaController - Punto de interés no encontrado: null
2026-02-10 11:49:20.891 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:20.891 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El punto de interés no existe, errors={})]
2026-02-10 11:49:20.891 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.PuntoInteresNotFoundException]
2026-02-10 11:49:20.894 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#getAll(Boolean, Integer, Integer)
2026-02-10 11:49:20.897 [main] DEBUG c.s.r.controller.ResenaController - GET /resenas - Filtros: editada=true, likes=10, valoracion=5
2026-02-10 11:49:20.898 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:49:20.898 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ResenaOutDto(id=1, comentario=Muy bien, editada=true, fechaPublicacion=2026-02-10, likes=10, titulo (truncated)...]
2026-02-10 11:49:20.903 [main] DEBUG c.s.rutea.service.UsuarioService - Buscando usuario por ID: 1
2026-02-10 11:49:20.908 [main] DEBUG c.s.rutea.service.UsuarioService - Buscando usuarios con filtros: premium=true, nivelExperiencia=null, username=
2026-02-10 11:49:20.908 [main] INFO  c.s.rutea.service.UsuarioService - Se encontraron 1 usuarios
2026-02-10 11:49:20.913 [main] INFO  c.s.rutea.service.UsuarioService - Modificando usuario ID: 1
2026-02-10 11:49:20.914 [main] INFO  c.s.rutea.service.UsuarioService - Usuario modificado exitosamente: ID 1
2026-02-10 11:49:20.918 [main] DEBUG c.s.rutea.service.UsuarioService - Buscando usuarios con filtros: premium=true, nivelExperiencia=3, username=bor
2026-02-10 11:49:20.918 [main] INFO  c.s.rutea.service.UsuarioService - Se encontraron 1 usuarios
2026-02-10 11:49:20.922 [main] DEBUG c.s.rutea.service.UsuarioService - Buscando usuarios con filtros: premium=true, nivelExperiencia=null, username=bor
2026-02-10 11:49:20.922 [main] INFO  c.s.rutea.service.UsuarioService - Se encontraron 1 usuarios
2026-02-10 11:49:20.927 [main] INFO  c.s.rutea.service.UsuarioService - Eliminando usuario ID: 99
2026-02-10 11:49:20.927 [main] ERROR c.s.rutea.service.UsuarioService - Usuario no encontrado para eliminación: ID 99
2026-02-10 11:49:20.931 [main] INFO  c.s.rutea.service.UsuarioService - Eliminando usuario ID: 1
2026-02-10 11:49:20.931 [main] INFO  c.s.rutea.service.UsuarioService - Usuario eliminado exitosamente: ID 1
2026-02-10 11:49:20.937 [main] DEBUG c.s.rutea.service.UsuarioService - Buscando usuario por ID: 99
2026-02-10 11:49:20.938 [main] ERROR c.s.rutea.service.UsuarioService - Usuario no encontrado: ID 99
2026-02-10 11:49:20.941 [main] INFO  c.s.rutea.service.UsuarioService - Modificando usuario ID: 99
2026-02-10 11:49:20.942 [main] ERROR c.s.rutea.service.UsuarioService - Usuario no encontrado para modificación: ID 99
2026-02-10 11:49:20.947 [main] DEBUG c.s.rutea.service.UsuarioService - Buscando usuarios con filtros: premium=true, nivelExperiencia=3, username=
2026-02-10 11:49:20.947 [main] INFO  c.s.rutea.service.UsuarioService - Se encontraron 1 usuarios
2026-02-10 11:49:20.954 [main] DEBUG c.s.rutea.service.UsuarioService - Buscando usuarios con filtros: premium=null, nivelExperiencia=null, username=
2026-02-10 11:49:20.954 [main] INFO  c.s.rutea.service.UsuarioService - Se encontraron 2 usuarios
2026-02-10 11:49:20.959 [main] INFO  c.s.rutea.service.UsuarioService - Creando nuevo usuario: borja
2026-02-10 11:49:20.959 [main] INFO  c.s.rutea.service.UsuarioService - Usuario creado exitosamente con ID: 1
2026-02-10 11:49:20.965 [main] DEBUG c.s.rutea.service.UsuarioService - Buscando usuarios con filtros: premium=null, nivelExperiencia=3, username=bor
2026-02-10 11:49:20.965 [main] INFO  c.s.rutea.service.UsuarioService - Se encontraron 1 usuarios
2026-02-10 11:49:20.970 [main] DEBUG c.s.rutea.service.UsuarioService - Buscando usuarios con filtros: premium=null, nivelExperiencia=null, username=an
2026-02-10 11:49:20.970 [main] INFO  c.s.rutea.service.UsuarioService - Se encontraron 1 usuarios
2026-02-10 11:49:20.973 [main] DEBUG c.s.rutea.service.UsuarioService - Buscando usuarios con filtros: premium=null, nivelExperiencia=0, username=
2026-02-10 11:49:20.974 [main] INFO  c.s.rutea.service.UsuarioService - Se encontraron 1 usuarios
2026-02-10 11:49:20.986 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@18a645fd, started on Tue Feb 10 11:49:16 CET 2026
2026-02-10 11:49:20.991 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@39c5a105, started on Tue Feb 10 11:49:18 CET 2026
2026-02-10 11:49:20.992 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@4fd63c43, started on Tue Feb 10 11:49:19 CET 2026
2026-02-10 11:49:20.993 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@45ac973, started on Tue Feb 10 11:49:19 CET 2026
2026-02-10 11:49:20.995 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@462deb2b, started on Tue Feb 10 11:49:20 CET 2026
2026-02-10 11:51:07.092 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2026-02-10 11:51:07.124 [main] INFO  c.s.r.c.PuntoInteresControllerTest - Starting PuntoInteresControllerTest using Java 23 with PID 20172 (started by borzg in C:\Proyects\rutea)
2026-02-10 11:51:07.124 [main] DEBUG c.s.r.c.PuntoInteresControllerTest - Running with Spring Boot v3.3.3, Spring v6.1.12
2026-02-10 11:51:07.125 [main] INFO  c.s.r.c.PuntoInteresControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-10 11:51:07.138 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@30331109
2026-02-10 11:51:08.678 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 8 mappings in 'requestMappingHandlerMapping'
2026-02-10 11:51:08.825 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-10 11:51:08.885 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-10 11:51:08.928 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-10 11:51:08.998 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2026-02-10 11:51:08.998 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2026-02-10 11:51:09.000 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
2026-02-10 11:51:09.032 [main] INFO  c.s.r.c.PuntoInteresControllerTest - Started PuntoInteresControllerTest in 2.331 seconds (process running for 3.632)
2026-02-10 11:51:09.177 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#getAll(Long, Boolean, Boolean, String, Float)
2026-02-10 11:51:09.227 [main] DEBUG c.s.r.c.PuntoInteresController - GET: /puntos - Filtros aplicados
2026-02-10 11:51:09.255 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:09.271 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[PuntoInteresOutDto(id=1, abiertoActualmente=false, fechaCreacion=null, latitud=0.0, longitud=0.0, n (truncated)...]
2026-02-10 11:51:09.365 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#delete(long)
2026-02-10 11:51:09.369 [main] DEBUG c.s.r.c.PuntoInteresController - DELETE: /puntos/1
2026-02-10 11:51:09.370 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:09.370 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2026-02-10 11:51:09.391 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#add(PuntoInteresInDto)
2026-02-10 11:51:09.417 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [PuntoInteresInDto(abiertoActualmente=true, fechaCreacion=null, latitud=200.0, longitud=-999.0, nombr (truncated)...]
2026-02-10 11:51:09.499 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.PuntoInteresController#handleException(MethodArgumentNotValidException)
2026-02-10 11:51:09.501 [main] WARN  c.s.r.c.PuntoInteresController - Error de validación en request
2026-02-10 11:51:09.503 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:09.506 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={puntuacionMedia=puntuac (truncated)...]
2026-02-10 11:51:09.510 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.PuntoInteresOutDto> com.svalero.rutea.controller.PuntoInteresController.add(com.svalero.rutea.dto.PuntoInteresInDto) throws com.svalero.rutea.exception.CategoriaNotFoundException with 5 errors: [Field error in object 'puntoInteresInDto' on field 'longitud': rejected value [-999.0]; codes [DecimalMin.puntoInteresInDto.longitud,DecimalMin.longitud,DecimalMin.double,DecimalMin]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [puntoInteresInDto.longitud,longitud]; arguments []; default message [longitud],true,-180.0]; default message [longitud must be between -180 and 180]] [Field error in object 'puntoInteresInDto' on field 'puntuacionMedia': rejected value [6.0]; codes [DecimalMax.puntoInteresInDto.puntuacionMedia,DecimalMax.puntuacionMedia,DecimalMax.float,DecimalMax]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [puntoInteresInDto.puntuacionMedia,puntuacionMedia]; arguments []; default message [puntuacionMedia],true,5.0]; default message [puntuacionMedia must be between 0 and 5]] [Field error in object 'puntoInteresInDto' on field 'categoriaId': rejected value [null]; codes [NotNull.puntoInteresInDto.categoriaId,NotNull.categoriaId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [puntoInteresInDto.categoriaId,categoriaId]; arguments []; default message [categoriaId]]; default message [categoriaId is mandatory]] [Field error in object 'puntoInteresInDto' on field 'nombre': rejected value []; codes [NotBlank.puntoInteresInDto.nombre,NotBlank.nombre,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [puntoInteresInDto.nombre,nombre]; arguments []; default message [nombre]]; default message [nombre is mandatory]] [Field error in object 'puntoInteresInDto' on field 'latitud': rejected value [200.0]; codes [DecimalMax.puntoInteresInDto.latitud,DecimalMax.latitud,DecimalMax.double,DecimalMax]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [puntoInteresInDto.latitud,latitud]; arguments []; default message [latitud],true,90.0]; default message [latitud must be between -90 and 90]] ]
2026-02-10 11:51:09.517 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#modify(long, PuntoInteresInDto)
2026-02-10 11:51:09.518 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [PuntoInteresInDto(abiertoActualmente=true, fechaCreacion=null, latitud=1000.0, longitud=0.0, nombre= (truncated)...]
2026-02-10 11:51:09.518 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.PuntoInteresController#handleException(MethodArgumentNotValidException)
2026-02-10 11:51:09.518 [main] WARN  c.s.r.c.PuntoInteresController - Error de validación en request
2026-02-10 11:51:09.520 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:09.520 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={puntuacionMedia=puntuac (truncated)...]
2026-02-10 11:51:09.520 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [1] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.PuntoInteresOutDto> com.svalero.rutea.controller.PuntoInteresController.modify(long,com.svalero.rutea.dto.PuntoInteresInDto) throws com.svalero.rutea.exception.PuntoInteresNotFoundException,com.svalero.rutea.exception.CategoriaNotFoundException with 4 errors: [Field error in object 'puntoInteresInDto' on field 'latitud': rejected value [1000.0]; codes [DecimalMax.puntoInteresInDto.latitud,DecimalMax.latitud,DecimalMax.double,DecimalMax]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [puntoInteresInDto.latitud,latitud]; arguments []; default message [latitud],true,90.0]; default message [latitud must be between -90 and 90]] [Field error in object 'puntoInteresInDto' on field 'puntuacionMedia': rejected value [-1.0]; codes [DecimalMin.puntoInteresInDto.puntuacionMedia,DecimalMin.puntuacionMedia,DecimalMin.float,DecimalMin]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [puntoInteresInDto.puntuacionMedia,puntuacionMedia]; arguments []; default message [puntuacionMedia],true,0.0]; default message [puntuacionMedia must be between 0 and 5]] [Field error in object 'puntoInteresInDto' on field 'nombre': rejected value []; codes [NotBlank.puntoInteresInDto.nombre,NotBlank.nombre,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [puntoInteresInDto.nombre,nombre]; arguments []; default message [nombre]]; default message [nombre is mandatory]] [Field error in object 'puntoInteresInDto' on field 'categoriaId': rejected value [null]; codes [NotNull.puntoInteresInDto.categoriaId,NotNull.categoriaId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [puntoInteresInDto.categoriaId,categoriaId]; arguments []; default message [categoriaId]]; default message [categoriaId is mandatory]] ]
2026-02-10 11:51:09.526 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#add(PuntoInteresInDto)
2026-02-10 11:51:09.528 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [PuntoInteresInDto(abiertoActualmente=true, fechaCreacion=2026-02-10T11:51:09.525479700, latitud=41.0 (truncated)...]
2026-02-10 11:51:09.528 [main] DEBUG c.s.r.c.PuntoInteresController - POST: /puntos/ - Parque
2026-02-10 11:51:09.531 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:09.531 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [PuntoInteresOutDto(id=10, abiertoActualmente=true, fechaCreacion=2026-02-10T11:51:09.525479700, lati (truncated)...]
2026-02-10 11:51:09.535 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#modify(long, PuntoInteresInDto)
2026-02-10 11:51:09.537 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [PuntoInteresInDto(abiertoActualmente=false, fechaCreacion=null, latitud=40.0, longitud=-0.7, nombre= (truncated)...]
2026-02-10 11:51:09.538 [main] DEBUG c.s.r.c.PuntoInteresController - PUT: /puntos/1
2026-02-10 11:51:09.538 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:09.538 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [PuntoInteresOutDto(id=1, abiertoActualmente=false, fechaCreacion=null, latitud=40.0, longitud=-0.7,  (truncated)...]
2026-02-10 11:51:09.543 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#get(long)
2026-02-10 11:51:09.546 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.PuntoInteresOutDto> com.svalero.rutea.controller.PuntoInteresController.get(long) throws com.svalero.rutea.exception.PuntoInteresNotFoundException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"
2026-02-10 11:51:09.548 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:51:09.548 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:09.548 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={id=Invalid value: abc})]
2026-02-10 11:51:09.549 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"]
2026-02-10 11:51:09.555 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#modify(long, PuntoInteresInDto)
2026-02-10 11:51:09.555 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [PuntoInteresInDto(abiertoActualmente=true, fechaCreacion=null, latitud=41.0, longitud=-0.8, nombre=P (truncated)...]
2026-02-10 11:51:09.556 [main] DEBUG c.s.r.c.PuntoInteresController - PUT: /puntos/1
2026-02-10 11:51:09.556 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.PuntoInteresController#handleException(CategoriaNotFoundException)
2026-02-10 11:51:09.556 [main] WARN  c.s.r.c.PuntoInteresController - Categoría no encontrada: null
2026-02-10 11:51:09.556 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:09.558 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=La categoría no existe, errors={})]
2026-02-10 11:51:09.558 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.CategoriaNotFoundException]
2026-02-10 11:51:09.561 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#add(PuntoInteresInDto)
2026-02-10 11:51:09.563 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [PuntoInteresInDto(abiertoActualmente=true, fechaCreacion=null, latitud=41.0, longitud=-0.8, nombre=P (truncated)...]
2026-02-10 11:51:09.563 [main] DEBUG c.s.r.c.PuntoInteresController - POST: /puntos/ - Parque
2026-02-10 11:51:09.563 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.PuntoInteresController#handleException(CategoriaNotFoundException)
2026-02-10 11:51:09.564 [main] WARN  c.s.r.c.PuntoInteresController - Categoría no encontrada: null
2026-02-10 11:51:09.564 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:09.564 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=La categoría no existe, errors={})]
2026-02-10 11:51:09.564 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.CategoriaNotFoundException]
2026-02-10 11:51:09.569 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#delete(long)
2026-02-10 11:51:09.569 [main] DEBUG c.s.r.c.PuntoInteresController - DELETE: /puntos/99
2026-02-10 11:51:09.570 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.PuntoInteresController#handleException(PuntoInteresNotFoundException)
2026-02-10 11:51:09.570 [main] WARN  c.s.r.c.PuntoInteresController - Punto de interés no encontrado: null
2026-02-10 11:51:09.570 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:09.570 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El punto de interés no existe, errors={})]
2026-02-10 11:51:09.570 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.PuntoInteresNotFoundException]
2026-02-10 11:51:09.574 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#delete(long)
2026-02-10 11:51:09.575 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.svalero.rutea.controller.PuntoInteresController.delete(long) throws com.svalero.rutea.exception.PuntoInteresNotFoundException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"
2026-02-10 11:51:09.575 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:51:09.575 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:09.575 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={id=Invalid value: abc})]
2026-02-10 11:51:09.575 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"]
2026-02-10 11:51:09.578 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#get(long)
2026-02-10 11:51:09.580 [main] DEBUG c.s.r.c.PuntoInteresController - GET: /puntos/99
2026-02-10 11:51:09.580 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.PuntoInteresController#handleException(PuntoInteresNotFoundException)
2026-02-10 11:51:09.580 [main] WARN  c.s.r.c.PuntoInteresController - Punto de interés no encontrado: null
2026-02-10 11:51:09.580 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:09.580 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El punto de interés no existe, errors={})]
2026-02-10 11:51:09.580 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.PuntoInteresNotFoundException]
2026-02-10 11:51:09.584 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#getAll(Long, Boolean, Boolean, String, Float)
2026-02-10 11:51:09.586 [main] DEBUG c.s.r.c.PuntoInteresController - GET: /puntos - Filtros aplicados
2026-02-10 11:51:09.586 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:09.586 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[PuntoInteresOutDto(id=10, abiertoActualmente=true, fechaCreacion=2026-02-10T11:51:09.584909600, lat (truncated)...]
2026-02-10 11:51:09.592 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#get(long)
2026-02-10 11:51:09.592 [main] DEBUG c.s.r.c.PuntoInteresController - GET: /puntos/1
2026-02-10 11:51:09.592 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:09.592 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [PuntoInteresOutDto(id=1, abiertoActualmente=true, fechaCreacion=null, latitud=41.0, longitud=-0.8, n (truncated)...]
2026-02-10 11:51:09.595 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#getAll(Long, Boolean, Boolean, String, Float)
2026-02-10 11:51:09.597 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [4] in public org.springframework.http.ResponseEntity<java.util.List<com.svalero.rutea.dto.PuntoInteresOutDto>> com.svalero.rutea.controller.PuntoInteresController.getAll(java.lang.Long,java.lang.Boolean,java.lang.Boolean,java.lang.String,java.lang.Float): Failed to convert value of type 'java.lang.String' to required type 'java.lang.Float'; For input string: "abc"
2026-02-10 11:51:09.597 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:51:09.597 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:09.597 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={puntuacionMedia=Invalid (truncated)...]
2026-02-10 11:51:09.597 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Float'; For input string: "abc"]
2026-02-10 11:51:09.602 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#modify(long, PuntoInteresInDto)
2026-02-10 11:51:09.602 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [PuntoInteresInDto(abiertoActualmente=true, fechaCreacion=null, latitud=41.0, longitud=-0.8, nombre=P (truncated)...]
2026-02-10 11:51:09.603 [main] DEBUG c.s.r.c.PuntoInteresController - PUT: /puntos/99
2026-02-10 11:51:09.603 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.PuntoInteresController#handleException(PuntoInteresNotFoundException)
2026-02-10 11:51:09.603 [main] WARN  c.s.r.c.PuntoInteresController - Punto de interés no encontrado: null
2026-02-10 11:51:09.603 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:09.603 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El punto de interés no existe, errors={})]
2026-02-10 11:51:09.603 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.PuntoInteresNotFoundException]
2026-02-10 11:51:09.609 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.svalero.rutea.controller.UsuarioControllerTest]: UsuarioControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-02-10 11:51:09.619 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.svalero.rutea.RuteaApplication for test class com.svalero.rutea.controller.UsuarioControllerTest
2026-02-10 11:51:09.644 [main] INFO  c.s.r.c.UsuarioControllerTest - Starting UsuarioControllerTest using Java 23 with PID 20172 (started by borzg in C:\Proyects\rutea)
2026-02-10 11:51:09.644 [main] DEBUG c.s.r.c.UsuarioControllerTest - Running with Spring Boot v3.3.3, Spring v6.1.12
2026-02-10 11:51:09.644 [main] INFO  c.s.r.c.UsuarioControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-10 11:51:09.645 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@2cd5b19c
2026-02-10 11:51:09.840 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 8 mappings in 'requestMappingHandlerMapping'
2026-02-10 11:51:09.873 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-10 11:51:09.880 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-10 11:51:09.885 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-10 11:51:09.894 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2026-02-10 11:51:09.894 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2026-02-10 11:51:09.896 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
2026-02-10 11:51:09.900 [main] INFO  c.s.r.c.UsuarioControllerTest - Started UsuarioControllerTest in 0.279 seconds (process running for 4.502)
2026-02-10 11:51:09.904 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#delete(long)
2026-02-10 11:51:09.905 [main] DEBUG c.s.r.controller.UsuarioController - DELETE /usuarios/1
2026-02-10 11:51:09.908 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:09.908 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2026-02-10 11:51:09.919 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#modify(long, UsuarioInDto)
2026-02-10 11:51:09.925 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UsuarioInDto(email=b@b.com, esPremium=false, fechaRegistro=2026-02-10, nivelExperiencia=5, password= (truncated)...]
2026-02-10 11:51:09.947 [main] DEBUG c.s.r.controller.UsuarioController - PUT /usuarios/99
2026-02-10 11:51:09.949 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.UsuarioController#handleException(UsuarioNotFoundException)
2026-02-10 11:51:09.949 [main] WARN  c.s.r.controller.UsuarioController - Usuario no encontrado: null
2026-02-10 11:51:09.951 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:09.951 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El usuario no existe, errors={})]
2026-02-10 11:51:09.951 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.UsuarioNotFoundException]
2026-02-10 11:51:09.954 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#add(UsuarioInDto)
2026-02-10 11:51:09.956 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UsuarioInDto(email=no-es-email, esPremium=false, fechaRegistro=null, nivelExperiencia=-1, password=1 (truncated)...]
2026-02-10 11:51:09.957 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.UsuarioController#handleException(MethodArgumentNotValidException)
2026-02-10 11:51:09.957 [main] WARN  c.s.r.controller.UsuarioController - Error de validación en request
2026-02-10 11:51:09.957 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:09.957 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={password=password lengt (truncated)...]
2026-02-10 11:51:09.959 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.UsuarioOutDto> com.svalero.rutea.controller.UsuarioController.add(com.svalero.rutea.dto.UsuarioInDto) with 5 errors: [Field error in object 'usuarioInDto' on field 'nivelExperiencia': rejected value [-1]; codes [Min.usuarioInDto.nivelExperiencia,Min.nivelExperiencia,Min.int,Min]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.nivelExperiencia,nivelExperiencia]; arguments []; default message [nivelExperiencia],0]; default message [nivelExperiencia must be >= 0]] [Field error in object 'usuarioInDto' on field 'email': rejected value [no-es-email]; codes [Email.usuarioInDto.email,Email.email,Email.java.lang.String,Email]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.email,email]; arguments []; default message [email],[Ljakarta.validation.constraints.Pattern$Flag;@52bb3dcd,.*]; default message [email must be valid]] [Field error in object 'usuarioInDto' on field 'password': rejected value [123]; codes [Size.usuarioInDto.password,Size.password,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.password,password]; arguments []; default message [password],255,6]; default message [password length must be between 6 and 255]] [Field error in object 'usuarioInDto' on field 'fechaRegistro': rejected value [null]; codes [NotNull.usuarioInDto.fechaRegistro,NotNull.fechaRegistro,NotNull.java.time.LocalDate,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.fechaRegistro,fechaRegistro]; arguments []; default message [fechaRegistro]]; default message [fechaRegistro is mandatory]] [Field error in object 'usuarioInDto' on field 'username': rejected value []; codes [NotBlank.usuarioInDto.username,NotBlank.username,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.username,username]; arguments []; default message [username]]; default message [username is mandatory]] ]
2026-02-10 11:51:09.962 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#modify(long, UsuarioInDto)
2026-02-10 11:51:09.964 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UsuarioInDto(email=, esPremium=false, fechaRegistro=null, nivelExperiencia=-2, password=1, username= (truncated)...]
2026-02-10 11:51:09.964 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.UsuarioController#handleException(MethodArgumentNotValidException)
2026-02-10 11:51:09.964 [main] WARN  c.s.r.controller.UsuarioController - Error de validación en request
2026-02-10 11:51:09.964 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:09.964 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={password=password lengt (truncated)...]
2026-02-10 11:51:09.966 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [1] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.UsuarioOutDto> com.svalero.rutea.controller.UsuarioController.modify(long,com.svalero.rutea.dto.UsuarioInDto) throws com.svalero.rutea.exception.UsuarioNotFoundException with 5 errors: [Field error in object 'usuarioInDto' on field 'username': rejected value []; codes [NotBlank.usuarioInDto.username,NotBlank.username,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.username,username]; arguments []; default message [username]]; default message [username is mandatory]] [Field error in object 'usuarioInDto' on field 'password': rejected value [1]; codes [Size.usuarioInDto.password,Size.password,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.password,password]; arguments []; default message [password],255,6]; default message [password length must be between 6 and 255]] [Field error in object 'usuarioInDto' on field 'nivelExperiencia': rejected value [-2]; codes [Min.usuarioInDto.nivelExperiencia,Min.nivelExperiencia,Min.int,Min]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.nivelExperiencia,nivelExperiencia]; arguments []; default message [nivelExperiencia],0]; default message [nivelExperiencia must be >= 0]] [Field error in object 'usuarioInDto' on field 'fechaRegistro': rejected value [null]; codes [NotNull.usuarioInDto.fechaRegistro,NotNull.fechaRegistro,NotNull.java.time.LocalDate,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.fechaRegistro,fechaRegistro]; arguments []; default message [fechaRegistro]]; default message [fechaRegistro is mandatory]] [Field error in object 'usuarioInDto' on field 'email': rejected value []; codes [NotBlank.usuarioInDto.email,NotBlank.email,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.email,email]; arguments []; default message [email]]; default message [email is mandatory]] ]
2026-02-10 11:51:09.969 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#add(UsuarioInDto)
2026-02-10 11:51:09.970 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UsuarioInDto(email=a@a.com, esPremium=true, fechaRegistro=2026-02-10, nivelExperiencia=2, password=1 (truncated)...]
2026-02-10 11:51:09.971 [main] DEBUG c.s.r.controller.UsuarioController - POST /usuarios - borja
2026-02-10 11:51:09.972 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:09.978 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UsuarioOutDto(id=1, email=a@a.com, esPremium=true, fechaRegistro=2026-02-10, nivelExperiencia=2, use (truncated)...]
2026-02-10 11:51:09.983 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#modify(long, UsuarioInDto)
2026-02-10 11:51:09.985 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UsuarioInDto(email=b@b.com, esPremium=false, fechaRegistro=2026-02-10, nivelExperiencia=5, password= (truncated)...]
2026-02-10 11:51:09.985 [main] DEBUG c.s.r.controller.UsuarioController - PUT /usuarios/1
2026-02-10 11:51:09.986 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:09.986 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UsuarioOutDto(id=1, email=b@b.com, esPremium=false, fechaRegistro=2026-02-10, nivelExperiencia=5, us (truncated)...]
2026-02-10 11:51:09.989 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#get(long)
2026-02-10 11:51:09.991 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.UsuarioOutDto> com.svalero.rutea.controller.UsuarioController.get(long) throws com.svalero.rutea.exception.UsuarioNotFoundException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"
2026-02-10 11:51:09.991 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:51:09.991 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:09.992 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={id=Invalid value: abc})]
2026-02-10 11:51:09.992 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"]
2026-02-10 11:51:09.996 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#delete(long)
2026-02-10 11:51:09.997 [main] DEBUG c.s.r.controller.UsuarioController - DELETE /usuarios/99
2026-02-10 11:51:09.998 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.UsuarioController#handleException(UsuarioNotFoundException)
2026-02-10 11:51:09.998 [main] WARN  c.s.r.controller.UsuarioController - Usuario no encontrado: null
2026-02-10 11:51:09.998 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:09.999 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El usuario no existe, errors={})]
2026-02-10 11:51:09.999 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.UsuarioNotFoundException]
2026-02-10 11:51:10.002 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#delete(long)
2026-02-10 11:51:10.002 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.svalero.rutea.controller.UsuarioController.delete(long) throws com.svalero.rutea.exception.UsuarioNotFoundException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"
2026-02-10 11:51:10.002 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:51:10.002 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:10.002 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={id=Invalid value: abc})]
2026-02-10 11:51:10.002 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"]
2026-02-10 11:51:10.005 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#get(long)
2026-02-10 11:51:10.005 [main] DEBUG c.s.r.controller.UsuarioController - GET /usuarios/99
2026-02-10 11:51:10.006 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.UsuarioController#handleException(UsuarioNotFoundException)
2026-02-10 11:51:10.006 [main] WARN  c.s.r.controller.UsuarioController - Usuario no encontrado: null
2026-02-10 11:51:10.006 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:10.006 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El usuario no existe, errors={})]
2026-02-10 11:51:10.006 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.UsuarioNotFoundException]
2026-02-10 11:51:10.010 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#get(long)
2026-02-10 11:51:10.011 [main] DEBUG c.s.r.controller.UsuarioController - GET /usuarios/1
2026-02-10 11:51:10.011 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:10.011 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UsuarioOutDto(id=1, email=a@a.com, esPremium=false, fechaRegistro=2026-02-10, nivelExperiencia=0, us (truncated)...]
2026-02-10 11:51:10.014 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#getAll(Boolean, Integer, String)
2026-02-10 11:51:10.016 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [1] in public org.springframework.http.ResponseEntity<java.util.List<com.svalero.rutea.dto.UsuarioOutDto>> com.svalero.rutea.controller.UsuarioController.getAll(java.lang.Boolean,java.lang.Integer,java.lang.String): Failed to convert value of type 'java.lang.String' to required type 'java.lang.Integer'; For input string: "abc"
2026-02-10 11:51:10.016 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:51:10.016 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:10.016 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={nivelExperiencia=Invali (truncated)...]
2026-02-10 11:51:10.016 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Integer'; For input string: "abc"]
2026-02-10 11:51:10.019 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#getAll(Boolean, Integer, String)
2026-02-10 11:51:10.021 [main] DEBUG c.s.r.controller.UsuarioController - GET /usuarios - Filtros: premium=true, nivelExperiencia=3, username=bor
2026-02-10 11:51:10.022 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:10.022 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UsuarioOutDto(id=1, email=a@a.com, esPremium=true, fechaRegistro=2026-02-10, nivelExperiencia=3, us (truncated)...]
2026-02-10 11:51:10.027 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.svalero.rutea.controller.CategoriaControllerTest]: CategoriaControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-02-10 11:51:10.035 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.svalero.rutea.RuteaApplication for test class com.svalero.rutea.controller.CategoriaControllerTest
2026-02-10 11:51:10.059 [main] INFO  c.s.r.c.CategoriaControllerTest - Starting CategoriaControllerTest using Java 23 with PID 20172 (started by borzg in C:\Proyects\rutea)
2026-02-10 11:51:10.059 [main] DEBUG c.s.r.c.CategoriaControllerTest - Running with Spring Boot v3.3.3, Spring v6.1.12
2026-02-10 11:51:10.059 [main] INFO  c.s.r.c.CategoriaControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-10 11:51:10.061 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@75adb1c0
2026-02-10 11:51:10.221 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 8 mappings in 'requestMappingHandlerMapping'
2026-02-10 11:51:10.243 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-10 11:51:10.248 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-10 11:51:10.249 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-10 11:51:10.254 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2026-02-10 11:51:10.254 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2026-02-10 11:51:10.254 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2026-02-10 11:51:10.257 [main] INFO  c.s.r.c.CategoriaControllerTest - Started CategoriaControllerTest in 0.221 seconds (process running for 4.857)
2026-02-10 11:51:10.260 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#delete(long)
2026-02-10 11:51:10.262 [main] DEBUG c.s.r.controller.CategoriaController - DELETE /categorias/1
2026-02-10 11:51:10.263 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:10.263 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2026-02-10 11:51:10.266 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#delete(long)
2026-02-10 11:51:10.266 [main] DEBUG c.s.r.controller.CategoriaController - DELETE /categorias/99
2026-02-10 11:51:10.266 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.CategoriaController#handleException(CategoriaNotFoundException)
2026-02-10 11:51:10.268 [main] WARN  c.s.r.controller.CategoriaController - Categoría no encontrada: null
2026-02-10 11:51:10.269 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:10.269 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=La categoria no existe, errors={})]
2026-02-10 11:51:10.269 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.CategoriaNotFoundException]
2026-02-10 11:51:10.277 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#add(CategoriaInDto)
2026-02-10 11:51:10.283 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CategoriaInDto(activa=false, costePromedio=0.0, descripcion=null, iconoUrl=null, nombre=, ordenPrior (truncated)...]
2026-02-10 11:51:10.290 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.CategoriaController#handleException(MethodArgumentNotValidException)
2026-02-10 11:51:10.290 [main] WARN  c.s.r.controller.CategoriaController - Error de validación en request
2026-02-10 11:51:10.290 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:10.291 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={nombre=nombre is mandat (truncated)...]
2026-02-10 11:51:10.291 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.CategoriaOutDto> com.svalero.rutea.controller.CategoriaController.add(com.svalero.rutea.dto.CategoriaInDto): [Field error in object 'categoriaInDto' on field 'nombre': rejected value []; codes [NotBlank.categoriaInDto.nombre,NotBlank.nombre,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaInDto.nombre,nombre]; arguments []; default message [nombre]]; default message [nombre is mandatory]] ]
2026-02-10 11:51:10.294 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#modify(long, CategoriaInDto)
2026-02-10 11:51:10.296 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CategoriaInDto(activa=false, costePromedio=0.0, descripcion=null, iconoUrl=null, nombre=, ordenPrior (truncated)...]
2026-02-10 11:51:10.296 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.CategoriaController#handleException(MethodArgumentNotValidException)
2026-02-10 11:51:10.296 [main] WARN  c.s.r.controller.CategoriaController - Error de validación en request
2026-02-10 11:51:10.296 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:10.296 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={nombre=nombre is mandat (truncated)...]
2026-02-10 11:51:10.296 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [1] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.CategoriaOutDto> com.svalero.rutea.controller.CategoriaController.modify(long,com.svalero.rutea.dto.CategoriaInDto) throws com.svalero.rutea.exception.CategoriaNotFoundException: [Field error in object 'categoriaInDto' on field 'nombre': rejected value []; codes [NotBlank.categoriaInDto.nombre,NotBlank.nombre,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaInDto.nombre,nombre]; arguments []; default message [nombre]]; default message [nombre is mandatory]] ]
2026-02-10 11:51:10.299 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#add(CategoriaInDto)
2026-02-10 11:51:10.300 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CategoriaInDto(activa=true, costePromedio=0.0, descripcion=null, iconoUrl=null, nombre=Montaña, orde (truncated)...]
2026-02-10 11:51:10.300 [main] DEBUG c.s.r.controller.CategoriaController - POST /categorias - Montaña
2026-02-10 11:51:10.302 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:10.309 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CategoriaOutDto(id=1, activa=true, costePromedio=0.0, descripcion=null, iconoUrl=null, nombre=Montañ (truncated)...]
2026-02-10 11:51:10.315 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#modify(long, CategoriaInDto)
2026-02-10 11:51:10.316 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CategoriaInDto(activa=true, costePromedio=0.0, descripcion=null, iconoUrl=null, nombre=X, ordenPrior (truncated)...]
2026-02-10 11:51:10.318 [main] DEBUG c.s.r.controller.CategoriaController - PUT /categorias/1
2026-02-10 11:51:10.318 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:10.318 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CategoriaOutDto(id=1, activa=true, costePromedio=0.0, descripcion=null, iconoUrl=null, nombre=X, ord (truncated)...]
2026-02-10 11:51:10.324 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#modify(long, CategoriaInDto)
2026-02-10 11:51:10.324 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CategoriaInDto(activa=true, costePromedio=0.0, descripcion=null, iconoUrl=null, nombre=X, ordenPrior (truncated)...]
2026-02-10 11:51:10.325 [main] DEBUG c.s.r.controller.CategoriaController - PUT /categorias/99
2026-02-10 11:51:10.325 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.CategoriaController#handleException(CategoriaNotFoundException)
2026-02-10 11:51:10.325 [main] WARN  c.s.r.controller.CategoriaController - Categoría no encontrada: null
2026-02-10 11:51:10.325 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:10.325 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=La categoria no existe, errors={})]
2026-02-10 11:51:10.327 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.CategoriaNotFoundException]
2026-02-10 11:51:10.330 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#get(long)
2026-02-10 11:51:10.330 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.CategoriaOutDto> com.svalero.rutea.controller.CategoriaController.get(long) throws com.svalero.rutea.exception.CategoriaNotFoundException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"
2026-02-10 11:51:10.330 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:51:10.332 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:10.332 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={id=Invalid value: abc})]
2026-02-10 11:51:10.332 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"]
2026-02-10 11:51:10.336 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#delete(long)
2026-02-10 11:51:10.336 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.svalero.rutea.controller.CategoriaController.delete(long) throws com.svalero.rutea.exception.CategoriaNotFoundException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"
2026-02-10 11:51:10.337 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:51:10.337 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:10.337 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={id=Invalid value: abc})]
2026-02-10 11:51:10.337 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"]
2026-02-10 11:51:10.340 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#modify(long, CategoriaInDto)
2026-02-10 11:51:10.340 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.CategoriaOutDto> com.svalero.rutea.controller.CategoriaController.modify(long,com.svalero.rutea.dto.CategoriaInDto) throws com.svalero.rutea.exception.CategoriaNotFoundException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"
2026-02-10 11:51:10.341 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:51:10.341 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:10.341 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={id=Invalid value: abc})]
2026-02-10 11:51:10.341 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"]
2026-02-10 11:51:10.344 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#get(long)
2026-02-10 11:51:10.344 [main] DEBUG c.s.r.controller.CategoriaController - GET /categorias/1
2026-02-10 11:51:10.344 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:10.344 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CategoriaOutDto(id=1, activa=false, costePromedio=0.0, descripcion=null, iconoUrl=null, nombre=Monta (truncated)...]
2026-02-10 11:51:10.349 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#get(long)
2026-02-10 11:51:10.349 [main] DEBUG c.s.r.controller.CategoriaController - GET /categorias/99
2026-02-10 11:51:10.350 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.CategoriaController#handleException(CategoriaNotFoundException)
2026-02-10 11:51:10.350 [main] WARN  c.s.r.controller.CategoriaController - Categoría no encontrada: null
2026-02-10 11:51:10.350 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:10.350 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=La categoria no existe, errors={})]
2026-02-10 11:51:10.350 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.CategoriaNotFoundException]
2026-02-10 11:51:10.355 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#getAll(Boolean, String, Integer)
2026-02-10 11:51:10.355 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [2] in public org.springframework.http.ResponseEntity<java.util.List<com.svalero.rutea.dto.CategoriaOutDto>> com.svalero.rutea.controller.CategoriaController.getAll(java.lang.Boolean,java.lang.String,java.lang.Integer): Failed to convert value of type 'java.lang.String' to required type 'java.lang.Integer'; For input string: "abc"
2026-02-10 11:51:10.355 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:51:10.355 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:10.355 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={ordenPrioridad=Invalid  (truncated)...]
2026-02-10 11:51:10.355 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Integer'; For input string: "abc"]
2026-02-10 11:51:10.359 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#getAll(Boolean, String, Integer)
2026-02-10 11:51:10.361 [main] DEBUG c.s.r.controller.CategoriaController - GET /categorias - Filtros: activa=true, nombre=mon, ordenPrioridad=1
2026-02-10 11:51:10.362 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:10.362 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoriaOutDto(id=1, activa=true, costePromedio=0.0, descripcion=null, iconoUrl=null, nombre=Monta (truncated)...]
2026-02-10 11:51:10.535 [main] DEBUG c.s.rutea.service.CategoriaService - Buscando categoría por ID: 1
2026-02-10 11:51:10.547 [main] INFO  c.s.rutea.service.CategoriaService - Modificando categoría ID: 1
2026-02-10 11:51:10.548 [main] INFO  c.s.rutea.service.CategoriaService - Categoría modificada exitosamente: ID 1
2026-02-10 11:51:10.551 [main] DEBUG c.s.rutea.service.CategoriaService - Buscando categorías con filtros: activa=true, nombre=null, ordenPrioridad=null
2026-02-10 11:51:10.551 [main] INFO  c.s.rutea.service.CategoriaService - Se encontraron 1 categorías
2026-02-10 11:51:10.556 [main] DEBUG c.s.rutea.service.CategoriaService - Buscando categorías con filtros: activa=null, nombre=mon, ordenPrioridad=null
2026-02-10 11:51:10.557 [main] INFO  c.s.rutea.service.CategoriaService - Se encontraron 1 categorías
2026-02-10 11:51:10.560 [main] DEBUG c.s.rutea.service.CategoriaService - Buscando categorías con filtros: activa=null, nombre=mon, ordenPrioridad=1
2026-02-10 11:51:10.560 [main] INFO  c.s.rutea.service.CategoriaService - Se encontraron 1 categorías
2026-02-10 11:51:10.563 [main] DEBUG c.s.rutea.service.CategoriaService - Buscando categorías con filtros: activa=true, nombre=mon, ordenPrioridad=1
2026-02-10 11:51:10.563 [main] INFO  c.s.rutea.service.CategoriaService - Se encontraron 1 categorías
2026-02-10 11:51:10.566 [main] INFO  c.s.rutea.service.CategoriaService - Eliminando categoría ID: 99
2026-02-10 11:51:10.566 [main] ERROR c.s.rutea.service.CategoriaService - Categoría no encontrada para eliminación: ID 99
2026-02-10 11:51:10.570 [main] INFO  c.s.rutea.service.CategoriaService - Eliminando categoría ID: 1
2026-02-10 11:51:10.570 [main] INFO  c.s.rutea.service.CategoriaService - Categoría eliminada exitosamente: ID 1
2026-02-10 11:51:10.575 [main] DEBUG c.s.rutea.service.CategoriaService - Buscando categorías con filtros: activa=true, nombre=null, ordenPrioridad=1
2026-02-10 11:51:10.575 [main] INFO  c.s.rutea.service.CategoriaService - Se encontraron 1 categorías
2026-02-10 11:51:10.578 [main] DEBUG c.s.rutea.service.CategoriaService - Buscando categoría por ID: 99
2026-02-10 11:51:10.580 [main] ERROR c.s.rutea.service.CategoriaService - Categoría no encontrada: ID 99
2026-02-10 11:51:10.583 [main] INFO  c.s.rutea.service.CategoriaService - Modificando categoría ID: 99
2026-02-10 11:51:10.583 [main] ERROR c.s.rutea.service.CategoriaService - Categoría no encontrada para modificación: ID 99
2026-02-10 11:51:10.586 [main] DEBUG c.s.rutea.service.CategoriaService - Buscando categorías con filtros: activa=true, nombre=mon, ordenPrioridad=null
2026-02-10 11:51:10.587 [main] INFO  c.s.rutea.service.CategoriaService - Se encontraron 1 categorías
2026-02-10 11:51:10.589 [main] DEBUG c.s.rutea.service.CategoriaService - Buscando categorías con filtros: activa=null, nombre=null, ordenPrioridad=null
2026-02-10 11:51:10.590 [main] INFO  c.s.rutea.service.CategoriaService - Se encontraron 2 categorías
2026-02-10 11:51:10.593 [main] INFO  c.s.rutea.service.CategoriaService - Creando nueva categoría: Montaña
2026-02-10 11:51:10.593 [main] INFO  c.s.rutea.service.CategoriaService - Categoría creada exitosamente con ID: 1
2026-02-10 11:51:10.596 [main] DEBUG c.s.rutea.service.CategoriaService - Buscando categorías con filtros: activa=null, nombre=null, ordenPrioridad=1
2026-02-10 11:51:10.596 [main] INFO  c.s.rutea.service.CategoriaService - Se encontraron 1 categorías
2026-02-10 11:51:10.600 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.svalero.rutea.controller.RutaControllerTest]: RutaControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-02-10 11:51:10.606 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.svalero.rutea.RuteaApplication for test class com.svalero.rutea.controller.RutaControllerTest
2026-02-10 11:51:10.624 [main] INFO  c.s.r.controller.RutaControllerTest - Starting RutaControllerTest using Java 23 with PID 20172 (started by borzg in C:\Proyects\rutea)
2026-02-10 11:51:10.625 [main] DEBUG c.s.r.controller.RutaControllerTest - Running with Spring Boot v3.3.3, Spring v6.1.12
2026-02-10 11:51:10.625 [main] INFO  c.s.r.controller.RutaControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-10 11:51:10.626 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@758655a9
2026-02-10 11:51:10.781 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 8 mappings in 'requestMappingHandlerMapping'
2026-02-10 11:51:10.798 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-10 11:51:10.803 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-10 11:51:10.805 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-10 11:51:10.810 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2026-02-10 11:51:10.810 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2026-02-10 11:51:10.811 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2026-02-10 11:51:10.813 [main] INFO  c.s.r.controller.RutaControllerTest - Started RutaControllerTest in 0.206 seconds (process running for 5.413)
2026-02-10 11:51:10.816 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#delete(long)
2026-02-10 11:51:10.817 [main] DEBUG c.s.rutea.controller.RutaController - DELETE /rutas/1
2026-02-10 11:51:10.819 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:10.819 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2026-02-10 11:51:10.825 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#add(RutaInDto)
2026-02-10 11:51:10.831 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RutaInDto(dificultad=facil, distanciaKm=1.0, duracionMinutos=10, fechaRealizacion=2026-02-10, public (truncated)...]
2026-02-10 11:51:10.839 [main] DEBUG c.s.rutea.controller.RutaController - POST /rutas - Ruta
2026-02-10 11:51:10.840 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.RutaController#handleException(UsuarioNotFoundException)
2026-02-10 11:51:10.840 [main] WARN  c.s.rutea.controller.RutaController - Usuario no encontrado: null
2026-02-10 11:51:10.842 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:10.842 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El usuario no existe, errors={})]
2026-02-10 11:51:10.842 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.UsuarioNotFoundException]
2026-02-10 11:51:10.845 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#add(RutaInDto)
2026-02-10 11:51:10.845 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RutaInDto(dificultad=x, distanciaKm=-1.0, duracionMinutos=-5, fechaRealizacion=null, publica=true, t (truncated)...]
2026-02-10 11:51:10.847 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.RutaController#handleException(MethodArgumentNotValidException)
2026-02-10 11:51:10.847 [main] WARN  c.s.rutea.controller.RutaController - Error de validación en request
2026-02-10 11:51:10.847 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:10.848 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={fechaRealizacion=fechaR (truncated)...]
2026-02-10 11:51:10.849 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.RutaOutDto> com.svalero.rutea.controller.RutaController.add(com.svalero.rutea.dto.RutaInDto) throws com.svalero.rutea.exception.UsuarioNotFoundException,com.svalero.rutea.exception.PuntoInteresNotFoundException with 5 errors: [Field error in object 'rutaInDto' on field 'titulo': rejected value []; codes [NotBlank.rutaInDto.titulo,NotBlank.titulo,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [rutaInDto.titulo,titulo]; arguments []; default message [titulo]]; default message [titulo is mandatory]] [Field error in object 'rutaInDto' on field 'distanciaKm': rejected value [-1.0]; codes [PositiveOrZero.rutaInDto.distanciaKm,PositiveOrZero.distanciaKm,PositiveOrZero.float,PositiveOrZero]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [rutaInDto.distanciaKm,distanciaKm]; arguments []; default message [distanciaKm]]; default message [distanciaKm must be >= 0]] [Field error in object 'rutaInDto' on field 'usuarioId': rejected value [null]; codes [NotNull.rutaInDto.usuarioId,NotNull.usuarioId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [rutaInDto.usuarioId,usuarioId]; arguments []; default message [usuarioId]]; default message [usuarioId is mandatory]] [Field error in object 'rutaInDto' on field 'duracionMinutos': rejected value [-5]; codes [Min.rutaInDto.duracionMinutos,Min.duracionMinutos,Min.int,Min]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [rutaInDto.duracionMinutos,duracionMinutos]; arguments []; default message [duracionMinutos],0]; default message [duracionMinutos must be >= 0]] [Field error in object 'rutaInDto' on field 'fechaRealizacion': rejected value [null]; codes [NotNull.rutaInDto.fechaRealizacion,NotNull.fechaRealizacion,NotNull.java.time.LocalDate,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [rutaInDto.fechaRealizacion,fechaRealizacion]; arguments []; default message [fechaRealizacion]]; default message [fechaRealizacion is mandatory]] ]
2026-02-10 11:51:10.851 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#modify(long, RutaInDto)
2026-02-10 11:51:10.853 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RutaInDto(dificultad=null, distanciaKm=-1.0, duracionMinutos=-1, fechaRealizacion=null, publica=true (truncated)...]
2026-02-10 11:51:10.853 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.RutaController#handleException(MethodArgumentNotValidException)
2026-02-10 11:51:10.853 [main] WARN  c.s.rutea.controller.RutaController - Error de validación en request
2026-02-10 11:51:10.853 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:10.853 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={fechaRealizacion=fechaR (truncated)...]
2026-02-10 11:51:10.855 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [1] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.RutaOutDto> com.svalero.rutea.controller.RutaController.modify(long,com.svalero.rutea.dto.RutaInDto) throws com.svalero.rutea.exception.RutaNotFoundException,com.svalero.rutea.exception.UsuarioNotFoundException,com.svalero.rutea.exception.PuntoInteresNotFoundException with 5 errors: [Field error in object 'rutaInDto' on field 'duracionMinutos': rejected value [-1]; codes [Min.rutaInDto.duracionMinutos,Min.duracionMinutos,Min.int,Min]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [rutaInDto.duracionMinutos,duracionMinutos]; arguments []; default message [duracionMinutos],0]; default message [duracionMinutos must be >= 0]] [Field error in object 'rutaInDto' on field 'distanciaKm': rejected value [-1.0]; codes [PositiveOrZero.rutaInDto.distanciaKm,PositiveOrZero.distanciaKm,PositiveOrZero.float,PositiveOrZero]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [rutaInDto.distanciaKm,distanciaKm]; arguments []; default message [distanciaKm]]; default message [distanciaKm must be >= 0]] [Field error in object 'rutaInDto' on field 'fechaRealizacion': rejected value [null]; codes [NotNull.rutaInDto.fechaRealizacion,NotNull.fechaRealizacion,NotNull.java.time.LocalDate,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [rutaInDto.fechaRealizacion,fechaRealizacion]; arguments []; default message [fechaRealizacion]]; default message [fechaRealizacion is mandatory]] [Field error in object 'rutaInDto' on field 'titulo': rejected value []; codes [NotBlank.rutaInDto.titulo,NotBlank.titulo,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [rutaInDto.titulo,titulo]; arguments []; default message [titulo]]; default message [titulo is mandatory]] [Field error in object 'rutaInDto' on field 'usuarioId': rejected value [null]; codes [NotNull.rutaInDto.usuarioId,NotNull.usuarioId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [rutaInDto.usuarioId,usuarioId]; arguments []; default message [usuarioId]]; default message [usuarioId is mandatory]] ]
2026-02-10 11:51:10.858 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#add(RutaInDto)
2026-02-10 11:51:10.859 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RutaInDto(dificultad=facil, distanciaKm=5.5, duracionMinutos=60, fechaRealizacion=2026-02-10, public (truncated)...]
2026-02-10 11:51:10.859 [main] DEBUG c.s.rutea.controller.RutaController - POST /rutas - Paseo por el parque
2026-02-10 11:51:10.861 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:10.869 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [RutaOutDto(id=1, dificultad=facil, distanciaKm=5.5, duracionMinutos=60, fechaRealizacion=2026-02-10, (truncated)...]
2026-02-10 11:51:10.873 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#modify(long, RutaInDto)
2026-02-10 11:51:10.874 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RutaInDto(dificultad=dificil, distanciaKm=12.0, duracionMinutos=180, fechaRealizacion=2026-02-10, pu (truncated)...]
2026-02-10 11:51:10.875 [main] DEBUG c.s.rutea.controller.RutaController - PUT /rutas/1
2026-02-10 11:51:10.875 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:10.875 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [RutaOutDto(id=1, dificultad=dificil, distanciaKm=12.0, duracionMinutos=180, fechaRealizacion=2026-02 (truncated)...]
2026-02-10 11:51:10.880 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#get(long)
2026-02-10 11:51:10.881 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.RutaOutDto> com.svalero.rutea.controller.RutaController.get(long) throws com.svalero.rutea.exception.RutaNotFoundException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"
2026-02-10 11:51:10.881 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:51:10.883 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:10.883 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={id=Invalid value: abc})]
2026-02-10 11:51:10.883 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"]
2026-02-10 11:51:10.888 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#modify(long, RutaInDto)
2026-02-10 11:51:10.888 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RutaInDto(dificultad=x, distanciaKm=1.0, duracionMinutos=1, fechaRealizacion=2026-02-10, publica=tru (truncated)...]
2026-02-10 11:51:10.888 [main] DEBUG c.s.rutea.controller.RutaController - PUT /rutas/1
2026-02-10 11:51:10.889 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.RutaController#handleException(PuntoInteresNotFoundException)
2026-02-10 11:51:10.889 [main] WARN  c.s.rutea.controller.RutaController - Punto de interés no encontrado: null
2026-02-10 11:51:10.891 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:10.891 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El punto de interés no existe, errors={})]
2026-02-10 11:51:10.891 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.PuntoInteresNotFoundException]
2026-02-10 11:51:10.895 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#add(RutaInDto)
2026-02-10 11:51:10.895 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RutaInDto(dificultad=facil, distanciaKm=1.0, duracionMinutos=10, fechaRealizacion=2026-02-10, public (truncated)...]
2026-02-10 11:51:10.896 [main] DEBUG c.s.rutea.controller.RutaController - POST /rutas - Ruta
2026-02-10 11:51:10.896 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.RutaController#handleException(PuntoInteresNotFoundException)
2026-02-10 11:51:10.898 [main] WARN  c.s.rutea.controller.RutaController - Punto de interés no encontrado: null
2026-02-10 11:51:10.898 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:10.898 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El punto de interés no existe, errors={})]
2026-02-10 11:51:10.898 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.PuntoInteresNotFoundException]
2026-02-10 11:51:10.901 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#delete(long)
2026-02-10 11:51:10.901 [main] DEBUG c.s.rutea.controller.RutaController - DELETE /rutas/99
2026-02-10 11:51:10.903 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.RutaController#handleException(RutaNotFoundException)
2026-02-10 11:51:10.903 [main] WARN  c.s.rutea.controller.RutaController - Ruta no encontrada: null
2026-02-10 11:51:10.903 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:10.903 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=La ruta no existe, errors={})]
2026-02-10 11:51:10.903 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.RutaNotFoundException]
2026-02-10 11:51:10.906 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#delete(long)
2026-02-10 11:51:10.907 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.svalero.rutea.controller.RutaController.delete(long) throws com.svalero.rutea.exception.RutaNotFoundException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"
2026-02-10 11:51:10.907 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:51:10.907 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:10.907 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={id=Invalid value: abc})]
2026-02-10 11:51:10.907 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"]
2026-02-10 11:51:10.912 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#modify(long, RutaInDto)
2026-02-10 11:51:10.914 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RutaInDto(dificultad=x, distanciaKm=1.0, duracionMinutos=1, fechaRealizacion=2026-02-10, publica=tru (truncated)...]
2026-02-10 11:51:10.914 [main] DEBUG c.s.rutea.controller.RutaController - PUT /rutas/1
2026-02-10 11:51:10.915 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.RutaController#handleException(UsuarioNotFoundException)
2026-02-10 11:51:10.915 [main] WARN  c.s.rutea.controller.RutaController - Usuario no encontrado: null
2026-02-10 11:51:10.915 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:10.915 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El usuario no existe, errors={})]
2026-02-10 11:51:10.915 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.UsuarioNotFoundException]
2026-02-10 11:51:10.921 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#get(long)
2026-02-10 11:51:10.921 [main] DEBUG c.s.rutea.controller.RutaController - GET /rutas/99
2026-02-10 11:51:10.923 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.RutaController#handleException(RutaNotFoundException)
2026-02-10 11:51:10.923 [main] WARN  c.s.rutea.controller.RutaController - Ruta no encontrada: null
2026-02-10 11:51:10.923 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:10.923 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=La ruta no existe, errors={})]
2026-02-10 11:51:10.923 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.RutaNotFoundException]
2026-02-10 11:51:10.929 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#get(long)
2026-02-10 11:51:10.929 [main] DEBUG c.s.rutea.controller.RutaController - GET /rutas/1
2026-02-10 11:51:10.929 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:10.931 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [RutaOutDto(id=1, dificultad=media, distanciaKm=10.0, duracionMinutos=120, fechaRealizacion=2026-02-1 (truncated)...]
2026-02-10 11:51:10.934 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#getAll(String, Boolean, String)
2026-02-10 11:51:10.936 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [1] in public org.springframework.http.ResponseEntity<java.util.List<com.svalero.rutea.dto.RutaOutDto>> com.svalero.rutea.controller.RutaController.getAll(java.lang.String,java.lang.Boolean,java.lang.String): Failed to convert value of type 'java.lang.String' to required type 'java.lang.Boolean'; Invalid boolean value [abc]
2026-02-10 11:51:10.936 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:51:10.936 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:10.936 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={publica=Invalid value:  (truncated)...]
2026-02-10 11:51:10.936 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Boolean'; Invalid boolean value [abc]]
2026-02-10 11:51:10.939 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#modify(long, RutaInDto)
2026-02-10 11:51:10.941 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RutaInDto(dificultad=x, distanciaKm=1.0, duracionMinutos=1, fechaRealizacion=2026-02-10, publica=tru (truncated)...]
2026-02-10 11:51:10.942 [main] DEBUG c.s.rutea.controller.RutaController - PUT /rutas/99
2026-02-10 11:51:10.943 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.RutaController#handleException(RutaNotFoundException)
2026-02-10 11:51:10.943 [main] WARN  c.s.rutea.controller.RutaController - Ruta no encontrada: null
2026-02-10 11:51:10.944 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:10.944 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=La ruta no existe, errors={})]
2026-02-10 11:51:10.944 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.RutaNotFoundException]
2026-02-10 11:51:10.948 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#getAll(String, Boolean, String)
2026-02-10 11:51:10.949 [main] DEBUG c.s.rutea.controller.RutaController - GET /rutas - Filtros: dificultad=facil, publica=true, titulo=paseo
2026-02-10 11:51:10.949 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:10.949 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[RutaOutDto(id=1, dificultad=facil, distanciaKm=5.5, duracionMinutos=60, fechaRealizacion=2026-02-10 (truncated)...]
2026-02-10 11:51:11.088 [main] DEBUG c.s.r.service.PuntoInteresService - Buscando punto de interés por ID: 10
2026-02-10 11:51:11.097 [main] INFO  c.s.r.service.PuntoInteresService - Modificando punto de interés ID: 10
2026-02-10 11:51:11.098 [main] INFO  c.s.r.service.PuntoInteresService - Punto de interés modificado exitosamente: ID 10
2026-02-10 11:51:11.105 [main] INFO  c.s.r.service.PuntoInteresService - Eliminando punto de interés ID: 999
2026-02-10 11:51:11.105 [main] ERROR c.s.r.service.PuntoInteresService - Punto de interés no encontrado para eliminación: ID 999
2026-02-10 11:51:11.108 [main] INFO  c.s.r.service.PuntoInteresService - Creando nuevo punto de interés: X
2026-02-10 11:51:11.109 [main] ERROR c.s.r.service.PuntoInteresService - Categoría no encontrada: ID 99
2026-02-10 11:51:11.113 [main] INFO  c.s.r.service.PuntoInteresService - Modificando punto de interés ID: 999
2026-02-10 11:51:11.113 [main] ERROR c.s.r.service.PuntoInteresService - Punto de interés no encontrado para modificación: ID 999
2026-02-10 11:51:11.115 [main] INFO  c.s.r.service.PuntoInteresService - Eliminando punto de interés ID: 10
2026-02-10 11:51:11.116 [main] INFO  c.s.r.service.PuntoInteresService - Punto de interés eliminado exitosamente: ID 10
2026-02-10 11:51:11.121 [main] DEBUG c.s.r.service.PuntoInteresService - Buscando puntos de interés con filtros: categoriaId=1, abiertoActualmente=true, nombre=parque, puntuacionMedia=4.5
2026-02-10 11:51:11.124 [main] INFO  c.s.r.service.PuntoInteresService - Se encontraron 1 puntos de interés
2026-02-10 11:51:11.132 [main] INFO  c.s.r.service.PuntoInteresService - Creando nuevo punto de interés: Parque Grande
2026-02-10 11:51:11.133 [main] INFO  c.s.r.service.PuntoInteresService - Punto de interés creado exitosamente con ID: 10
2026-02-10 11:51:11.161 [main] DEBUG c.s.r.service.PuntoInteresService - Buscando punto de interés por ID: 999
2026-02-10 11:51:11.161 [main] ERROR c.s.r.service.PuntoInteresService - Punto de interés no encontrado: ID 999
2026-02-10 11:51:11.165 [main] INFO  c.s.r.service.PuntoInteresService - Modificando punto de interés ID: 10
2026-02-10 11:51:11.165 [main] ERROR c.s.r.service.PuntoInteresService - Categoría no encontrada: ID 99
2026-02-10 11:51:11.256 [main] INFO  c.s.rutea.service.ResenaService - Modificando reseña ID: 999
2026-02-10 11:51:11.258 [main] ERROR c.s.rutea.service.ResenaService - Reseña no encontrada para modificación: ID 999
2026-02-10 11:51:11.261 [main] DEBUG c.s.rutea.service.ResenaService - Buscando reseña por ID: 1
2026-02-10 11:51:11.265 [main] DEBUG c.s.rutea.service.ResenaService - Buscando reseñas con filtros: editada=false, likes=10, valoracion=5
2026-02-10 11:51:11.267 [main] INFO  c.s.rutea.service.ResenaService - Se encontraron 1 reseñas
2026-02-10 11:51:11.272 [main] INFO  c.s.rutea.service.ResenaService - Creando nueva reseña para punto ID: 10
2026-02-10 11:51:11.273 [main] ERROR c.s.rutea.service.ResenaService - Usuario no encontrado: ID 999
2026-02-10 11:51:11.277 [main] INFO  c.s.rutea.service.ResenaService - Creando nueva reseña para punto ID: 10
2026-02-10 11:51:11.278 [main] INFO  c.s.rutea.service.ResenaService - Reseña creada exitosamente con ID: 1
2026-02-10 11:51:11.283 [main] INFO  c.s.rutea.service.ResenaService - Eliminando reseña ID: 999
2026-02-10 11:51:11.283 [main] ERROR c.s.rutea.service.ResenaService - Reseña no encontrada para eliminación: ID 999
2026-02-10 11:51:11.287 [main] INFO  c.s.rutea.service.ResenaService - Modificando reseña ID: 1
2026-02-10 11:51:11.287 [main] ERROR c.s.rutea.service.ResenaService - Punto de interés no encontrado: ID 999
2026-02-10 11:51:11.292 [main] INFO  c.s.rutea.service.ResenaService - Eliminando reseña ID: 1
2026-02-10 11:51:11.292 [main] INFO  c.s.rutea.service.ResenaService - Reseña eliminada exitosamente: ID 1
2026-02-10 11:51:11.297 [main] INFO  c.s.rutea.service.ResenaService - Modificando reseña ID: 1
2026-02-10 11:51:11.298 [main] ERROR c.s.rutea.service.ResenaService - Usuario no encontrado: ID 999
2026-02-10 11:51:11.303 [main] INFO  c.s.rutea.service.ResenaService - Modificando reseña ID: 1
2026-02-10 11:51:11.304 [main] INFO  c.s.rutea.service.ResenaService - Reseña modificada exitosamente: ID 1
2026-02-10 11:51:11.308 [main] DEBUG c.s.rutea.service.ResenaService - Buscando reseña por ID: 999
2026-02-10 11:51:11.309 [main] ERROR c.s.rutea.service.ResenaService - Reseña no encontrada: ID 999
2026-02-10 11:51:11.311 [main] INFO  c.s.rutea.service.ResenaService - Creando nueva reseña para punto ID: 999
2026-02-10 11:51:11.312 [main] ERROR c.s.rutea.service.ResenaService - Punto de interés no encontrado: ID 999
2026-02-10 11:51:11.363 [main] DEBUG c.svalero.rutea.service.RutaService - Buscando ruta por ID: 1
2026-02-10 11:51:11.369 [main] INFO  c.svalero.rutea.service.RutaService - Creando nueva ruta: Ruta
2026-02-10 11:51:11.370 [main] ERROR c.svalero.rutea.service.RutaService - Usuario no encontrado: ID 999
2026-02-10 11:51:11.374 [main] INFO  c.svalero.rutea.service.RutaService - Eliminando ruta ID: 999
2026-02-10 11:51:11.374 [main] ERROR c.svalero.rutea.service.RutaService - Ruta no encontrada para eliminación: ID 999
2026-02-10 11:51:11.379 [main] INFO  c.svalero.rutea.service.RutaService - Modificando ruta ID: 999
2026-02-10 11:51:11.379 [main] ERROR c.svalero.rutea.service.RutaService - Ruta no encontrada para modificación: ID 999
2026-02-10 11:51:11.383 [main] INFO  c.svalero.rutea.service.RutaService - Modificando ruta ID: 1
2026-02-10 11:51:11.388 [main] INFO  c.svalero.rutea.service.RutaService - Eliminando ruta ID: 1
2026-02-10 11:51:11.390 [main] INFO  c.svalero.rutea.service.RutaService - Ruta eliminada exitosamente: ID 1
2026-02-10 11:51:11.394 [main] INFO  c.svalero.rutea.service.RutaService - Modificando ruta ID: 1
2026-02-10 11:51:11.394 [main] ERROR c.svalero.rutea.service.RutaService - Usuario no encontrado: ID 999
2026-02-10 11:51:11.400 [main] INFO  c.svalero.rutea.service.RutaService - Creando nueva ruta: Ruta
2026-02-10 11:51:11.403 [main] INFO  c.svalero.rutea.service.RutaService - Creando nueva ruta: Paseo por el parque
2026-02-10 11:51:11.403 [main] INFO  c.svalero.rutea.service.RutaService - Ruta creada exitosamente con ID: 1
2026-02-10 11:51:11.409 [main] INFO  c.svalero.rutea.service.RutaService - Modificando ruta ID: 1
2026-02-10 11:51:11.410 [main] INFO  c.svalero.rutea.service.RutaService - Ruta modificada exitosamente: ID 1
2026-02-10 11:51:11.413 [main] DEBUG c.svalero.rutea.service.RutaService - Buscando ruta por ID: 999
2026-02-10 11:51:11.413 [main] ERROR c.svalero.rutea.service.RutaService - Ruta no encontrada: ID 999
2026-02-10 11:51:11.416 [main] DEBUG c.svalero.rutea.service.RutaService - Buscando rutas con filtros: dificultad=fac, publica=true, titulo=parque
2026-02-10 11:51:11.418 [main] INFO  c.svalero.rutea.service.RutaService - Se encontraron 1 rutas
2026-02-10 11:51:11.422 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.svalero.rutea.controller.ResenaControllerTest]: ResenaControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-02-10 11:51:11.430 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.svalero.rutea.RuteaApplication for test class com.svalero.rutea.controller.ResenaControllerTest
2026-02-10 11:51:11.454 [main] INFO  c.s.r.c.ResenaControllerTest - Starting ResenaControllerTest using Java 23 with PID 20172 (started by borzg in C:\Proyects\rutea)
2026-02-10 11:51:11.454 [main] DEBUG c.s.r.c.ResenaControllerTest - Running with Spring Boot v3.3.3, Spring v6.1.12
2026-02-10 11:51:11.454 [main] INFO  c.s.r.c.ResenaControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-10 11:51:11.455 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@257e8c43
2026-02-10 11:51:11.589 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 8 mappings in 'requestMappingHandlerMapping'
2026-02-10 11:51:11.604 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-10 11:51:11.607 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-10 11:51:11.607 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-10 11:51:11.610 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2026-02-10 11:51:11.610 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2026-02-10 11:51:11.610 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2026-02-10 11:51:11.614 [main] INFO  c.s.r.c.ResenaControllerTest - Started ResenaControllerTest in 0.182 seconds (process running for 6.214)
2026-02-10 11:51:11.615 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#delete(long)
2026-02-10 11:51:11.617 [main] DEBUG c.s.r.controller.ResenaController - DELETE /resenas/1
2026-02-10 11:51:11.618 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:11.618 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2026-02-10 11:51:11.625 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#add(ResenaInDto)
2026-02-10 11:51:11.631 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ResenaInDto(comentario=Ok, editada=false, fechaPublicacion=null, likes=0, titulo=null, valoracion=4, (truncated)...]
2026-02-10 11:51:11.636 [main] DEBUG c.s.r.controller.ResenaController - POST /resenas - valoracion: 4
2026-02-10 11:51:11.637 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.ResenaController#handleException(UsuarioNotFoundException)
2026-02-10 11:51:11.637 [main] WARN  c.s.r.controller.ResenaController - Usuario no encontrado: null
2026-02-10 11:51:11.639 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:11.639 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El usuario no existe, errors={})]
2026-02-10 11:51:11.639 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.UsuarioNotFoundException]
2026-02-10 11:51:11.642 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#add(ResenaInDto)
2026-02-10 11:51:11.642 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ResenaInDto(comentario=, editada=false, fechaPublicacion=null, likes=-1, titulo=null, valoracion=6,  (truncated)...]
2026-02-10 11:51:11.644 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.ResenaController#handleException(MethodArgumentNotValidException)
2026-02-10 11:51:11.644 [main] WARN  c.s.r.controller.ResenaController - Error de validación en request
2026-02-10 11:51:11.645 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:11.645 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={puntoId=puntoId is mand (truncated)...]
2026-02-10 11:51:11.645 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.ResenaOutDto> com.svalero.rutea.controller.ResenaController.add(com.svalero.rutea.dto.ResenaInDto) throws com.svalero.rutea.exception.PuntoInteresNotFoundException,com.svalero.rutea.exception.UsuarioNotFoundException with 5 errors: [Field error in object 'resenaInDto' on field 'likes': rejected value [-1]; codes [PositiveOrZero.resenaInDto.likes,PositiveOrZero.likes,PositiveOrZero.int,PositiveOrZero]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [resenaInDto.likes,likes]; arguments []; default message [likes]]; default message [likes must be >= 0]] [Field error in object 'resenaInDto' on field 'usuarioId': rejected value [null]; codes [NotNull.resenaInDto.usuarioId,NotNull.usuarioId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [resenaInDto.usuarioId,usuarioId]; arguments []; default message [usuarioId]]; default message [usuarioId is mandatory]] [Field error in object 'resenaInDto' on field 'comentario': rejected value []; codes [NotBlank.resenaInDto.comentario,NotBlank.comentario,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [resenaInDto.comentario,comentario]; arguments []; default message [comentario]]; default message [comentario is mandatory]] [Field error in object 'resenaInDto' on field 'puntoId': rejected value [null]; codes [NotNull.resenaInDto.puntoId,NotNull.puntoId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [resenaInDto.puntoId,puntoId]; arguments []; default message [puntoId]]; default message [puntoId is mandatory]] [Field error in object 'resenaInDto' on field 'valoracion': rejected value [6]; codes [Max.resenaInDto.valoracion,Max.valoracion,Max.int,Max]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [resenaInDto.valoracion,valoracion]; arguments []; default message [valoracion],5]; default message [valoracion must be between 1 and 5]] ]
2026-02-10 11:51:11.651 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#modify(long, ResenaInDto)
2026-02-10 11:51:11.651 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ResenaInDto(comentario=, editada=false, fechaPublicacion=null, likes=-5, titulo=t, valoracion=0, pun (truncated)...]
2026-02-10 11:51:11.653 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.ResenaController#handleException(MethodArgumentNotValidException)
2026-02-10 11:51:11.653 [main] WARN  c.s.r.controller.ResenaController - Error de validación en request
2026-02-10 11:51:11.653 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:11.653 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={valoracion=valoracion m (truncated)...]
2026-02-10 11:51:11.653 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [1] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.ResenaOutDto> com.svalero.rutea.controller.ResenaController.modify(long,com.svalero.rutea.dto.ResenaInDto) throws com.svalero.rutea.exception.ResenaNotFoundException,com.svalero.rutea.exception.PuntoInteresNotFoundException,com.svalero.rutea.exception.UsuarioNotFoundException with 5 errors: [Field error in object 'resenaInDto' on field 'comentario': rejected value []; codes [NotBlank.resenaInDto.comentario,NotBlank.comentario,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [resenaInDto.comentario,comentario]; arguments []; default message [comentario]]; default message [comentario is mandatory]] [Field error in object 'resenaInDto' on field 'valoracion': rejected value [0]; codes [Min.resenaInDto.valoracion,Min.valoracion,Min.int,Min]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [resenaInDto.valoracion,valoracion]; arguments []; default message [valoracion],1]; default message [valoracion must be between 1 and 5]] [Field error in object 'resenaInDto' on field 'puntoId': rejected value [null]; codes [NotNull.resenaInDto.puntoId,NotNull.puntoId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [resenaInDto.puntoId,puntoId]; arguments []; default message [puntoId]]; default message [puntoId is mandatory]] [Field error in object 'resenaInDto' on field 'likes': rejected value [-5]; codes [PositiveOrZero.resenaInDto.likes,PositiveOrZero.likes,PositiveOrZero.int,PositiveOrZero]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [resenaInDto.likes,likes]; arguments []; default message [likes]]; default message [likes must be >= 0]] [Field error in object 'resenaInDto' on field 'usuarioId': rejected value [null]; codes [NotNull.resenaInDto.usuarioId,NotNull.usuarioId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [resenaInDto.usuarioId,usuarioId]; arguments []; default message [usuarioId]]; default message [usuarioId is mandatory]] ]
2026-02-10 11:51:11.658 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#add(ResenaInDto)
2026-02-10 11:51:11.658 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ResenaInDto(comentario=Muy buena, editada=false, fechaPublicacion=2026-02-10, likes=0, titulo=Título (truncated)...]
2026-02-10 11:51:11.659 [main] DEBUG c.s.r.controller.ResenaController - POST /resenas - valoracion: 5
2026-02-10 11:51:11.661 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:11.667 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ResenaOutDto(id=1, comentario=Muy buena, editada=false, fechaPublicacion=2026-02-10, likes=0, titulo (truncated)...]
2026-02-10 11:51:11.672 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#modify(long, ResenaInDto)
2026-02-10 11:51:11.673 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ResenaInDto(comentario=Editada, editada=true, fechaPublicacion=2026-02-10, likes=5, titulo=Nuevo, va (truncated)...]
2026-02-10 11:51:11.673 [main] DEBUG c.s.r.controller.ResenaController - PUT /resenas/1
2026-02-10 11:51:11.673 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:11.673 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ResenaOutDto(id=1, comentario=Editada, editada=true, fechaPublicacion=2026-02-10, likes=5, titulo=Nu (truncated)...]
2026-02-10 11:51:11.678 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#get(long)
2026-02-10 11:51:11.680 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.ResenaOutDto> com.svalero.rutea.controller.ResenaController.get(long) throws com.svalero.rutea.exception.ResenaNotFoundException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"
2026-02-10 11:51:11.680 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:51:11.681 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:11.681 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={id=Invalid value: abc})]
2026-02-10 11:51:11.681 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"]
2026-02-10 11:51:11.686 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#delete(long)
2026-02-10 11:51:11.687 [main] DEBUG c.s.r.controller.ResenaController - DELETE /resenas/99
2026-02-10 11:51:11.687 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.ResenaController#handleException(ResenaNotFoundException)
2026-02-10 11:51:11.687 [main] WARN  c.s.r.controller.ResenaController - Reseña no encontrada: null
2026-02-10 11:51:11.689 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:11.689 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=La reseña no existe, errors={})]
2026-02-10 11:51:11.689 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.ResenaNotFoundException]
2026-02-10 11:51:11.694 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#delete(long)
2026-02-10 11:51:11.694 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.svalero.rutea.controller.ResenaController.delete(long) throws com.svalero.rutea.exception.ResenaNotFoundException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"
2026-02-10 11:51:11.694 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:51:11.696 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:11.696 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={id=Invalid value: abc})]
2026-02-10 11:51:11.696 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"]
2026-02-10 11:51:11.700 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#modify(long, ResenaInDto)
2026-02-10 11:51:11.702 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ResenaInDto(comentario=X, editada=false, fechaPublicacion=null, likes=0, titulo=null, valoracion=4,  (truncated)...]
2026-02-10 11:51:11.702 [main] DEBUG c.s.r.controller.ResenaController - PUT /resenas/1
2026-02-10 11:51:11.703 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.ResenaController#handleException(UsuarioNotFoundException)
2026-02-10 11:51:11.703 [main] WARN  c.s.r.controller.ResenaController - Usuario no encontrado: null
2026-02-10 11:51:11.703 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:11.703 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El usuario no existe, errors={})]
2026-02-10 11:51:11.703 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.UsuarioNotFoundException]
2026-02-10 11:51:11.708 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#add(ResenaInDto)
2026-02-10 11:51:11.710 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ResenaInDto(comentario=Ok, editada=false, fechaPublicacion=null, likes=0, titulo=null, valoracion=4, (truncated)...]
2026-02-10 11:51:11.710 [main] DEBUG c.s.r.controller.ResenaController - POST /resenas - valoracion: 4
2026-02-10 11:51:11.711 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.ResenaController#handleException(PuntoInteresNotFoundException)
2026-02-10 11:51:11.711 [main] WARN  c.s.r.controller.ResenaController - Punto de interés no encontrado: null
2026-02-10 11:51:11.711 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:11.711 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El punto de interés no existe, errors={})]
2026-02-10 11:51:11.711 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.PuntoInteresNotFoundException]
2026-02-10 11:51:11.714 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#modify(long, ResenaInDto)
2026-02-10 11:51:11.714 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ResenaInDto(comentario=X, editada=false, fechaPublicacion=null, likes=0, titulo=null, valoracion=4,  (truncated)...]
2026-02-10 11:51:11.714 [main] DEBUG c.s.r.controller.ResenaController - PUT /resenas/99
2026-02-10 11:51:11.716 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.ResenaController#handleException(ResenaNotFoundException)
2026-02-10 11:51:11.716 [main] WARN  c.s.r.controller.ResenaController - Reseña no encontrada: null
2026-02-10 11:51:11.716 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:11.716 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=La reseña no existe, errors={})]
2026-02-10 11:51:11.716 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.ResenaNotFoundException]
2026-02-10 11:51:11.719 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#get(long)
2026-02-10 11:51:11.719 [main] DEBUG c.s.r.controller.ResenaController - GET /resenas/99
2026-02-10 11:51:11.720 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.ResenaController#handleException(ResenaNotFoundException)
2026-02-10 11:51:11.720 [main] WARN  c.s.r.controller.ResenaController - Reseña no encontrada: null
2026-02-10 11:51:11.720 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:11.720 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=La reseña no existe, errors={})]
2026-02-10 11:51:11.720 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.ResenaNotFoundException]
2026-02-10 11:51:11.725 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#get(long)
2026-02-10 11:51:11.725 [main] DEBUG c.s.r.controller.ResenaController - GET /resenas/1
2026-02-10 11:51:11.725 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:11.725 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ResenaOutDto(id=1, comentario=Comentario, editada=false, fechaPublicacion=2026-02-10, likes=0, titul (truncated)...]
2026-02-10 11:51:11.728 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#getAll(Boolean, Integer, Integer)
2026-02-10 11:51:11.728 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [1] in public org.springframework.http.ResponseEntity<java.util.List<com.svalero.rutea.dto.ResenaOutDto>> com.svalero.rutea.controller.ResenaController.getAll(java.lang.Boolean,java.lang.Integer,java.lang.Integer): Failed to convert value of type 'java.lang.String' to required type 'java.lang.Integer'; For input string: "abc"
2026-02-10 11:51:11.728 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:51:11.728 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:11.730 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={likes=Invalid value: ab (truncated)...]
2026-02-10 11:51:11.730 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Integer'; For input string: "abc"]
2026-02-10 11:51:11.733 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#modify(long, ResenaInDto)
2026-02-10 11:51:11.733 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ResenaInDto(comentario=X, editada=false, fechaPublicacion=null, likes=0, titulo=null, valoracion=4,  (truncated)...]
2026-02-10 11:51:11.734 [main] DEBUG c.s.r.controller.ResenaController - PUT /resenas/1
2026-02-10 11:51:11.734 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.ResenaController#handleException(PuntoInteresNotFoundException)
2026-02-10 11:51:11.734 [main] WARN  c.s.r.controller.ResenaController - Punto de interés no encontrado: null
2026-02-10 11:51:11.736 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:11.736 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El punto de interés no existe, errors={})]
2026-02-10 11:51:11.736 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.PuntoInteresNotFoundException]
2026-02-10 11:51:11.739 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#getAll(Boolean, Integer, Integer)
2026-02-10 11:51:11.741 [main] DEBUG c.s.r.controller.ResenaController - GET /resenas - Filtros: editada=true, likes=10, valoracion=5
2026-02-10 11:51:11.741 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:51:11.741 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ResenaOutDto(id=1, comentario=Muy bien, editada=true, fechaPublicacion=2026-02-10, likes=10, titulo (truncated)...]
2026-02-10 11:51:11.748 [main] DEBUG c.s.rutea.service.UsuarioService - Buscando usuario por ID: 1
2026-02-10 11:51:11.752 [main] DEBUG c.s.rutea.service.UsuarioService - Buscando usuarios con filtros: premium=true, nivelExperiencia=null, username=
2026-02-10 11:51:11.752 [main] INFO  c.s.rutea.service.UsuarioService - Se encontraron 1 usuarios
2026-02-10 11:51:11.755 [main] INFO  c.s.rutea.service.UsuarioService - Modificando usuario ID: 1
2026-02-10 11:51:11.757 [main] INFO  c.s.rutea.service.UsuarioService - Usuario modificado exitosamente: ID 1
2026-02-10 11:51:11.758 [main] DEBUG c.s.rutea.service.UsuarioService - Buscando usuarios con filtros: premium=true, nivelExperiencia=3, username=bor
2026-02-10 11:51:11.758 [main] INFO  c.s.rutea.service.UsuarioService - Se encontraron 1 usuarios
2026-02-10 11:51:11.761 [main] DEBUG c.s.rutea.service.UsuarioService - Buscando usuarios con filtros: premium=true, nivelExperiencia=null, username=bor
2026-02-10 11:51:11.761 [main] INFO  c.s.rutea.service.UsuarioService - Se encontraron 1 usuarios
2026-02-10 11:51:11.764 [main] INFO  c.s.rutea.service.UsuarioService - Eliminando usuario ID: 99
2026-02-10 11:51:11.764 [main] ERROR c.s.rutea.service.UsuarioService - Usuario no encontrado para eliminación: ID 99
2026-02-10 11:51:11.766 [main] INFO  c.s.rutea.service.UsuarioService - Eliminando usuario ID: 1
2026-02-10 11:51:11.767 [main] INFO  c.s.rutea.service.UsuarioService - Usuario eliminado exitosamente: ID 1
2026-02-10 11:51:11.770 [main] DEBUG c.s.rutea.service.UsuarioService - Buscando usuario por ID: 99
2026-02-10 11:51:11.770 [main] ERROR c.s.rutea.service.UsuarioService - Usuario no encontrado: ID 99
2026-02-10 11:51:11.773 [main] INFO  c.s.rutea.service.UsuarioService - Modificando usuario ID: 99
2026-02-10 11:51:11.773 [main] ERROR c.s.rutea.service.UsuarioService - Usuario no encontrado para modificación: ID 99
2026-02-10 11:51:11.775 [main] DEBUG c.s.rutea.service.UsuarioService - Buscando usuarios con filtros: premium=true, nivelExperiencia=3, username=
2026-02-10 11:51:11.775 [main] INFO  c.s.rutea.service.UsuarioService - Se encontraron 1 usuarios
2026-02-10 11:51:11.779 [main] DEBUG c.s.rutea.service.UsuarioService - Buscando usuarios con filtros: premium=null, nivelExperiencia=null, username=
2026-02-10 11:51:11.779 [main] INFO  c.s.rutea.service.UsuarioService - Se encontraron 2 usuarios
2026-02-10 11:51:11.781 [main] INFO  c.s.rutea.service.UsuarioService - Creando nuevo usuario: borja
2026-02-10 11:51:11.781 [main] INFO  c.s.rutea.service.UsuarioService - Usuario creado exitosamente con ID: 1
2026-02-10 11:51:11.784 [main] DEBUG c.s.rutea.service.UsuarioService - Buscando usuarios con filtros: premium=null, nivelExperiencia=3, username=bor
2026-02-10 11:51:11.784 [main] INFO  c.s.rutea.service.UsuarioService - Se encontraron 1 usuarios
2026-02-10 11:51:11.786 [main] DEBUG c.s.rutea.service.UsuarioService - Buscando usuarios con filtros: premium=null, nivelExperiencia=null, username=an
2026-02-10 11:51:11.787 [main] INFO  c.s.rutea.service.UsuarioService - Se encontraron 1 usuarios
2026-02-10 11:51:11.789 [main] DEBUG c.s.rutea.service.UsuarioService - Buscando usuarios con filtros: premium=null, nivelExperiencia=0, username=
2026-02-10 11:51:11.789 [main] INFO  c.s.rutea.service.UsuarioService - Se encontraron 1 usuarios
2026-02-10 11:51:11.798 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@30331109, started on Tue Feb 10 11:51:07 CET 2026
2026-02-10 11:51:11.804 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@2cd5b19c, started on Tue Feb 10 11:51:09 CET 2026
2026-02-10 11:51:11.804 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@75adb1c0, started on Tue Feb 10 11:51:10 CET 2026
2026-02-10 11:51:11.806 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@758655a9, started on Tue Feb 10 11:51:10 CET 2026
2026-02-10 11:51:11.806 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@257e8c43, started on Tue Feb 10 11:51:11 CET 2026
2026-02-10 11:53:16.008 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2026-02-10 11:53:16.037 [main] INFO  c.s.r.c.PuntoInteresControllerTest - Starting PuntoInteresControllerTest using Java 23 with PID 27208 (started by borzg in C:\Proyects\rutea)
2026-02-10 11:53:16.037 [main] DEBUG c.s.r.c.PuntoInteresControllerTest - Running with Spring Boot v3.3.3, Spring v6.1.12
2026-02-10 11:53:16.039 [main] INFO  c.s.r.c.PuntoInteresControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-10 11:53:16.050 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@41f35f7c
2026-02-10 11:53:17.594 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 8 mappings in 'requestMappingHandlerMapping'
2026-02-10 11:53:17.723 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-10 11:53:17.777 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-10 11:53:17.823 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-10 11:53:17.883 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2026-02-10 11:53:17.883 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2026-02-10 11:53:17.884 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2026-02-10 11:53:17.914 [main] INFO  c.s.r.c.PuntoInteresControllerTest - Started PuntoInteresControllerTest in 2.266 seconds (process running for 3.453)
2026-02-10 11:53:18.050 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#getAll(Long, Boolean, Boolean, String, Float)
2026-02-10 11:53:18.092 [main] DEBUG c.s.r.c.PuntoInteresController - GET: /puntos - Filtros aplicados
2026-02-10 11:53:18.119 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:18.133 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[PuntoInteresOutDto(id=1, abiertoActualmente=false, fechaCreacion=null, latitud=0.0, longitud=0.0, n (truncated)...]
2026-02-10 11:53:18.233 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#delete(long)
2026-02-10 11:53:18.234 [main] DEBUG c.s.r.c.PuntoInteresController - DELETE: /puntos/1
2026-02-10 11:53:18.236 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:18.236 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2026-02-10 11:53:18.254 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#add(PuntoInteresInDto)
2026-02-10 11:53:18.283 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [PuntoInteresInDto(abiertoActualmente=true, fechaCreacion=null, latitud=200.0, longitud=-999.0, nombr (truncated)...]
2026-02-10 11:53:18.357 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.PuntoInteresController#handleException(MethodArgumentNotValidException)
2026-02-10 11:53:18.357 [main] WARN  c.s.r.c.PuntoInteresController - Error de validación en request
2026-02-10 11:53:18.360 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:18.362 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={puntuacionMedia=puntuac (truncated)...]
2026-02-10 11:53:18.366 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.PuntoInteresOutDto> com.svalero.rutea.controller.PuntoInteresController.add(com.svalero.rutea.dto.PuntoInteresInDto) throws com.svalero.rutea.exception.CategoriaNotFoundException with 5 errors: [Field error in object 'puntoInteresInDto' on field 'longitud': rejected value [-999.0]; codes [DecimalMin.puntoInteresInDto.longitud,DecimalMin.longitud,DecimalMin.double,DecimalMin]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [puntoInteresInDto.longitud,longitud]; arguments []; default message [longitud],true,-180.0]; default message [longitud must be between -180 and 180]] [Field error in object 'puntoInteresInDto' on field 'puntuacionMedia': rejected value [6.0]; codes [DecimalMax.puntoInteresInDto.puntuacionMedia,DecimalMax.puntuacionMedia,DecimalMax.float,DecimalMax]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [puntoInteresInDto.puntuacionMedia,puntuacionMedia]; arguments []; default message [puntuacionMedia],true,5.0]; default message [puntuacionMedia must be between 0 and 5]] [Field error in object 'puntoInteresInDto' on field 'categoriaId': rejected value [null]; codes [NotNull.puntoInteresInDto.categoriaId,NotNull.categoriaId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [puntoInteresInDto.categoriaId,categoriaId]; arguments []; default message [categoriaId]]; default message [categoriaId is mandatory]] [Field error in object 'puntoInteresInDto' on field 'latitud': rejected value [200.0]; codes [DecimalMax.puntoInteresInDto.latitud,DecimalMax.latitud,DecimalMax.double,DecimalMax]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [puntoInteresInDto.latitud,latitud]; arguments []; default message [latitud],true,90.0]; default message [latitud must be between -90 and 90]] [Field error in object 'puntoInteresInDto' on field 'nombre': rejected value []; codes [NotBlank.puntoInteresInDto.nombre,NotBlank.nombre,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [puntoInteresInDto.nombre,nombre]; arguments []; default message [nombre]]; default message [nombre is mandatory]] ]
2026-02-10 11:53:18.370 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#modify(long, PuntoInteresInDto)
2026-02-10 11:53:18.371 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [PuntoInteresInDto(abiertoActualmente=true, fechaCreacion=null, latitud=1000.0, longitud=0.0, nombre= (truncated)...]
2026-02-10 11:53:18.373 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.PuntoInteresController#handleException(MethodArgumentNotValidException)
2026-02-10 11:53:18.373 [main] WARN  c.s.r.c.PuntoInteresController - Error de validación en request
2026-02-10 11:53:18.373 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:18.373 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={puntuacionMedia=puntuac (truncated)...]
2026-02-10 11:53:18.373 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [1] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.PuntoInteresOutDto> com.svalero.rutea.controller.PuntoInteresController.modify(long,com.svalero.rutea.dto.PuntoInteresInDto) throws com.svalero.rutea.exception.PuntoInteresNotFoundException,com.svalero.rutea.exception.CategoriaNotFoundException with 4 errors: [Field error in object 'puntoInteresInDto' on field 'nombre': rejected value []; codes [NotBlank.puntoInteresInDto.nombre,NotBlank.nombre,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [puntoInteresInDto.nombre,nombre]; arguments []; default message [nombre]]; default message [nombre is mandatory]] [Field error in object 'puntoInteresInDto' on field 'categoriaId': rejected value [null]; codes [NotNull.puntoInteresInDto.categoriaId,NotNull.categoriaId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [puntoInteresInDto.categoriaId,categoriaId]; arguments []; default message [categoriaId]]; default message [categoriaId is mandatory]] [Field error in object 'puntoInteresInDto' on field 'puntuacionMedia': rejected value [-1.0]; codes [DecimalMin.puntoInteresInDto.puntuacionMedia,DecimalMin.puntuacionMedia,DecimalMin.float,DecimalMin]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [puntoInteresInDto.puntuacionMedia,puntuacionMedia]; arguments []; default message [puntuacionMedia],true,0.0]; default message [puntuacionMedia must be between 0 and 5]] [Field error in object 'puntoInteresInDto' on field 'latitud': rejected value [1000.0]; codes [DecimalMax.puntoInteresInDto.latitud,DecimalMax.latitud,DecimalMax.double,DecimalMax]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [puntoInteresInDto.latitud,latitud]; arguments []; default message [latitud],true,90.0]; default message [latitud must be between -90 and 90]] ]
2026-02-10 11:53:18.379 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#add(PuntoInteresInDto)
2026-02-10 11:53:18.381 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [PuntoInteresInDto(abiertoActualmente=true, fechaCreacion=2026-02-10T11:53:18.377949700, latitud=41.0 (truncated)...]
2026-02-10 11:53:18.381 [main] DEBUG c.s.r.c.PuntoInteresController - POST: /puntos/ - Parque
2026-02-10 11:53:18.382 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:18.384 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [PuntoInteresOutDto(id=10, abiertoActualmente=true, fechaCreacion=2026-02-10T11:53:18.377949700, lati (truncated)...]
2026-02-10 11:53:18.387 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#modify(long, PuntoInteresInDto)
2026-02-10 11:53:18.388 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [PuntoInteresInDto(abiertoActualmente=false, fechaCreacion=null, latitud=40.0, longitud=-0.7, nombre= (truncated)...]
2026-02-10 11:53:18.390 [main] DEBUG c.s.r.c.PuntoInteresController - PUT: /puntos/1
2026-02-10 11:53:18.390 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:18.390 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [PuntoInteresOutDto(id=1, abiertoActualmente=false, fechaCreacion=null, latitud=40.0, longitud=-0.7,  (truncated)...]
2026-02-10 11:53:18.395 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#get(long)
2026-02-10 11:53:18.398 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.PuntoInteresOutDto> com.svalero.rutea.controller.PuntoInteresController.get(long) throws com.svalero.rutea.exception.PuntoInteresNotFoundException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"
2026-02-10 11:53:18.399 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:53:18.400 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:18.400 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={id=Invalid value: abc})]
2026-02-10 11:53:18.400 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"]
2026-02-10 11:53:18.407 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#modify(long, PuntoInteresInDto)
2026-02-10 11:53:18.408 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [PuntoInteresInDto(abiertoActualmente=true, fechaCreacion=null, latitud=41.0, longitud=-0.8, nombre=P (truncated)...]
2026-02-10 11:53:18.408 [main] DEBUG c.s.r.c.PuntoInteresController - PUT: /puntos/1
2026-02-10 11:53:18.409 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.PuntoInteresController#handleException(CategoriaNotFoundException)
2026-02-10 11:53:18.410 [main] WARN  c.s.r.c.PuntoInteresController - Categoría no encontrada: null
2026-02-10 11:53:18.410 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:18.410 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=La categoría no existe, errors={})]
2026-02-10 11:53:18.410 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.CategoriaNotFoundException]
2026-02-10 11:53:18.414 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#add(PuntoInteresInDto)
2026-02-10 11:53:18.415 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [PuntoInteresInDto(abiertoActualmente=true, fechaCreacion=null, latitud=41.0, longitud=-0.8, nombre=P (truncated)...]
2026-02-10 11:53:18.415 [main] DEBUG c.s.r.c.PuntoInteresController - POST: /puntos/ - Parque
2026-02-10 11:53:18.415 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.PuntoInteresController#handleException(CategoriaNotFoundException)
2026-02-10 11:53:18.417 [main] WARN  c.s.r.c.PuntoInteresController - Categoría no encontrada: null
2026-02-10 11:53:18.417 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:18.417 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=La categoría no existe, errors={})]
2026-02-10 11:53:18.417 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.CategoriaNotFoundException]
2026-02-10 11:53:18.421 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#delete(long)
2026-02-10 11:53:18.422 [main] DEBUG c.s.r.c.PuntoInteresController - DELETE: /puntos/99
2026-02-10 11:53:18.422 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.PuntoInteresController#handleException(PuntoInteresNotFoundException)
2026-02-10 11:53:18.422 [main] WARN  c.s.r.c.PuntoInteresController - Punto de interés no encontrado: null
2026-02-10 11:53:18.422 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:18.422 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El punto de interés no existe, errors={})]
2026-02-10 11:53:18.422 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.PuntoInteresNotFoundException]
2026-02-10 11:53:18.426 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#delete(long)
2026-02-10 11:53:18.427 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.svalero.rutea.controller.PuntoInteresController.delete(long) throws com.svalero.rutea.exception.PuntoInteresNotFoundException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"
2026-02-10 11:53:18.428 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:53:18.428 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:18.428 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={id=Invalid value: abc})]
2026-02-10 11:53:18.428 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"]
2026-02-10 11:53:18.431 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#get(long)
2026-02-10 11:53:18.431 [main] DEBUG c.s.r.c.PuntoInteresController - GET: /puntos/99
2026-02-10 11:53:18.433 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.PuntoInteresController#handleException(PuntoInteresNotFoundException)
2026-02-10 11:53:18.433 [main] WARN  c.s.r.c.PuntoInteresController - Punto de interés no encontrado: null
2026-02-10 11:53:18.433 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:18.433 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El punto de interés no existe, errors={})]
2026-02-10 11:53:18.433 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.PuntoInteresNotFoundException]
2026-02-10 11:53:18.437 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#getAll(Long, Boolean, Boolean, String, Float)
2026-02-10 11:53:18.437 [main] DEBUG c.s.r.c.PuntoInteresController - GET: /puntos - Filtros aplicados
2026-02-10 11:53:18.439 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:18.439 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[PuntoInteresOutDto(id=10, abiertoActualmente=true, fechaCreacion=2026-02-10T11:53:18.436360100, lat (truncated)...]
2026-02-10 11:53:18.443 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#get(long)
2026-02-10 11:53:18.443 [main] DEBUG c.s.r.c.PuntoInteresController - GET: /puntos/1
2026-02-10 11:53:18.445 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:18.445 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [PuntoInteresOutDto(id=1, abiertoActualmente=true, fechaCreacion=null, latitud=41.0, longitud=-0.8, n (truncated)...]
2026-02-10 11:53:18.448 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#getAll(Long, Boolean, Boolean, String, Float)
2026-02-10 11:53:18.448 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [4] in public org.springframework.http.ResponseEntity<java.util.List<com.svalero.rutea.dto.PuntoInteresOutDto>> com.svalero.rutea.controller.PuntoInteresController.getAll(java.lang.Long,java.lang.Boolean,java.lang.Boolean,java.lang.String,java.lang.Float): Failed to convert value of type 'java.lang.String' to required type 'java.lang.Float'; For input string: "abc"
2026-02-10 11:53:18.449 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:53:18.449 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:18.449 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={puntuacionMedia=Invalid (truncated)...]
2026-02-10 11:53:18.449 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Float'; For input string: "abc"]
2026-02-10 11:53:18.454 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#modify(long, PuntoInteresInDto)
2026-02-10 11:53:18.454 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [PuntoInteresInDto(abiertoActualmente=true, fechaCreacion=null, latitud=41.0, longitud=-0.8, nombre=P (truncated)...]
2026-02-10 11:53:18.456 [main] DEBUG c.s.r.c.PuntoInteresController - PUT: /puntos/99
2026-02-10 11:53:18.456 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.PuntoInteresController#handleException(PuntoInteresNotFoundException)
2026-02-10 11:53:18.456 [main] WARN  c.s.r.c.PuntoInteresController - Punto de interés no encontrado: null
2026-02-10 11:53:18.456 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:18.456 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El punto de interés no existe, errors={})]
2026-02-10 11:53:18.457 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.PuntoInteresNotFoundException]
2026-02-10 11:53:18.463 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.svalero.rutea.controller.UsuarioControllerTest]: UsuarioControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-02-10 11:53:18.473 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.svalero.rutea.RuteaApplication for test class com.svalero.rutea.controller.UsuarioControllerTest
2026-02-10 11:53:18.498 [main] INFO  c.s.r.c.UsuarioControllerTest - Starting UsuarioControllerTest using Java 23 with PID 27208 (started by borzg in C:\Proyects\rutea)
2026-02-10 11:53:18.498 [main] DEBUG c.s.r.c.UsuarioControllerTest - Running with Spring Boot v3.3.3, Spring v6.1.12
2026-02-10 11:53:18.498 [main] INFO  c.s.r.c.UsuarioControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-10 11:53:18.501 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@68f69ca3
2026-02-10 11:53:18.689 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 8 mappings in 'requestMappingHandlerMapping'
2026-02-10 11:53:18.721 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-10 11:53:18.726 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-10 11:53:18.729 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-10 11:53:18.737 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2026-02-10 11:53:18.737 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2026-02-10 11:53:18.737 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2026-02-10 11:53:18.741 [main] INFO  c.s.r.c.UsuarioControllerTest - Started UsuarioControllerTest in 0.267 seconds (process running for 4.28)
2026-02-10 11:53:18.746 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#delete(long)
2026-02-10 11:53:18.748 [main] DEBUG c.s.r.controller.UsuarioController - DELETE /usuarios/1
2026-02-10 11:53:18.751 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:18.751 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2026-02-10 11:53:18.762 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#modify(long, UsuarioInDto)
2026-02-10 11:53:18.770 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UsuarioInDto(email=b@b.com, esPremium=false, fechaRegistro=2026-02-10, nivelExperiencia=5, password= (truncated)...]
2026-02-10 11:53:18.798 [main] DEBUG c.s.r.controller.UsuarioController - PUT /usuarios/99
2026-02-10 11:53:18.800 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.UsuarioController#handleException(UsuarioNotFoundException)
2026-02-10 11:53:18.800 [main] WARN  c.s.r.controller.UsuarioController - Usuario no encontrado: null
2026-02-10 11:53:18.803 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:18.803 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El usuario no existe, errors={})]
2026-02-10 11:53:18.803 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.UsuarioNotFoundException]
2026-02-10 11:53:18.808 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#add(UsuarioInDto)
2026-02-10 11:53:18.809 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UsuarioInDto(email=no-es-email, esPremium=false, fechaRegistro=null, nivelExperiencia=-1, password=1 (truncated)...]
2026-02-10 11:53:18.811 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.UsuarioController#handleException(MethodArgumentNotValidException)
2026-02-10 11:53:18.811 [main] WARN  c.s.r.controller.UsuarioController - Error de validación en request
2026-02-10 11:53:18.813 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:18.814 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={password=password lengt (truncated)...]
2026-02-10 11:53:18.816 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.UsuarioOutDto> com.svalero.rutea.controller.UsuarioController.add(com.svalero.rutea.dto.UsuarioInDto) with 5 errors: [Field error in object 'usuarioInDto' on field 'password': rejected value [123]; codes [Size.usuarioInDto.password,Size.password,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.password,password]; arguments []; default message [password],255,6]; default message [password length must be between 6 and 255]] [Field error in object 'usuarioInDto' on field 'email': rejected value [no-es-email]; codes [Email.usuarioInDto.email,Email.email,Email.java.lang.String,Email]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.email,email]; arguments []; default message [email],[Ljakarta.validation.constraints.Pattern$Flag;@61b0af9f,.*]; default message [email must be valid]] [Field error in object 'usuarioInDto' on field 'nivelExperiencia': rejected value [-1]; codes [Min.usuarioInDto.nivelExperiencia,Min.nivelExperiencia,Min.int,Min]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.nivelExperiencia,nivelExperiencia]; arguments []; default message [nivelExperiencia],0]; default message [nivelExperiencia must be >= 0]] [Field error in object 'usuarioInDto' on field 'fechaRegistro': rejected value [null]; codes [NotNull.usuarioInDto.fechaRegistro,NotNull.fechaRegistro,NotNull.java.time.LocalDate,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.fechaRegistro,fechaRegistro]; arguments []; default message [fechaRegistro]]; default message [fechaRegistro is mandatory]] [Field error in object 'usuarioInDto' on field 'username': rejected value []; codes [NotBlank.usuarioInDto.username,NotBlank.username,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.username,username]; arguments []; default message [username]]; default message [username is mandatory]] ]
2026-02-10 11:53:18.821 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#modify(long, UsuarioInDto)
2026-02-10 11:53:18.822 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UsuarioInDto(email=, esPremium=false, fechaRegistro=null, nivelExperiencia=-2, password=1, username= (truncated)...]
2026-02-10 11:53:18.822 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.UsuarioController#handleException(MethodArgumentNotValidException)
2026-02-10 11:53:18.822 [main] WARN  c.s.r.controller.UsuarioController - Error de validación en request
2026-02-10 11:53:18.824 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:18.824 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={password=password lengt (truncated)...]
2026-02-10 11:53:18.824 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [1] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.UsuarioOutDto> com.svalero.rutea.controller.UsuarioController.modify(long,com.svalero.rutea.dto.UsuarioInDto) throws com.svalero.rutea.exception.UsuarioNotFoundException with 5 errors: [Field error in object 'usuarioInDto' on field 'password': rejected value [1]; codes [Size.usuarioInDto.password,Size.password,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.password,password]; arguments []; default message [password],255,6]; default message [password length must be between 6 and 255]] [Field error in object 'usuarioInDto' on field 'nivelExperiencia': rejected value [-2]; codes [Min.usuarioInDto.nivelExperiencia,Min.nivelExperiencia,Min.int,Min]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.nivelExperiencia,nivelExperiencia]; arguments []; default message [nivelExperiencia],0]; default message [nivelExperiencia must be >= 0]] [Field error in object 'usuarioInDto' on field 'fechaRegistro': rejected value [null]; codes [NotNull.usuarioInDto.fechaRegistro,NotNull.fechaRegistro,NotNull.java.time.LocalDate,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.fechaRegistro,fechaRegistro]; arguments []; default message [fechaRegistro]]; default message [fechaRegistro is mandatory]] [Field error in object 'usuarioInDto' on field 'email': rejected value []; codes [NotBlank.usuarioInDto.email,NotBlank.email,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.email,email]; arguments []; default message [email]]; default message [email is mandatory]] [Field error in object 'usuarioInDto' on field 'username': rejected value []; codes [NotBlank.usuarioInDto.username,NotBlank.username,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.username,username]; arguments []; default message [username]]; default message [username is mandatory]] ]
2026-02-10 11:53:18.828 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#add(UsuarioInDto)
2026-02-10 11:53:18.828 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UsuarioInDto(email=a@a.com, esPremium=true, fechaRegistro=2026-02-10, nivelExperiencia=2, password=1 (truncated)...]
2026-02-10 11:53:18.830 [main] DEBUG c.s.r.controller.UsuarioController - POST /usuarios - borja
2026-02-10 11:53:18.833 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:18.842 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UsuarioOutDto(id=1, email=a@a.com, esPremium=true, fechaRegistro=2026-02-10, nivelExperiencia=2, use (truncated)...]
2026-02-10 11:53:18.845 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#modify(long, UsuarioInDto)
2026-02-10 11:53:18.845 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UsuarioInDto(email=b@b.com, esPremium=false, fechaRegistro=2026-02-10, nivelExperiencia=5, password= (truncated)...]
2026-02-10 11:53:18.847 [main] DEBUG c.s.r.controller.UsuarioController - PUT /usuarios/1
2026-02-10 11:53:18.847 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:18.847 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UsuarioOutDto(id=1, email=b@b.com, esPremium=false, fechaRegistro=2026-02-10, nivelExperiencia=5, us (truncated)...]
2026-02-10 11:53:18.852 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#get(long)
2026-02-10 11:53:18.852 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.UsuarioOutDto> com.svalero.rutea.controller.UsuarioController.get(long) throws com.svalero.rutea.exception.UsuarioNotFoundException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"
2026-02-10 11:53:18.853 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:53:18.853 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:18.853 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={id=Invalid value: abc})]
2026-02-10 11:53:18.853 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"]
2026-02-10 11:53:18.856 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#delete(long)
2026-02-10 11:53:18.858 [main] DEBUG c.s.r.controller.UsuarioController - DELETE /usuarios/99
2026-02-10 11:53:18.858 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.UsuarioController#handleException(UsuarioNotFoundException)
2026-02-10 11:53:18.858 [main] WARN  c.s.r.controller.UsuarioController - Usuario no encontrado: null
2026-02-10 11:53:18.858 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:18.860 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El usuario no existe, errors={})]
2026-02-10 11:53:18.860 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.UsuarioNotFoundException]
2026-02-10 11:53:18.863 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#delete(long)
2026-02-10 11:53:18.864 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.svalero.rutea.controller.UsuarioController.delete(long) throws com.svalero.rutea.exception.UsuarioNotFoundException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"
2026-02-10 11:53:18.864 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:53:18.864 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:18.864 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={id=Invalid value: abc})]
2026-02-10 11:53:18.866 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"]
2026-02-10 11:53:18.869 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#get(long)
2026-02-10 11:53:18.870 [main] DEBUG c.s.r.controller.UsuarioController - GET /usuarios/99
2026-02-10 11:53:18.870 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.UsuarioController#handleException(UsuarioNotFoundException)
2026-02-10 11:53:18.870 [main] WARN  c.s.r.controller.UsuarioController - Usuario no encontrado: null
2026-02-10 11:53:18.870 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:18.872 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El usuario no existe, errors={})]
2026-02-10 11:53:18.872 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.UsuarioNotFoundException]
2026-02-10 11:53:18.875 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#get(long)
2026-02-10 11:53:18.877 [main] DEBUG c.s.r.controller.UsuarioController - GET /usuarios/1
2026-02-10 11:53:18.877 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:18.877 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UsuarioOutDto(id=1, email=a@a.com, esPremium=false, fechaRegistro=2026-02-10, nivelExperiencia=0, us (truncated)...]
2026-02-10 11:53:18.879 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#getAll(Boolean, Integer, String)
2026-02-10 11:53:18.881 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [1] in public org.springframework.http.ResponseEntity<java.util.List<com.svalero.rutea.dto.UsuarioOutDto>> com.svalero.rutea.controller.UsuarioController.getAll(java.lang.Boolean,java.lang.Integer,java.lang.String): Failed to convert value of type 'java.lang.String' to required type 'java.lang.Integer'; For input string: "abc"
2026-02-10 11:53:18.881 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:53:18.881 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:18.881 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={nivelExperiencia=Invali (truncated)...]
2026-02-10 11:53:18.881 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Integer'; For input string: "abc"]
2026-02-10 11:53:18.884 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#getAll(Boolean, Integer, String)
2026-02-10 11:53:18.887 [main] DEBUG c.s.r.controller.UsuarioController - GET /usuarios - Filtros: premium=true, nivelExperiencia=3, username=bor
2026-02-10 11:53:18.887 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:18.889 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UsuarioOutDto(id=1, email=a@a.com, esPremium=true, fechaRegistro=2026-02-10, nivelExperiencia=3, us (truncated)...]
2026-02-10 11:53:18.894 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.svalero.rutea.controller.CategoriaControllerTest]: CategoriaControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-02-10 11:53:18.903 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.svalero.rutea.RuteaApplication for test class com.svalero.rutea.controller.CategoriaControllerTest
2026-02-10 11:53:18.923 [main] INFO  c.s.r.c.CategoriaControllerTest - Starting CategoriaControllerTest using Java 23 with PID 27208 (started by borzg in C:\Proyects\rutea)
2026-02-10 11:53:18.923 [main] DEBUG c.s.r.c.CategoriaControllerTest - Running with Spring Boot v3.3.3, Spring v6.1.12
2026-02-10 11:53:18.923 [main] INFO  c.s.r.c.CategoriaControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-10 11:53:18.926 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@14eb96e9
2026-02-10 11:53:19.089 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 8 mappings in 'requestMappingHandlerMapping'
2026-02-10 11:53:19.106 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-10 11:53:19.111 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-10 11:53:19.114 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-10 11:53:19.122 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2026-02-10 11:53:19.122 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2026-02-10 11:53:19.122 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2026-02-10 11:53:19.127 [main] INFO  c.s.r.c.CategoriaControllerTest - Started CategoriaControllerTest in 0.223 seconds (process running for 4.666)
2026-02-10 11:53:19.132 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#delete(long)
2026-02-10 11:53:19.132 [main] DEBUG c.s.r.controller.CategoriaController - DELETE /categorias/1
2026-02-10 11:53:19.133 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:19.133 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2026-02-10 11:53:19.138 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#delete(long)
2026-02-10 11:53:19.140 [main] DEBUG c.s.r.controller.CategoriaController - DELETE /categorias/99
2026-02-10 11:53:19.140 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.CategoriaController#handleException(CategoriaNotFoundException)
2026-02-10 11:53:19.140 [main] WARN  c.s.r.controller.CategoriaController - Categoría no encontrada: null
2026-02-10 11:53:19.143 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:19.143 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=La categoria no existe, errors={})]
2026-02-10 11:53:19.143 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.CategoriaNotFoundException]
2026-02-10 11:53:19.149 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#add(CategoriaInDto)
2026-02-10 11:53:19.155 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CategoriaInDto(activa=false, costePromedio=0.0, descripcion=null, iconoUrl=null, nombre=, ordenPrior (truncated)...]
2026-02-10 11:53:19.163 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.CategoriaController#handleException(MethodArgumentNotValidException)
2026-02-10 11:53:19.163 [main] WARN  c.s.r.controller.CategoriaController - Error de validación en request
2026-02-10 11:53:19.165 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:19.165 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={nombre=nombre is mandat (truncated)...]
2026-02-10 11:53:19.165 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.CategoriaOutDto> com.svalero.rutea.controller.CategoriaController.add(com.svalero.rutea.dto.CategoriaInDto): [Field error in object 'categoriaInDto' on field 'nombre': rejected value []; codes [NotBlank.categoriaInDto.nombre,NotBlank.nombre,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaInDto.nombre,nombre]; arguments []; default message [nombre]]; default message [nombre is mandatory]] ]
2026-02-10 11:53:19.171 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#modify(long, CategoriaInDto)
2026-02-10 11:53:19.171 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CategoriaInDto(activa=false, costePromedio=0.0, descripcion=null, iconoUrl=null, nombre=, ordenPrior (truncated)...]
2026-02-10 11:53:19.173 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.CategoriaController#handleException(MethodArgumentNotValidException)
2026-02-10 11:53:19.173 [main] WARN  c.s.r.controller.CategoriaController - Error de validación en request
2026-02-10 11:53:19.173 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:19.173 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={nombre=nombre is mandat (truncated)...]
2026-02-10 11:53:19.174 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [1] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.CategoriaOutDto> com.svalero.rutea.controller.CategoriaController.modify(long,com.svalero.rutea.dto.CategoriaInDto) throws com.svalero.rutea.exception.CategoriaNotFoundException: [Field error in object 'categoriaInDto' on field 'nombre': rejected value []; codes [NotBlank.categoriaInDto.nombre,NotBlank.nombre,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaInDto.nombre,nombre]; arguments []; default message [nombre]]; default message [nombre is mandatory]] ]
2026-02-10 11:53:19.179 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#add(CategoriaInDto)
2026-02-10 11:53:19.179 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CategoriaInDto(activa=true, costePromedio=0.0, descripcion=null, iconoUrl=null, nombre=Montaña, orde (truncated)...]
2026-02-10 11:53:19.180 [main] DEBUG c.s.r.controller.CategoriaController - POST /categorias - Montaña
2026-02-10 11:53:19.182 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:19.188 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CategoriaOutDto(id=1, activa=true, costePromedio=0.0, descripcion=null, iconoUrl=null, nombre=Montañ (truncated)...]
2026-02-10 11:53:19.195 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#modify(long, CategoriaInDto)
2026-02-10 11:53:19.195 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CategoriaInDto(activa=true, costePromedio=0.0, descripcion=null, iconoUrl=null, nombre=X, ordenPrior (truncated)...]
2026-02-10 11:53:19.196 [main] DEBUG c.s.r.controller.CategoriaController - PUT /categorias/1
2026-02-10 11:53:19.196 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:19.197 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CategoriaOutDto(id=1, activa=true, costePromedio=0.0, descripcion=null, iconoUrl=null, nombre=X, ord (truncated)...]
2026-02-10 11:53:19.204 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#modify(long, CategoriaInDto)
2026-02-10 11:53:19.204 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CategoriaInDto(activa=true, costePromedio=0.0, descripcion=null, iconoUrl=null, nombre=X, ordenPrior (truncated)...]
2026-02-10 11:53:19.205 [main] DEBUG c.s.r.controller.CategoriaController - PUT /categorias/99
2026-02-10 11:53:19.205 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.CategoriaController#handleException(CategoriaNotFoundException)
2026-02-10 11:53:19.205 [main] WARN  c.s.r.controller.CategoriaController - Categoría no encontrada: null
2026-02-10 11:53:19.208 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:19.208 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=La categoria no existe, errors={})]
2026-02-10 11:53:19.208 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.CategoriaNotFoundException]
2026-02-10 11:53:19.212 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#get(long)
2026-02-10 11:53:19.212 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.CategoriaOutDto> com.svalero.rutea.controller.CategoriaController.get(long) throws com.svalero.rutea.exception.CategoriaNotFoundException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"
2026-02-10 11:53:19.213 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:53:19.213 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:19.213 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={id=Invalid value: abc})]
2026-02-10 11:53:19.213 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"]
2026-02-10 11:53:19.218 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#delete(long)
2026-02-10 11:53:19.218 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.svalero.rutea.controller.CategoriaController.delete(long) throws com.svalero.rutea.exception.CategoriaNotFoundException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"
2026-02-10 11:53:19.219 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:53:19.219 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:19.219 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={id=Invalid value: abc})]
2026-02-10 11:53:19.219 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"]
2026-02-10 11:53:19.224 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#modify(long, CategoriaInDto)
2026-02-10 11:53:19.225 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.CategoriaOutDto> com.svalero.rutea.controller.CategoriaController.modify(long,com.svalero.rutea.dto.CategoriaInDto) throws com.svalero.rutea.exception.CategoriaNotFoundException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"
2026-02-10 11:53:19.225 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:53:19.225 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:19.225 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={id=Invalid value: abc})]
2026-02-10 11:53:19.225 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"]
2026-02-10 11:53:19.229 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#get(long)
2026-02-10 11:53:19.229 [main] DEBUG c.s.r.controller.CategoriaController - GET /categorias/1
2026-02-10 11:53:19.231 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:19.231 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CategoriaOutDto(id=1, activa=false, costePromedio=0.0, descripcion=null, iconoUrl=null, nombre=Monta (truncated)...]
2026-02-10 11:53:19.235 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#get(long)
2026-02-10 11:53:19.235 [main] DEBUG c.s.r.controller.CategoriaController - GET /categorias/99
2026-02-10 11:53:19.237 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.CategoriaController#handleException(CategoriaNotFoundException)
2026-02-10 11:53:19.237 [main] WARN  c.s.r.controller.CategoriaController - Categoría no encontrada: null
2026-02-10 11:53:19.238 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:19.238 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=La categoria no existe, errors={})]
2026-02-10 11:53:19.238 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.CategoriaNotFoundException]
2026-02-10 11:53:19.242 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#getAll(Boolean, String, Integer)
2026-02-10 11:53:19.244 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [2] in public org.springframework.http.ResponseEntity<java.util.List<com.svalero.rutea.dto.CategoriaOutDto>> com.svalero.rutea.controller.CategoriaController.getAll(java.lang.Boolean,java.lang.String,java.lang.Integer): Failed to convert value of type 'java.lang.String' to required type 'java.lang.Integer'; For input string: "abc"
2026-02-10 11:53:19.244 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:53:19.245 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:19.245 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={ordenPrioridad=Invalid  (truncated)...]
2026-02-10 11:53:19.245 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Integer'; For input string: "abc"]
2026-02-10 11:53:19.249 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#getAll(Boolean, String, Integer)
2026-02-10 11:53:19.250 [main] DEBUG c.s.r.controller.CategoriaController - GET /categorias - Filtros: activa=true, nombre=mon, ordenPrioridad=1
2026-02-10 11:53:19.252 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:19.252 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoriaOutDto(id=1, activa=true, costePromedio=0.0, descripcion=null, iconoUrl=null, nombre=Monta (truncated)...]
2026-02-10 11:53:19.455 [main] DEBUG c.s.rutea.service.CategoriaService - Buscando categoría por ID: 1
2026-02-10 11:53:19.472 [main] INFO  c.s.rutea.service.CategoriaService - Modificando categoría ID: 1
2026-02-10 11:53:19.474 [main] INFO  c.s.rutea.service.CategoriaService - Categoría modificada exitosamente: ID 1
2026-02-10 11:53:19.478 [main] DEBUG c.s.rutea.service.CategoriaService - Buscando categorías con filtros: activa=true, nombre=null, ordenPrioridad=null
2026-02-10 11:53:19.478 [main] INFO  c.s.rutea.service.CategoriaService - Se encontraron 1 categorías
2026-02-10 11:53:19.483 [main] DEBUG c.s.rutea.service.CategoriaService - Buscando categorías con filtros: activa=null, nombre=mon, ordenPrioridad=null
2026-02-10 11:53:19.483 [main] INFO  c.s.rutea.service.CategoriaService - Se encontraron 1 categorías
2026-02-10 11:53:19.485 [main] DEBUG c.s.rutea.service.CategoriaService - Buscando categorías con filtros: activa=null, nombre=mon, ordenPrioridad=1
2026-02-10 11:53:19.487 [main] INFO  c.s.rutea.service.CategoriaService - Se encontraron 1 categorías
2026-02-10 11:53:19.490 [main] DEBUG c.s.rutea.service.CategoriaService - Buscando categorías con filtros: activa=true, nombre=mon, ordenPrioridad=1
2026-02-10 11:53:19.490 [main] INFO  c.s.rutea.service.CategoriaService - Se encontraron 1 categorías
2026-02-10 11:53:19.496 [main] INFO  c.s.rutea.service.CategoriaService - Eliminando categoría ID: 99
2026-02-10 11:53:19.496 [main] ERROR c.s.rutea.service.CategoriaService - Categoría no encontrada para eliminación: ID 99
2026-02-10 11:53:19.499 [main] INFO  c.s.rutea.service.CategoriaService - Eliminando categoría ID: 1
2026-02-10 11:53:19.501 [main] INFO  c.s.rutea.service.CategoriaService - Categoría eliminada exitosamente: ID 1
2026-02-10 11:53:19.504 [main] DEBUG c.s.rutea.service.CategoriaService - Buscando categorías con filtros: activa=true, nombre=null, ordenPrioridad=1
2026-02-10 11:53:19.504 [main] INFO  c.s.rutea.service.CategoriaService - Se encontraron 1 categorías
2026-02-10 11:53:19.509 [main] DEBUG c.s.rutea.service.CategoriaService - Buscando categoría por ID: 99
2026-02-10 11:53:19.509 [main] ERROR c.s.rutea.service.CategoriaService - Categoría no encontrada: ID 99
2026-02-10 11:53:19.516 [main] INFO  c.s.rutea.service.CategoriaService - Modificando categoría ID: 99
2026-02-10 11:53:19.516 [main] ERROR c.s.rutea.service.CategoriaService - Categoría no encontrada para modificación: ID 99
2026-02-10 11:53:19.519 [main] DEBUG c.s.rutea.service.CategoriaService - Buscando categorías con filtros: activa=true, nombre=mon, ordenPrioridad=null
2026-02-10 11:53:19.520 [main] INFO  c.s.rutea.service.CategoriaService - Se encontraron 1 categorías
2026-02-10 11:53:19.523 [main] DEBUG c.s.rutea.service.CategoriaService - Buscando categorías con filtros: activa=null, nombre=null, ordenPrioridad=null
2026-02-10 11:53:19.523 [main] INFO  c.s.rutea.service.CategoriaService - Se encontraron 2 categorías
2026-02-10 11:53:19.528 [main] INFO  c.s.rutea.service.CategoriaService - Creando nueva categoría: Montaña
2026-02-10 11:53:19.528 [main] INFO  c.s.rutea.service.CategoriaService - Categoría creada exitosamente con ID: 1
2026-02-10 11:53:19.533 [main] DEBUG c.s.rutea.service.CategoriaService - Buscando categorías con filtros: activa=null, nombre=null, ordenPrioridad=1
2026-02-10 11:53:19.533 [main] INFO  c.s.rutea.service.CategoriaService - Se encontraron 1 categorías
2026-02-10 11:53:19.538 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.svalero.rutea.controller.RutaControllerTest]: RutaControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-02-10 11:53:19.547 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.svalero.rutea.RuteaApplication for test class com.svalero.rutea.controller.RutaControllerTest
2026-02-10 11:53:19.564 [main] INFO  c.s.r.controller.RutaControllerTest - Starting RutaControllerTest using Java 23 with PID 27208 (started by borzg in C:\Proyects\rutea)
2026-02-10 11:53:19.564 [main] DEBUG c.s.r.controller.RutaControllerTest - Running with Spring Boot v3.3.3, Spring v6.1.12
2026-02-10 11:53:19.566 [main] INFO  c.s.r.controller.RutaControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-10 11:53:19.567 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@426bf2f2
2026-02-10 11:53:19.735 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 8 mappings in 'requestMappingHandlerMapping'
2026-02-10 11:53:19.759 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-10 11:53:19.762 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-10 11:53:19.765 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-10 11:53:19.771 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2026-02-10 11:53:19.771 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2026-02-10 11:53:19.771 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2026-02-10 11:53:19.776 [main] INFO  c.s.r.controller.RutaControllerTest - Started RutaControllerTest in 0.224 seconds (process running for 5.314)
2026-02-10 11:53:19.778 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#delete(long)
2026-02-10 11:53:19.779 [main] DEBUG c.s.rutea.controller.RutaController - DELETE /rutas/1
2026-02-10 11:53:19.781 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:19.781 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2026-02-10 11:53:19.787 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#add(RutaInDto)
2026-02-10 11:53:19.793 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RutaInDto(dificultad=facil, distanciaKm=1.0, duracionMinutos=10, fechaRealizacion=2026-02-10, public (truncated)...]
2026-02-10 11:53:19.799 [main] DEBUG c.s.rutea.controller.RutaController - POST /rutas - Ruta
2026-02-10 11:53:19.799 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.RutaController#handleException(UsuarioNotFoundException)
2026-02-10 11:53:19.799 [main] WARN  c.s.rutea.controller.RutaController - Usuario no encontrado: null
2026-02-10 11:53:19.802 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:19.802 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El usuario no existe, errors={})]
2026-02-10 11:53:19.802 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.UsuarioNotFoundException]
2026-02-10 11:53:19.805 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#add(RutaInDto)
2026-02-10 11:53:19.805 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RutaInDto(dificultad=x, distanciaKm=-1.0, duracionMinutos=-5, fechaRealizacion=null, publica=true, t (truncated)...]
2026-02-10 11:53:19.807 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.RutaController#handleException(MethodArgumentNotValidException)
2026-02-10 11:53:19.807 [main] WARN  c.s.rutea.controller.RutaController - Error de validación en request
2026-02-10 11:53:19.809 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:19.809 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={fechaRealizacion=fechaR (truncated)...]
2026-02-10 11:53:19.809 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.RutaOutDto> com.svalero.rutea.controller.RutaController.add(com.svalero.rutea.dto.RutaInDto) throws com.svalero.rutea.exception.UsuarioNotFoundException,com.svalero.rutea.exception.PuntoInteresNotFoundException with 5 errors: [Field error in object 'rutaInDto' on field 'titulo': rejected value []; codes [NotBlank.rutaInDto.titulo,NotBlank.titulo,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [rutaInDto.titulo,titulo]; arguments []; default message [titulo]]; default message [titulo is mandatory]] [Field error in object 'rutaInDto' on field 'duracionMinutos': rejected value [-5]; codes [Min.rutaInDto.duracionMinutos,Min.duracionMinutos,Min.int,Min]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [rutaInDto.duracionMinutos,duracionMinutos]; arguments []; default message [duracionMinutos],0]; default message [duracionMinutos must be >= 0]] [Field error in object 'rutaInDto' on field 'distanciaKm': rejected value [-1.0]; codes [PositiveOrZero.rutaInDto.distanciaKm,PositiveOrZero.distanciaKm,PositiveOrZero.float,PositiveOrZero]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [rutaInDto.distanciaKm,distanciaKm]; arguments []; default message [distanciaKm]]; default message [distanciaKm must be >= 0]] [Field error in object 'rutaInDto' on field 'usuarioId': rejected value [null]; codes [NotNull.rutaInDto.usuarioId,NotNull.usuarioId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [rutaInDto.usuarioId,usuarioId]; arguments []; default message [usuarioId]]; default message [usuarioId is mandatory]] [Field error in object 'rutaInDto' on field 'fechaRealizacion': rejected value [null]; codes [NotNull.rutaInDto.fechaRealizacion,NotNull.fechaRealizacion,NotNull.java.time.LocalDate,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [rutaInDto.fechaRealizacion,fechaRealizacion]; arguments []; default message [fechaRealizacion]]; default message [fechaRealizacion is mandatory]] ]
2026-02-10 11:53:19.812 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#modify(long, RutaInDto)
2026-02-10 11:53:19.813 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RutaInDto(dificultad=null, distanciaKm=-1.0, duracionMinutos=-1, fechaRealizacion=null, publica=true (truncated)...]
2026-02-10 11:53:19.813 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.RutaController#handleException(MethodArgumentNotValidException)
2026-02-10 11:53:19.815 [main] WARN  c.s.rutea.controller.RutaController - Error de validación en request
2026-02-10 11:53:19.815 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:19.815 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={fechaRealizacion=fechaR (truncated)...]
2026-02-10 11:53:19.815 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [1] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.RutaOutDto> com.svalero.rutea.controller.RutaController.modify(long,com.svalero.rutea.dto.RutaInDto) throws com.svalero.rutea.exception.RutaNotFoundException,com.svalero.rutea.exception.UsuarioNotFoundException,com.svalero.rutea.exception.PuntoInteresNotFoundException with 5 errors: [Field error in object 'rutaInDto' on field 'distanciaKm': rejected value [-1.0]; codes [PositiveOrZero.rutaInDto.distanciaKm,PositiveOrZero.distanciaKm,PositiveOrZero.float,PositiveOrZero]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [rutaInDto.distanciaKm,distanciaKm]; arguments []; default message [distanciaKm]]; default message [distanciaKm must be >= 0]] [Field error in object 'rutaInDto' on field 'usuarioId': rejected value [null]; codes [NotNull.rutaInDto.usuarioId,NotNull.usuarioId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [rutaInDto.usuarioId,usuarioId]; arguments []; default message [usuarioId]]; default message [usuarioId is mandatory]] [Field error in object 'rutaInDto' on field 'titulo': rejected value []; codes [NotBlank.rutaInDto.titulo,NotBlank.titulo,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [rutaInDto.titulo,titulo]; arguments []; default message [titulo]]; default message [titulo is mandatory]] [Field error in object 'rutaInDto' on field 'fechaRealizacion': rejected value [null]; codes [NotNull.rutaInDto.fechaRealizacion,NotNull.fechaRealizacion,NotNull.java.time.LocalDate,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [rutaInDto.fechaRealizacion,fechaRealizacion]; arguments []; default message [fechaRealizacion]]; default message [fechaRealizacion is mandatory]] [Field error in object 'rutaInDto' on field 'duracionMinutos': rejected value [-1]; codes [Min.rutaInDto.duracionMinutos,Min.duracionMinutos,Min.int,Min]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [rutaInDto.duracionMinutos,duracionMinutos]; arguments []; default message [duracionMinutos],0]; default message [duracionMinutos must be >= 0]] ]
2026-02-10 11:53:19.820 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#add(RutaInDto)
2026-02-10 11:53:19.820 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RutaInDto(dificultad=facil, distanciaKm=5.5, duracionMinutos=60, fechaRealizacion=2026-02-10, public (truncated)...]
2026-02-10 11:53:19.821 [main] DEBUG c.s.rutea.controller.RutaController - POST /rutas - Paseo por el parque
2026-02-10 11:53:19.823 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:19.830 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [RutaOutDto(id=1, dificultad=facil, distanciaKm=5.5, duracionMinutos=60, fechaRealizacion=2026-02-10, (truncated)...]
2026-02-10 11:53:19.835 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#modify(long, RutaInDto)
2026-02-10 11:53:19.835 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RutaInDto(dificultad=dificil, distanciaKm=12.0, duracionMinutos=180, fechaRealizacion=2026-02-10, pu (truncated)...]
2026-02-10 11:53:19.837 [main] DEBUG c.s.rutea.controller.RutaController - PUT /rutas/1
2026-02-10 11:53:19.837 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:19.837 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [RutaOutDto(id=1, dificultad=dificil, distanciaKm=12.0, duracionMinutos=180, fechaRealizacion=2026-02 (truncated)...]
2026-02-10 11:53:19.841 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#get(long)
2026-02-10 11:53:19.841 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.RutaOutDto> com.svalero.rutea.controller.RutaController.get(long) throws com.svalero.rutea.exception.RutaNotFoundException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"
2026-02-10 11:53:19.841 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:53:19.841 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:19.841 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={id=Invalid value: abc})]
2026-02-10 11:53:19.843 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"]
2026-02-10 11:53:19.846 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#modify(long, RutaInDto)
2026-02-10 11:53:19.848 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RutaInDto(dificultad=x, distanciaKm=1.0, duracionMinutos=1, fechaRealizacion=2026-02-10, publica=tru (truncated)...]
2026-02-10 11:53:19.848 [main] DEBUG c.s.rutea.controller.RutaController - PUT /rutas/1
2026-02-10 11:53:19.849 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.RutaController#handleException(PuntoInteresNotFoundException)
2026-02-10 11:53:19.849 [main] WARN  c.s.rutea.controller.RutaController - Punto de interés no encontrado: null
2026-02-10 11:53:19.849 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:19.849 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El punto de interés no existe, errors={})]
2026-02-10 11:53:19.849 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.PuntoInteresNotFoundException]
2026-02-10 11:53:19.854 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#add(RutaInDto)
2026-02-10 11:53:19.856 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RutaInDto(dificultad=facil, distanciaKm=1.0, duracionMinutos=10, fechaRealizacion=2026-02-10, public (truncated)...]
2026-02-10 11:53:19.856 [main] DEBUG c.s.rutea.controller.RutaController - POST /rutas - Ruta
2026-02-10 11:53:19.857 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.RutaController#handleException(PuntoInteresNotFoundException)
2026-02-10 11:53:19.857 [main] WARN  c.s.rutea.controller.RutaController - Punto de interés no encontrado: null
2026-02-10 11:53:19.857 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:19.858 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El punto de interés no existe, errors={})]
2026-02-10 11:53:19.858 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.PuntoInteresNotFoundException]
2026-02-10 11:53:19.864 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#delete(long)
2026-02-10 11:53:19.864 [main] DEBUG c.s.rutea.controller.RutaController - DELETE /rutas/99
2026-02-10 11:53:19.865 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.RutaController#handleException(RutaNotFoundException)
2026-02-10 11:53:19.865 [main] WARN  c.s.rutea.controller.RutaController - Ruta no encontrada: null
2026-02-10 11:53:19.865 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:19.866 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=La ruta no existe, errors={})]
2026-02-10 11:53:19.866 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.RutaNotFoundException]
2026-02-10 11:53:19.872 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#delete(long)
2026-02-10 11:53:19.874 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.svalero.rutea.controller.RutaController.delete(long) throws com.svalero.rutea.exception.RutaNotFoundException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"
2026-02-10 11:53:19.874 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:53:19.874 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:19.874 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={id=Invalid value: abc})]
2026-02-10 11:53:19.874 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"]
2026-02-10 11:53:19.882 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#modify(long, RutaInDto)
2026-02-10 11:53:19.882 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RutaInDto(dificultad=x, distanciaKm=1.0, duracionMinutos=1, fechaRealizacion=2026-02-10, publica=tru (truncated)...]
2026-02-10 11:53:19.882 [main] DEBUG c.s.rutea.controller.RutaController - PUT /rutas/1
2026-02-10 11:53:19.884 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.RutaController#handleException(UsuarioNotFoundException)
2026-02-10 11:53:19.884 [main] WARN  c.s.rutea.controller.RutaController - Usuario no encontrado: null
2026-02-10 11:53:19.884 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:19.885 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El usuario no existe, errors={})]
2026-02-10 11:53:19.885 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.UsuarioNotFoundException]
2026-02-10 11:53:19.889 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#get(long)
2026-02-10 11:53:19.890 [main] DEBUG c.s.rutea.controller.RutaController - GET /rutas/99
2026-02-10 11:53:19.890 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.RutaController#handleException(RutaNotFoundException)
2026-02-10 11:53:19.890 [main] WARN  c.s.rutea.controller.RutaController - Ruta no encontrada: null
2026-02-10 11:53:19.890 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:19.890 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=La ruta no existe, errors={})]
2026-02-10 11:53:19.890 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.RutaNotFoundException]
2026-02-10 11:53:19.895 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#get(long)
2026-02-10 11:53:19.895 [main] DEBUG c.s.rutea.controller.RutaController - GET /rutas/1
2026-02-10 11:53:19.895 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:19.897 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [RutaOutDto(id=1, dificultad=media, distanciaKm=10.0, duracionMinutos=120, fechaRealizacion=2026-02-1 (truncated)...]
2026-02-10 11:53:19.901 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#getAll(String, Boolean, String)
2026-02-10 11:53:19.903 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [1] in public org.springframework.http.ResponseEntity<java.util.List<com.svalero.rutea.dto.RutaOutDto>> com.svalero.rutea.controller.RutaController.getAll(java.lang.String,java.lang.Boolean,java.lang.String): Failed to convert value of type 'java.lang.String' to required type 'java.lang.Boolean'; Invalid boolean value [abc]
2026-02-10 11:53:19.903 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:53:19.903 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:19.903 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={publica=Invalid value:  (truncated)...]
2026-02-10 11:53:19.903 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Boolean'; Invalid boolean value [abc]]
2026-02-10 11:53:19.907 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#modify(long, RutaInDto)
2026-02-10 11:53:19.907 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RutaInDto(dificultad=x, distanciaKm=1.0, duracionMinutos=1, fechaRealizacion=2026-02-10, publica=tru (truncated)...]
2026-02-10 11:53:19.909 [main] DEBUG c.s.rutea.controller.RutaController - PUT /rutas/99
2026-02-10 11:53:19.910 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.RutaController#handleException(RutaNotFoundException)
2026-02-10 11:53:19.910 [main] WARN  c.s.rutea.controller.RutaController - Ruta no encontrada: null
2026-02-10 11:53:19.910 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:19.910 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=La ruta no existe, errors={})]
2026-02-10 11:53:19.910 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.RutaNotFoundException]
2026-02-10 11:53:19.915 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#getAll(String, Boolean, String)
2026-02-10 11:53:19.917 [main] DEBUG c.s.rutea.controller.RutaController - GET /rutas - Filtros: dificultad=facil, publica=true, titulo=paseo
2026-02-10 11:53:19.918 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:19.918 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[RutaOutDto(id=1, dificultad=facil, distanciaKm=5.5, duracionMinutos=60, fechaRealizacion=2026-02-10 (truncated)...]
2026-02-10 11:53:20.045 [main] DEBUG c.s.r.service.PuntoInteresService - Buscando punto de interés por ID: 10
2026-02-10 11:53:20.051 [main] INFO  c.s.r.service.PuntoInteresService - Modificando punto de interés ID: 10
2026-02-10 11:53:20.053 [main] INFO  c.s.r.service.PuntoInteresService - Punto de interés modificado exitosamente: ID 10
2026-02-10 11:53:20.056 [main] INFO  c.s.r.service.PuntoInteresService - Eliminando punto de interés ID: 999
2026-02-10 11:53:20.058 [main] ERROR c.s.r.service.PuntoInteresService - Punto de interés no encontrado para eliminación: ID 999
2026-02-10 11:53:20.061 [main] INFO  c.s.r.service.PuntoInteresService - Creando nuevo punto de interés: X
2026-02-10 11:53:20.062 [main] ERROR c.s.r.service.PuntoInteresService - Categoría no encontrada: ID 99
2026-02-10 11:53:20.065 [main] INFO  c.s.r.service.PuntoInteresService - Modificando punto de interés ID: 999
2026-02-10 11:53:20.065 [main] ERROR c.s.r.service.PuntoInteresService - Punto de interés no encontrado para modificación: ID 999
2026-02-10 11:53:20.067 [main] INFO  c.s.r.service.PuntoInteresService - Eliminando punto de interés ID: 10
2026-02-10 11:53:20.067 [main] INFO  c.s.r.service.PuntoInteresService - Punto de interés eliminado exitosamente: ID 10
2026-02-10 11:53:20.070 [main] DEBUG c.s.r.service.PuntoInteresService - Buscando puntos de interés con filtros: categoriaId=1, abiertoActualmente=true, nombre=parque, puntuacionMedia=4.5
2026-02-10 11:53:20.073 [main] INFO  c.s.r.service.PuntoInteresService - Se encontraron 1 puntos de interés
2026-02-10 11:53:20.078 [main] INFO  c.s.r.service.PuntoInteresService - Creando nuevo punto de interés: Parque Grande
2026-02-10 11:53:20.080 [main] INFO  c.s.r.service.PuntoInteresService - Punto de interés creado exitosamente con ID: 10
2026-02-10 11:53:20.084 [main] DEBUG c.s.r.service.PuntoInteresService - Buscando punto de interés por ID: 999
2026-02-10 11:53:20.084 [main] ERROR c.s.r.service.PuntoInteresService - Punto de interés no encontrado: ID 999
2026-02-10 11:53:20.089 [main] INFO  c.s.r.service.PuntoInteresService - Modificando punto de interés ID: 10
2026-02-10 11:53:20.089 [main] ERROR c.s.r.service.PuntoInteresService - Categoría no encontrada: ID 99
2026-02-10 11:53:20.182 [main] INFO  c.s.rutea.service.ResenaService - Modificando reseña ID: 999
2026-02-10 11:53:20.183 [main] ERROR c.s.rutea.service.ResenaService - Reseña no encontrada para modificación: ID 999
2026-02-10 11:53:20.184 [main] DEBUG c.s.rutea.service.ResenaService - Buscando reseña por ID: 1
2026-02-10 11:53:20.189 [main] DEBUG c.s.rutea.service.ResenaService - Buscando reseñas con filtros: editada=false, likes=10, valoracion=5
2026-02-10 11:53:20.191 [main] INFO  c.s.rutea.service.ResenaService - Se encontraron 1 reseñas
2026-02-10 11:53:20.195 [main] INFO  c.s.rutea.service.ResenaService - Creando nueva reseña para punto ID: 10
2026-02-10 11:53:20.197 [main] ERROR c.s.rutea.service.ResenaService - Usuario no encontrado: ID 999
2026-02-10 11:53:20.200 [main] INFO  c.s.rutea.service.ResenaService - Creando nueva reseña para punto ID: 10
2026-02-10 11:53:20.200 [main] INFO  c.s.rutea.service.ResenaService - Reseña creada exitosamente con ID: 1
2026-02-10 11:53:20.205 [main] INFO  c.s.rutea.service.ResenaService - Eliminando reseña ID: 999
2026-02-10 11:53:20.205 [main] ERROR c.s.rutea.service.ResenaService - Reseña no encontrada para eliminación: ID 999
2026-02-10 11:53:20.209 [main] INFO  c.s.rutea.service.ResenaService - Modificando reseña ID: 1
2026-02-10 11:53:20.209 [main] ERROR c.s.rutea.service.ResenaService - Punto de interés no encontrado: ID 999
2026-02-10 11:53:20.214 [main] INFO  c.s.rutea.service.ResenaService - Eliminando reseña ID: 1
2026-02-10 11:53:20.214 [main] INFO  c.s.rutea.service.ResenaService - Reseña eliminada exitosamente: ID 1
2026-02-10 11:53:20.217 [main] INFO  c.s.rutea.service.ResenaService - Modificando reseña ID: 1
2026-02-10 11:53:20.218 [main] ERROR c.s.rutea.service.ResenaService - Usuario no encontrado: ID 999
2026-02-10 11:53:20.223 [main] INFO  c.s.rutea.service.ResenaService - Modificando reseña ID: 1
2026-02-10 11:53:20.225 [main] INFO  c.s.rutea.service.ResenaService - Reseña modificada exitosamente: ID 1
2026-02-10 11:53:20.230 [main] DEBUG c.s.rutea.service.ResenaService - Buscando reseña por ID: 999
2026-02-10 11:53:20.230 [main] ERROR c.s.rutea.service.ResenaService - Reseña no encontrada: ID 999
2026-02-10 11:53:20.234 [main] INFO  c.s.rutea.service.ResenaService - Creando nueva reseña para punto ID: 999
2026-02-10 11:53:20.234 [main] ERROR c.s.rutea.service.ResenaService - Punto de interés no encontrado: ID 999
2026-02-10 11:53:20.297 [main] DEBUG c.svalero.rutea.service.RutaService - Buscando ruta por ID: 1
2026-02-10 11:53:20.305 [main] INFO  c.svalero.rutea.service.RutaService - Creando nueva ruta: Ruta
2026-02-10 11:53:20.306 [main] ERROR c.svalero.rutea.service.RutaService - Usuario no encontrado: ID 999
2026-02-10 11:53:20.309 [main] INFO  c.svalero.rutea.service.RutaService - Eliminando ruta ID: 999
2026-02-10 11:53:20.311 [main] ERROR c.svalero.rutea.service.RutaService - Ruta no encontrada para eliminación: ID 999
2026-02-10 11:53:20.316 [main] INFO  c.svalero.rutea.service.RutaService - Modificando ruta ID: 999
2026-02-10 11:53:20.316 [main] ERROR c.svalero.rutea.service.RutaService - Ruta no encontrada para modificación: ID 999
2026-02-10 11:53:20.323 [main] INFO  c.svalero.rutea.service.RutaService - Modificando ruta ID: 1
2026-02-10 11:53:20.327 [main] INFO  c.svalero.rutea.service.RutaService - Eliminando ruta ID: 1
2026-02-10 11:53:20.327 [main] INFO  c.svalero.rutea.service.RutaService - Ruta eliminada exitosamente: ID 1
2026-02-10 11:53:20.331 [main] INFO  c.svalero.rutea.service.RutaService - Modificando ruta ID: 1
2026-02-10 11:53:20.331 [main] ERROR c.svalero.rutea.service.RutaService - Usuario no encontrado: ID 999
2026-02-10 11:53:20.336 [main] INFO  c.svalero.rutea.service.RutaService - Creando nueva ruta: Ruta
2026-02-10 11:53:20.340 [main] INFO  c.svalero.rutea.service.RutaService - Creando nueva ruta: Paseo por el parque
2026-02-10 11:53:20.341 [main] INFO  c.svalero.rutea.service.RutaService - Ruta creada exitosamente con ID: 1
2026-02-10 11:53:20.347 [main] INFO  c.svalero.rutea.service.RutaService - Modificando ruta ID: 1
2026-02-10 11:53:20.347 [main] INFO  c.svalero.rutea.service.RutaService - Ruta modificada exitosamente: ID 1
2026-02-10 11:53:20.354 [main] DEBUG c.svalero.rutea.service.RutaService - Buscando ruta por ID: 999
2026-02-10 11:53:20.354 [main] ERROR c.svalero.rutea.service.RutaService - Ruta no encontrada: ID 999
2026-02-10 11:53:20.357 [main] DEBUG c.svalero.rutea.service.RutaService - Buscando rutas con filtros: dificultad=fac, publica=true, titulo=parque
2026-02-10 11:53:20.359 [main] INFO  c.svalero.rutea.service.RutaService - Se encontraron 1 rutas
2026-02-10 11:53:20.362 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.svalero.rutea.controller.ResenaControllerTest]: ResenaControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-02-10 11:53:20.369 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.svalero.rutea.RuteaApplication for test class com.svalero.rutea.controller.ResenaControllerTest
2026-02-10 11:53:20.387 [main] INFO  c.s.r.c.ResenaControllerTest - Starting ResenaControllerTest using Java 23 with PID 27208 (started by borzg in C:\Proyects\rutea)
2026-02-10 11:53:20.387 [main] DEBUG c.s.r.c.ResenaControllerTest - Running with Spring Boot v3.3.3, Spring v6.1.12
2026-02-10 11:53:20.387 [main] INFO  c.s.r.c.ResenaControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-10 11:53:20.389 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@47a68e3f
2026-02-10 11:53:20.537 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 8 mappings in 'requestMappingHandlerMapping'
2026-02-10 11:53:20.560 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-10 11:53:20.565 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-10 11:53:20.566 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-10 11:53:20.575 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2026-02-10 11:53:20.575 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2026-02-10 11:53:20.577 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
2026-02-10 11:53:20.580 [main] INFO  c.s.r.c.ResenaControllerTest - Started ResenaControllerTest in 0.21 seconds (process running for 6.118)
2026-02-10 11:53:20.583 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#delete(long)
2026-02-10 11:53:20.584 [main] DEBUG c.s.r.controller.ResenaController - DELETE /resenas/1
2026-02-10 11:53:20.586 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:20.586 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2026-02-10 11:53:20.594 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#add(ResenaInDto)
2026-02-10 11:53:20.600 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ResenaInDto(comentario=Ok, editada=false, fechaPublicacion=null, likes=0, titulo=null, valoracion=4, (truncated)...]
2026-02-10 11:53:20.604 [main] DEBUG c.s.r.controller.ResenaController - POST /resenas - valoracion: 4
2026-02-10 11:53:20.604 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.ResenaController#handleException(UsuarioNotFoundException)
2026-02-10 11:53:20.604 [main] WARN  c.s.r.controller.ResenaController - Usuario no encontrado: null
2026-02-10 11:53:20.606 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:20.606 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El usuario no existe, errors={})]
2026-02-10 11:53:20.606 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.UsuarioNotFoundException]
2026-02-10 11:53:20.609 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#add(ResenaInDto)
2026-02-10 11:53:20.609 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ResenaInDto(comentario=, editada=false, fechaPublicacion=null, likes=-1, titulo=null, valoracion=6,  (truncated)...]
2026-02-10 11:53:20.611 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.ResenaController#handleException(MethodArgumentNotValidException)
2026-02-10 11:53:20.611 [main] WARN  c.s.r.controller.ResenaController - Error de validación en request
2026-02-10 11:53:20.612 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:20.612 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={puntoId=puntoId is mand (truncated)...]
2026-02-10 11:53:20.612 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.ResenaOutDto> com.svalero.rutea.controller.ResenaController.add(com.svalero.rutea.dto.ResenaInDto) throws com.svalero.rutea.exception.PuntoInteresNotFoundException,com.svalero.rutea.exception.UsuarioNotFoundException with 5 errors: [Field error in object 'resenaInDto' on field 'usuarioId': rejected value [null]; codes [NotNull.resenaInDto.usuarioId,NotNull.usuarioId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [resenaInDto.usuarioId,usuarioId]; arguments []; default message [usuarioId]]; default message [usuarioId is mandatory]] [Field error in object 'resenaInDto' on field 'comentario': rejected value []; codes [NotBlank.resenaInDto.comentario,NotBlank.comentario,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [resenaInDto.comentario,comentario]; arguments []; default message [comentario]]; default message [comentario is mandatory]] [Field error in object 'resenaInDto' on field 'puntoId': rejected value [null]; codes [NotNull.resenaInDto.puntoId,NotNull.puntoId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [resenaInDto.puntoId,puntoId]; arguments []; default message [puntoId]]; default message [puntoId is mandatory]] [Field error in object 'resenaInDto' on field 'likes': rejected value [-1]; codes [PositiveOrZero.resenaInDto.likes,PositiveOrZero.likes,PositiveOrZero.int,PositiveOrZero]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [resenaInDto.likes,likes]; arguments []; default message [likes]]; default message [likes must be >= 0]] [Field error in object 'resenaInDto' on field 'valoracion': rejected value [6]; codes [Max.resenaInDto.valoracion,Max.valoracion,Max.int,Max]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [resenaInDto.valoracion,valoracion]; arguments []; default message [valoracion],5]; default message [valoracion must be between 1 and 5]] ]
2026-02-10 11:53:20.617 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#modify(long, ResenaInDto)
2026-02-10 11:53:20.617 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ResenaInDto(comentario=, editada=false, fechaPublicacion=null, likes=-5, titulo=t, valoracion=0, pun (truncated)...]
2026-02-10 11:53:20.618 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.ResenaController#handleException(MethodArgumentNotValidException)
2026-02-10 11:53:20.618 [main] WARN  c.s.r.controller.ResenaController - Error de validación en request
2026-02-10 11:53:20.618 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:20.618 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={valoracion=valoracion m (truncated)...]
2026-02-10 11:53:20.618 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [1] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.ResenaOutDto> com.svalero.rutea.controller.ResenaController.modify(long,com.svalero.rutea.dto.ResenaInDto) throws com.svalero.rutea.exception.ResenaNotFoundException,com.svalero.rutea.exception.PuntoInteresNotFoundException,com.svalero.rutea.exception.UsuarioNotFoundException with 5 errors: [Field error in object 'resenaInDto' on field 'valoracion': rejected value [0]; codes [Min.resenaInDto.valoracion,Min.valoracion,Min.int,Min]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [resenaInDto.valoracion,valoracion]; arguments []; default message [valoracion],1]; default message [valoracion must be between 1 and 5]] [Field error in object 'resenaInDto' on field 'comentario': rejected value []; codes [NotBlank.resenaInDto.comentario,NotBlank.comentario,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [resenaInDto.comentario,comentario]; arguments []; default message [comentario]]; default message [comentario is mandatory]] [Field error in object 'resenaInDto' on field 'puntoId': rejected value [null]; codes [NotNull.resenaInDto.puntoId,NotNull.puntoId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [resenaInDto.puntoId,puntoId]; arguments []; default message [puntoId]]; default message [puntoId is mandatory]] [Field error in object 'resenaInDto' on field 'usuarioId': rejected value [null]; codes [NotNull.resenaInDto.usuarioId,NotNull.usuarioId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [resenaInDto.usuarioId,usuarioId]; arguments []; default message [usuarioId]]; default message [usuarioId is mandatory]] [Field error in object 'resenaInDto' on field 'likes': rejected value [-5]; codes [PositiveOrZero.resenaInDto.likes,PositiveOrZero.likes,PositiveOrZero.int,PositiveOrZero]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [resenaInDto.likes,likes]; arguments []; default message [likes]]; default message [likes must be >= 0]] ]
2026-02-10 11:53:20.623 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#add(ResenaInDto)
2026-02-10 11:53:20.623 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ResenaInDto(comentario=Muy buena, editada=false, fechaPublicacion=2026-02-10, likes=0, titulo=Título (truncated)...]
2026-02-10 11:53:20.623 [main] DEBUG c.s.r.controller.ResenaController - POST /resenas - valoracion: 5
2026-02-10 11:53:20.626 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:20.633 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ResenaOutDto(id=1, comentario=Muy buena, editada=false, fechaPublicacion=2026-02-10, likes=0, titulo (truncated)...]
2026-02-10 11:53:20.637 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#modify(long, ResenaInDto)
2026-02-10 11:53:20.637 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ResenaInDto(comentario=Editada, editada=true, fechaPublicacion=2026-02-10, likes=5, titulo=Nuevo, va (truncated)...]
2026-02-10 11:53:20.640 [main] DEBUG c.s.r.controller.ResenaController - PUT /resenas/1
2026-02-10 11:53:20.641 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:20.641 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ResenaOutDto(id=1, comentario=Editada, editada=true, fechaPublicacion=2026-02-10, likes=5, titulo=Nu (truncated)...]
2026-02-10 11:53:20.644 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#get(long)
2026-02-10 11:53:20.644 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.ResenaOutDto> com.svalero.rutea.controller.ResenaController.get(long) throws com.svalero.rutea.exception.ResenaNotFoundException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"
2026-02-10 11:53:20.645 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:53:20.645 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:20.645 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={id=Invalid value: abc})]
2026-02-10 11:53:20.645 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"]
2026-02-10 11:53:20.648 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#delete(long)
2026-02-10 11:53:20.650 [main] DEBUG c.s.r.controller.ResenaController - DELETE /resenas/99
2026-02-10 11:53:20.650 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.ResenaController#handleException(ResenaNotFoundException)
2026-02-10 11:53:20.650 [main] WARN  c.s.r.controller.ResenaController - Reseña no encontrada: null
2026-02-10 11:53:20.652 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:20.652 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=La reseña no existe, errors={})]
2026-02-10 11:53:20.653 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.ResenaNotFoundException]
2026-02-10 11:53:20.656 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#delete(long)
2026-02-10 11:53:20.658 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.svalero.rutea.controller.ResenaController.delete(long) throws com.svalero.rutea.exception.ResenaNotFoundException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"
2026-02-10 11:53:20.658 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:53:20.658 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:20.658 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={id=Invalid value: abc})]
2026-02-10 11:53:20.658 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"]
2026-02-10 11:53:20.662 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#modify(long, ResenaInDto)
2026-02-10 11:53:20.663 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ResenaInDto(comentario=X, editada=false, fechaPublicacion=null, likes=0, titulo=null, valoracion=4,  (truncated)...]
2026-02-10 11:53:20.663 [main] DEBUG c.s.r.controller.ResenaController - PUT /resenas/1
2026-02-10 11:53:20.665 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.ResenaController#handleException(UsuarioNotFoundException)
2026-02-10 11:53:20.665 [main] WARN  c.s.r.controller.ResenaController - Usuario no encontrado: null
2026-02-10 11:53:20.665 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:20.666 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El usuario no existe, errors={})]
2026-02-10 11:53:20.666 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.UsuarioNotFoundException]
2026-02-10 11:53:20.669 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#add(ResenaInDto)
2026-02-10 11:53:20.671 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ResenaInDto(comentario=Ok, editada=false, fechaPublicacion=null, likes=0, titulo=null, valoracion=4, (truncated)...]
2026-02-10 11:53:20.671 [main] DEBUG c.s.r.controller.ResenaController - POST /resenas - valoracion: 4
2026-02-10 11:53:20.673 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.ResenaController#handleException(PuntoInteresNotFoundException)
2026-02-10 11:53:20.673 [main] WARN  c.s.r.controller.ResenaController - Punto de interés no encontrado: null
2026-02-10 11:53:20.673 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:20.673 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El punto de interés no existe, errors={})]
2026-02-10 11:53:20.673 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.PuntoInteresNotFoundException]
2026-02-10 11:53:20.676 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#modify(long, ResenaInDto)
2026-02-10 11:53:20.676 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ResenaInDto(comentario=X, editada=false, fechaPublicacion=null, likes=0, titulo=null, valoracion=4,  (truncated)...]
2026-02-10 11:53:20.677 [main] DEBUG c.s.r.controller.ResenaController - PUT /resenas/99
2026-02-10 11:53:20.677 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.ResenaController#handleException(ResenaNotFoundException)
2026-02-10 11:53:20.677 [main] WARN  c.s.r.controller.ResenaController - Reseña no encontrada: null
2026-02-10 11:53:20.679 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:20.679 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=La reseña no existe, errors={})]
2026-02-10 11:53:20.679 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.ResenaNotFoundException]
2026-02-10 11:53:20.683 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#get(long)
2026-02-10 11:53:20.684 [main] DEBUG c.s.r.controller.ResenaController - GET /resenas/99
2026-02-10 11:53:20.684 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.ResenaController#handleException(ResenaNotFoundException)
2026-02-10 11:53:20.684 [main] WARN  c.s.r.controller.ResenaController - Reseña no encontrada: null
2026-02-10 11:53:20.684 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:20.684 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=La reseña no existe, errors={})]
2026-02-10 11:53:20.684 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.ResenaNotFoundException]
2026-02-10 11:53:20.687 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#get(long)
2026-02-10 11:53:20.687 [main] DEBUG c.s.r.controller.ResenaController - GET /resenas/1
2026-02-10 11:53:20.688 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:20.688 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ResenaOutDto(id=1, comentario=Comentario, editada=false, fechaPublicacion=2026-02-10, likes=0, titul (truncated)...]
2026-02-10 11:53:20.692 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#getAll(Boolean, Integer, Integer)
2026-02-10 11:53:20.692 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [1] in public org.springframework.http.ResponseEntity<java.util.List<com.svalero.rutea.dto.ResenaOutDto>> com.svalero.rutea.controller.ResenaController.getAll(java.lang.Boolean,java.lang.Integer,java.lang.Integer): Failed to convert value of type 'java.lang.String' to required type 'java.lang.Integer'; For input string: "abc"
2026-02-10 11:53:20.692 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:53:20.692 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:20.692 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={likes=Invalid value: ab (truncated)...]
2026-02-10 11:53:20.692 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Integer'; For input string: "abc"]
2026-02-10 11:53:20.696 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#modify(long, ResenaInDto)
2026-02-10 11:53:20.696 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ResenaInDto(comentario=X, editada=false, fechaPublicacion=null, likes=0, titulo=null, valoracion=4,  (truncated)...]
2026-02-10 11:53:20.696 [main] DEBUG c.s.r.controller.ResenaController - PUT /resenas/1
2026-02-10 11:53:20.698 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.ResenaController#handleException(PuntoInteresNotFoundException)
2026-02-10 11:53:20.698 [main] WARN  c.s.r.controller.ResenaController - Punto de interés no encontrado: null
2026-02-10 11:53:20.698 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:20.698 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El punto de interés no existe, errors={})]
2026-02-10 11:53:20.698 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.PuntoInteresNotFoundException]
2026-02-10 11:53:20.703 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#getAll(Boolean, Integer, Integer)
2026-02-10 11:53:20.703 [main] DEBUG c.s.r.controller.ResenaController - GET /resenas - Filtros: editada=true, likes=10, valoracion=5
2026-02-10 11:53:20.704 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:20.704 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ResenaOutDto(id=1, comentario=Muy bien, editada=true, fechaPublicacion=2026-02-10, likes=10, titulo (truncated)...]
2026-02-10 11:53:20.709 [main] DEBUG c.s.rutea.service.UsuarioService - Buscando usuario por ID: 1
2026-02-10 11:53:20.712 [main] DEBUG c.s.rutea.service.UsuarioService - Buscando usuarios con filtros: premium=true, nivelExperiencia=null, username=
2026-02-10 11:53:20.712 [main] INFO  c.s.rutea.service.UsuarioService - Se encontraron 1 usuarios
2026-02-10 11:53:20.717 [main] INFO  c.s.rutea.service.UsuarioService - Modificando usuario ID: 1
2026-02-10 11:53:20.717 [main] INFO  c.s.rutea.service.UsuarioService - Usuario modificado exitosamente: ID 1
2026-02-10 11:53:20.720 [main] DEBUG c.s.rutea.service.UsuarioService - Buscando usuarios con filtros: premium=true, nivelExperiencia=3, username=bor
2026-02-10 11:53:20.720 [main] INFO  c.s.rutea.service.UsuarioService - Se encontraron 1 usuarios
2026-02-10 11:53:20.723 [main] DEBUG c.s.rutea.service.UsuarioService - Buscando usuarios con filtros: premium=true, nivelExperiencia=null, username=bor
2026-02-10 11:53:20.723 [main] INFO  c.s.rutea.service.UsuarioService - Se encontraron 1 usuarios
2026-02-10 11:53:20.726 [main] INFO  c.s.rutea.service.UsuarioService - Eliminando usuario ID: 99
2026-02-10 11:53:20.728 [main] ERROR c.s.rutea.service.UsuarioService - Usuario no encontrado para eliminación: ID 99
2026-02-10 11:53:20.731 [main] INFO  c.s.rutea.service.UsuarioService - Eliminando usuario ID: 1
2026-02-10 11:53:20.731 [main] INFO  c.s.rutea.service.UsuarioService - Usuario eliminado exitosamente: ID 1
2026-02-10 11:53:20.736 [main] DEBUG c.s.rutea.service.UsuarioService - Buscando usuario por ID: 99
2026-02-10 11:53:20.736 [main] ERROR c.s.rutea.service.UsuarioService - Usuario no encontrado: ID 99
2026-02-10 11:53:20.739 [main] INFO  c.s.rutea.service.UsuarioService - Modificando usuario ID: 99
2026-02-10 11:53:20.739 [main] ERROR c.s.rutea.service.UsuarioService - Usuario no encontrado para modificación: ID 99
2026-02-10 11:53:20.743 [main] DEBUG c.s.rutea.service.UsuarioService - Buscando usuarios con filtros: premium=true, nivelExperiencia=3, username=
2026-02-10 11:53:20.743 [main] INFO  c.s.rutea.service.UsuarioService - Se encontraron 1 usuarios
2026-02-10 11:53:20.747 [main] DEBUG c.s.rutea.service.UsuarioService - Buscando usuarios con filtros: premium=null, nivelExperiencia=null, username=
2026-02-10 11:53:20.747 [main] INFO  c.s.rutea.service.UsuarioService - Se encontraron 2 usuarios
2026-02-10 11:53:20.750 [main] INFO  c.s.rutea.service.UsuarioService - Creando nuevo usuario: borja
2026-02-10 11:53:20.750 [main] INFO  c.s.rutea.service.UsuarioService - Usuario creado exitosamente con ID: 1
2026-02-10 11:53:20.753 [main] DEBUG c.s.rutea.service.UsuarioService - Buscando usuarios con filtros: premium=null, nivelExperiencia=3, username=bor
2026-02-10 11:53:20.753 [main] INFO  c.s.rutea.service.UsuarioService - Se encontraron 1 usuarios
2026-02-10 11:53:20.757 [main] DEBUG c.s.rutea.service.UsuarioService - Buscando usuarios con filtros: premium=null, nivelExperiencia=null, username=an
2026-02-10 11:53:20.757 [main] INFO  c.s.rutea.service.UsuarioService - Se encontraron 1 usuarios
2026-02-10 11:53:20.759 [main] DEBUG c.s.rutea.service.UsuarioService - Buscando usuarios con filtros: premium=null, nivelExperiencia=0, username=
2026-02-10 11:53:20.760 [main] INFO  c.s.rutea.service.UsuarioService - Se encontraron 1 usuarios
2026-02-10 11:53:20.768 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@41f35f7c, started on Tue Feb 10 11:53:16 CET 2026
2026-02-10 11:53:20.773 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@68f69ca3, started on Tue Feb 10 11:53:18 CET 2026
2026-02-10 11:53:20.775 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@14eb96e9, started on Tue Feb 10 11:53:18 CET 2026
2026-02-10 11:53:20.775 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@426bf2f2, started on Tue Feb 10 11:53:19 CET 2026
2026-02-10 11:53:20.775 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@47a68e3f, started on Tue Feb 10 11:53:20 CET 2026
2026-02-10 11:53:54.183 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2026-02-10 11:53:54.213 [main] INFO  c.s.r.c.PuntoInteresControllerTest - Starting PuntoInteresControllerTest using Java 23 with PID 31376 (started by borzg in C:\Proyects\rutea)
2026-02-10 11:53:54.213 [main] DEBUG c.s.r.c.PuntoInteresControllerTest - Running with Spring Boot v3.3.3, Spring v6.1.12
2026-02-10 11:53:54.213 [main] INFO  c.s.r.c.PuntoInteresControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-10 11:53:54.227 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@6d4a65c6
2026-02-10 11:53:55.818 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 8 mappings in 'requestMappingHandlerMapping'
2026-02-10 11:53:55.965 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-10 11:53:56.005 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-10 11:53:56.051 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-10 11:53:56.118 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2026-02-10 11:53:56.118 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2026-02-10 11:53:56.121 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 3 ms
2026-02-10 11:53:56.157 [main] INFO  c.s.r.c.PuntoInteresControllerTest - Started PuntoInteresControllerTest in 2.345 seconds (process running for 3.577)
2026-02-10 11:53:56.309 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#getAll(Long, Boolean, Boolean, String, Float)
2026-02-10 11:53:56.358 [main] DEBUG c.s.r.c.PuntoInteresController - GET: /puntos - Filtros aplicados
2026-02-10 11:53:56.377 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:56.394 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[PuntoInteresOutDto(id=1, abiertoActualmente=false, fechaCreacion=null, latitud=0.0, longitud=0.0, n (truncated)...]
2026-02-10 11:53:56.488 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#delete(long)
2026-02-10 11:53:56.489 [main] DEBUG c.s.r.c.PuntoInteresController - DELETE: /puntos/1
2026-02-10 11:53:56.491 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:56.491 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2026-02-10 11:53:56.517 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#add(PuntoInteresInDto)
2026-02-10 11:53:56.545 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [PuntoInteresInDto(abiertoActualmente=true, fechaCreacion=null, latitud=200.0, longitud=-999.0, nombr (truncated)...]
2026-02-10 11:53:56.615 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.PuntoInteresController#handleException(MethodArgumentNotValidException)
2026-02-10 11:53:56.615 [main] WARN  c.s.r.c.PuntoInteresController - Error de validación en request
2026-02-10 11:53:56.618 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:56.620 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={puntuacionMedia=puntuac (truncated)...]
2026-02-10 11:53:56.623 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.PuntoInteresOutDto> com.svalero.rutea.controller.PuntoInteresController.add(com.svalero.rutea.dto.PuntoInteresInDto) throws com.svalero.rutea.exception.CategoriaNotFoundException with 5 errors: [Field error in object 'puntoInteresInDto' on field 'latitud': rejected value [200.0]; codes [DecimalMax.puntoInteresInDto.latitud,DecimalMax.latitud,DecimalMax.double,DecimalMax]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [puntoInteresInDto.latitud,latitud]; arguments []; default message [latitud],true,90.0]; default message [latitud must be between -90 and 90]] [Field error in object 'puntoInteresInDto' on field 'puntuacionMedia': rejected value [6.0]; codes [DecimalMax.puntoInteresInDto.puntuacionMedia,DecimalMax.puntuacionMedia,DecimalMax.float,DecimalMax]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [puntoInteresInDto.puntuacionMedia,puntuacionMedia]; arguments []; default message [puntuacionMedia],true,5.0]; default message [puntuacionMedia must be between 0 and 5]] [Field error in object 'puntoInteresInDto' on field 'longitud': rejected value [-999.0]; codes [DecimalMin.puntoInteresInDto.longitud,DecimalMin.longitud,DecimalMin.double,DecimalMin]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [puntoInteresInDto.longitud,longitud]; arguments []; default message [longitud],true,-180.0]; default message [longitud must be between -180 and 180]] [Field error in object 'puntoInteresInDto' on field 'categoriaId': rejected value [null]; codes [NotNull.puntoInteresInDto.categoriaId,NotNull.categoriaId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [puntoInteresInDto.categoriaId,categoriaId]; arguments []; default message [categoriaId]]; default message [categoriaId is mandatory]] [Field error in object 'puntoInteresInDto' on field 'nombre': rejected value []; codes [NotBlank.puntoInteresInDto.nombre,NotBlank.nombre,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [puntoInteresInDto.nombre,nombre]; arguments []; default message [nombre]]; default message [nombre is mandatory]] ]
2026-02-10 11:53:56.629 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#modify(long, PuntoInteresInDto)
2026-02-10 11:53:56.629 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [PuntoInteresInDto(abiertoActualmente=true, fechaCreacion=null, latitud=1000.0, longitud=0.0, nombre= (truncated)...]
2026-02-10 11:53:56.631 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.PuntoInteresController#handleException(MethodArgumentNotValidException)
2026-02-10 11:53:56.631 [main] WARN  c.s.r.c.PuntoInteresController - Error de validación en request
2026-02-10 11:53:56.631 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:56.632 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={puntuacionMedia=puntuac (truncated)...]
2026-02-10 11:53:56.632 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [1] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.PuntoInteresOutDto> com.svalero.rutea.controller.PuntoInteresController.modify(long,com.svalero.rutea.dto.PuntoInteresInDto) throws com.svalero.rutea.exception.PuntoInteresNotFoundException,com.svalero.rutea.exception.CategoriaNotFoundException with 4 errors: [Field error in object 'puntoInteresInDto' on field 'puntuacionMedia': rejected value [-1.0]; codes [DecimalMin.puntoInteresInDto.puntuacionMedia,DecimalMin.puntuacionMedia,DecimalMin.float,DecimalMin]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [puntoInteresInDto.puntuacionMedia,puntuacionMedia]; arguments []; default message [puntuacionMedia],true,0.0]; default message [puntuacionMedia must be between 0 and 5]] [Field error in object 'puntoInteresInDto' on field 'nombre': rejected value []; codes [NotBlank.puntoInteresInDto.nombre,NotBlank.nombre,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [puntoInteresInDto.nombre,nombre]; arguments []; default message [nombre]]; default message [nombre is mandatory]] [Field error in object 'puntoInteresInDto' on field 'categoriaId': rejected value [null]; codes [NotNull.puntoInteresInDto.categoriaId,NotNull.categoriaId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [puntoInteresInDto.categoriaId,categoriaId]; arguments []; default message [categoriaId]]; default message [categoriaId is mandatory]] [Field error in object 'puntoInteresInDto' on field 'latitud': rejected value [1000.0]; codes [DecimalMax.puntoInteresInDto.latitud,DecimalMax.latitud,DecimalMax.double,DecimalMax]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [puntoInteresInDto.latitud,latitud]; arguments []; default message [latitud],true,90.0]; default message [latitud must be between -90 and 90]] ]
2026-02-10 11:53:56.640 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#add(PuntoInteresInDto)
2026-02-10 11:53:56.641 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [PuntoInteresInDto(abiertoActualmente=true, fechaCreacion=2026-02-10T11:53:56.638491, latitud=41.0, l (truncated)...]
2026-02-10 11:53:56.641 [main] DEBUG c.s.r.c.PuntoInteresController - POST: /puntos/ - Parque
2026-02-10 11:53:56.644 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:56.644 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [PuntoInteresOutDto(id=10, abiertoActualmente=true, fechaCreacion=2026-02-10T11:53:56.638491, latitud (truncated)...]
2026-02-10 11:53:56.650 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#modify(long, PuntoInteresInDto)
2026-02-10 11:53:56.652 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [PuntoInteresInDto(abiertoActualmente=false, fechaCreacion=null, latitud=40.0, longitud=-0.7, nombre= (truncated)...]
2026-02-10 11:53:56.654 [main] DEBUG c.s.r.c.PuntoInteresController - PUT: /puntos/1
2026-02-10 11:53:56.654 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:56.654 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [PuntoInteresOutDto(id=1, abiertoActualmente=false, fechaCreacion=null, latitud=40.0, longitud=-0.7,  (truncated)...]
2026-02-10 11:53:56.658 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#get(long)
2026-02-10 11:53:56.662 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.PuntoInteresOutDto> com.svalero.rutea.controller.PuntoInteresController.get(long) throws com.svalero.rutea.exception.PuntoInteresNotFoundException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"
2026-02-10 11:53:56.663 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:53:56.665 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:56.665 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={id=Invalid value: abc})]
2026-02-10 11:53:56.665 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"]
2026-02-10 11:53:56.673 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#modify(long, PuntoInteresInDto)
2026-02-10 11:53:56.673 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [PuntoInteresInDto(abiertoActualmente=true, fechaCreacion=null, latitud=41.0, longitud=-0.8, nombre=P (truncated)...]
2026-02-10 11:53:56.673 [main] DEBUG c.s.r.c.PuntoInteresController - PUT: /puntos/1
2026-02-10 11:53:56.674 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.PuntoInteresController#handleException(CategoriaNotFoundException)
2026-02-10 11:53:56.674 [main] WARN  c.s.r.c.PuntoInteresController - Categoría no encontrada: null
2026-02-10 11:53:56.674 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:56.674 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=La categoría no existe, errors={})]
2026-02-10 11:53:56.674 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.CategoriaNotFoundException]
2026-02-10 11:53:56.679 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#add(PuntoInteresInDto)
2026-02-10 11:53:56.679 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [PuntoInteresInDto(abiertoActualmente=true, fechaCreacion=null, latitud=41.0, longitud=-0.8, nombre=P (truncated)...]
2026-02-10 11:53:56.680 [main] DEBUG c.s.r.c.PuntoInteresController - POST: /puntos/ - Parque
2026-02-10 11:53:56.680 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.PuntoInteresController#handleException(CategoriaNotFoundException)
2026-02-10 11:53:56.680 [main] WARN  c.s.r.c.PuntoInteresController - Categoría no encontrada: null
2026-02-10 11:53:56.682 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:56.682 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=La categoría no existe, errors={})]
2026-02-10 11:53:56.682 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.CategoriaNotFoundException]
2026-02-10 11:53:56.687 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#delete(long)
2026-02-10 11:53:56.687 [main] DEBUG c.s.r.c.PuntoInteresController - DELETE: /puntos/99
2026-02-10 11:53:56.688 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.PuntoInteresController#handleException(PuntoInteresNotFoundException)
2026-02-10 11:53:56.688 [main] WARN  c.s.r.c.PuntoInteresController - Punto de interés no encontrado: null
2026-02-10 11:53:56.688 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:56.688 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El punto de interés no existe, errors={})]
2026-02-10 11:53:56.688 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.PuntoInteresNotFoundException]
2026-02-10 11:53:56.691 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#delete(long)
2026-02-10 11:53:56.693 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.svalero.rutea.controller.PuntoInteresController.delete(long) throws com.svalero.rutea.exception.PuntoInteresNotFoundException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"
2026-02-10 11:53:56.693 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:53:56.693 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:56.693 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={id=Invalid value: abc})]
2026-02-10 11:53:56.694 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"]
2026-02-10 11:53:56.698 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#get(long)
2026-02-10 11:53:56.698 [main] DEBUG c.s.r.c.PuntoInteresController - GET: /puntos/99
2026-02-10 11:53:56.699 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.PuntoInteresController#handleException(PuntoInteresNotFoundException)
2026-02-10 11:53:56.699 [main] WARN  c.s.r.c.PuntoInteresController - Punto de interés no encontrado: null
2026-02-10 11:53:56.699 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:56.699 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El punto de interés no existe, errors={})]
2026-02-10 11:53:56.699 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.PuntoInteresNotFoundException]
2026-02-10 11:53:56.705 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#getAll(Long, Boolean, Boolean, String, Float)
2026-02-10 11:53:56.706 [main] DEBUG c.s.r.c.PuntoInteresController - GET: /puntos - Filtros aplicados
2026-02-10 11:53:56.706 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:56.706 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[PuntoInteresOutDto(id=10, abiertoActualmente=true, fechaCreacion=2026-02-10T11:53:56.704499500, lat (truncated)...]
2026-02-10 11:53:56.710 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#get(long)
2026-02-10 11:53:56.710 [main] DEBUG c.s.r.c.PuntoInteresController - GET: /puntos/1
2026-02-10 11:53:56.710 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:56.712 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [PuntoInteresOutDto(id=1, abiertoActualmente=true, fechaCreacion=null, latitud=41.0, longitud=-0.8, n (truncated)...]
2026-02-10 11:53:56.716 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#getAll(Long, Boolean, Boolean, String, Float)
2026-02-10 11:53:56.716 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [4] in public org.springframework.http.ResponseEntity<java.util.List<com.svalero.rutea.dto.PuntoInteresOutDto>> com.svalero.rutea.controller.PuntoInteresController.getAll(java.lang.Long,java.lang.Boolean,java.lang.Boolean,java.lang.String,java.lang.Float): Failed to convert value of type 'java.lang.String' to required type 'java.lang.Float'; For input string: "abc"
2026-02-10 11:53:56.717 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:53:56.717 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:56.717 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={puntuacionMedia=Invalid (truncated)...]
2026-02-10 11:53:56.717 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Float'; For input string: "abc"]
2026-02-10 11:53:56.721 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#modify(long, PuntoInteresInDto)
2026-02-10 11:53:56.723 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [PuntoInteresInDto(abiertoActualmente=true, fechaCreacion=null, latitud=41.0, longitud=-0.8, nombre=P (truncated)...]
2026-02-10 11:53:56.723 [main] DEBUG c.s.r.c.PuntoInteresController - PUT: /puntos/99
2026-02-10 11:53:56.723 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.PuntoInteresController#handleException(PuntoInteresNotFoundException)
2026-02-10 11:53:56.723 [main] WARN  c.s.r.c.PuntoInteresController - Punto de interés no encontrado: null
2026-02-10 11:53:56.724 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:56.724 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El punto de interés no existe, errors={})]
2026-02-10 11:53:56.724 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.PuntoInteresNotFoundException]
2026-02-10 11:53:56.729 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.svalero.rutea.controller.UsuarioControllerTest]: UsuarioControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-02-10 11:53:56.740 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.svalero.rutea.RuteaApplication for test class com.svalero.rutea.controller.UsuarioControllerTest
2026-02-10 11:53:56.765 [main] INFO  c.s.r.c.UsuarioControllerTest - Starting UsuarioControllerTest using Java 23 with PID 31376 (started by borzg in C:\Proyects\rutea)
2026-02-10 11:53:56.767 [main] DEBUG c.s.r.c.UsuarioControllerTest - Running with Spring Boot v3.3.3, Spring v6.1.12
2026-02-10 11:53:56.767 [main] INFO  c.s.r.c.UsuarioControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-10 11:53:56.768 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@1868ed54
2026-02-10 11:53:56.970 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 8 mappings in 'requestMappingHandlerMapping'
2026-02-10 11:53:56.993 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-10 11:53:56.997 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-10 11:53:56.999 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-10 11:53:57.004 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2026-02-10 11:53:57.004 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2026-02-10 11:53:57.004 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2026-02-10 11:53:57.007 [main] INFO  c.s.r.c.UsuarioControllerTest - Started UsuarioControllerTest in 0.266 seconds (process running for 4.426)
2026-02-10 11:53:57.010 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#delete(long)
2026-02-10 11:53:57.010 [main] DEBUG c.s.r.controller.UsuarioController - DELETE /usuarios/1
2026-02-10 11:53:57.011 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:57.011 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2026-02-10 11:53:57.022 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#modify(long, UsuarioInDto)
2026-02-10 11:53:57.030 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UsuarioInDto(email=b@b.com, esPremium=false, fechaRegistro=2026-02-10, nivelExperiencia=5, password= (truncated)...]
2026-02-10 11:53:57.055 [main] DEBUG c.s.r.controller.UsuarioController - PUT /usuarios/99
2026-02-10 11:53:57.057 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.UsuarioController#handleException(UsuarioNotFoundException)
2026-02-10 11:53:57.057 [main] WARN  c.s.r.controller.UsuarioController - Usuario no encontrado: null
2026-02-10 11:53:57.060 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:57.060 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El usuario no existe, errors={})]
2026-02-10 11:53:57.060 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.UsuarioNotFoundException]
2026-02-10 11:53:57.063 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#add(UsuarioInDto)
2026-02-10 11:53:57.063 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UsuarioInDto(email=no-es-email, esPremium=false, fechaRegistro=null, nivelExperiencia=-1, password=1 (truncated)...]
2026-02-10 11:53:57.064 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.UsuarioController#handleException(MethodArgumentNotValidException)
2026-02-10 11:53:57.064 [main] WARN  c.s.r.controller.UsuarioController - Error de validación en request
2026-02-10 11:53:57.064 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:57.066 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={password=password lengt (truncated)...]
2026-02-10 11:53:57.066 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.UsuarioOutDto> com.svalero.rutea.controller.UsuarioController.add(com.svalero.rutea.dto.UsuarioInDto) with 5 errors: [Field error in object 'usuarioInDto' on field 'nivelExperiencia': rejected value [-1]; codes [Min.usuarioInDto.nivelExperiencia,Min.nivelExperiencia,Min.int,Min]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.nivelExperiencia,nivelExperiencia]; arguments []; default message [nivelExperiencia],0]; default message [nivelExperiencia must be >= 0]] [Field error in object 'usuarioInDto' on field 'email': rejected value [no-es-email]; codes [Email.usuarioInDto.email,Email.email,Email.java.lang.String,Email]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.email,email]; arguments []; default message [email],[Ljakarta.validation.constraints.Pattern$Flag;@59a3eaf7,.*]; default message [email must be valid]] [Field error in object 'usuarioInDto' on field 'fechaRegistro': rejected value [null]; codes [NotNull.usuarioInDto.fechaRegistro,NotNull.fechaRegistro,NotNull.java.time.LocalDate,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.fechaRegistro,fechaRegistro]; arguments []; default message [fechaRegistro]]; default message [fechaRegistro is mandatory]] [Field error in object 'usuarioInDto' on field 'password': rejected value [123]; codes [Size.usuarioInDto.password,Size.password,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.password,password]; arguments []; default message [password],255,6]; default message [password length must be between 6 and 255]] [Field error in object 'usuarioInDto' on field 'username': rejected value []; codes [NotBlank.usuarioInDto.username,NotBlank.username,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.username,username]; arguments []; default message [username]]; default message [username is mandatory]] ]
2026-02-10 11:53:57.069 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#modify(long, UsuarioInDto)
2026-02-10 11:53:57.069 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UsuarioInDto(email=, esPremium=false, fechaRegistro=null, nivelExperiencia=-2, password=1, username= (truncated)...]
2026-02-10 11:53:57.070 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.UsuarioController#handleException(MethodArgumentNotValidException)
2026-02-10 11:53:57.070 [main] WARN  c.s.r.controller.UsuarioController - Error de validación en request
2026-02-10 11:53:57.070 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:57.070 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={password=password lengt (truncated)...]
2026-02-10 11:53:57.070 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [1] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.UsuarioOutDto> com.svalero.rutea.controller.UsuarioController.modify(long,com.svalero.rutea.dto.UsuarioInDto) throws com.svalero.rutea.exception.UsuarioNotFoundException with 5 errors: [Field error in object 'usuarioInDto' on field 'password': rejected value [1]; codes [Size.usuarioInDto.password,Size.password,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.password,password]; arguments []; default message [password],255,6]; default message [password length must be between 6 and 255]] [Field error in object 'usuarioInDto' on field 'nivelExperiencia': rejected value [-2]; codes [Min.usuarioInDto.nivelExperiencia,Min.nivelExperiencia,Min.int,Min]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.nivelExperiencia,nivelExperiencia]; arguments []; default message [nivelExperiencia],0]; default message [nivelExperiencia must be >= 0]] [Field error in object 'usuarioInDto' on field 'username': rejected value []; codes [NotBlank.usuarioInDto.username,NotBlank.username,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.username,username]; arguments []; default message [username]]; default message [username is mandatory]] [Field error in object 'usuarioInDto' on field 'email': rejected value []; codes [NotBlank.usuarioInDto.email,NotBlank.email,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.email,email]; arguments []; default message [email]]; default message [email is mandatory]] [Field error in object 'usuarioInDto' on field 'fechaRegistro': rejected value [null]; codes [NotNull.usuarioInDto.fechaRegistro,NotNull.fechaRegistro,NotNull.java.time.LocalDate,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [usuarioInDto.fechaRegistro,fechaRegistro]; arguments []; default message [fechaRegistro]]; default message [fechaRegistro is mandatory]] ]
2026-02-10 11:53:57.075 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#add(UsuarioInDto)
2026-02-10 11:53:57.075 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UsuarioInDto(email=a@a.com, esPremium=true, fechaRegistro=2026-02-10, nivelExperiencia=2, password=1 (truncated)...]
2026-02-10 11:53:57.077 [main] DEBUG c.s.r.controller.UsuarioController - POST /usuarios - borja
2026-02-10 11:53:57.079 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:57.085 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UsuarioOutDto(id=1, email=a@a.com, esPremium=true, fechaRegistro=2026-02-10, nivelExperiencia=2, use (truncated)...]
2026-02-10 11:53:57.089 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#modify(long, UsuarioInDto)
2026-02-10 11:53:57.089 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [UsuarioInDto(email=b@b.com, esPremium=false, fechaRegistro=2026-02-10, nivelExperiencia=5, password= (truncated)...]
2026-02-10 11:53:57.091 [main] DEBUG c.s.r.controller.UsuarioController - PUT /usuarios/1
2026-02-10 11:53:57.092 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:57.092 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UsuarioOutDto(id=1, email=b@b.com, esPremium=false, fechaRegistro=2026-02-10, nivelExperiencia=5, us (truncated)...]
2026-02-10 11:53:57.095 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#get(long)
2026-02-10 11:53:57.098 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.UsuarioOutDto> com.svalero.rutea.controller.UsuarioController.get(long) throws com.svalero.rutea.exception.UsuarioNotFoundException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"
2026-02-10 11:53:57.098 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:53:57.098 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:57.098 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={id=Invalid value: abc})]
2026-02-10 11:53:57.099 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"]
2026-02-10 11:53:57.102 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#delete(long)
2026-02-10 11:53:57.102 [main] DEBUG c.s.r.controller.UsuarioController - DELETE /usuarios/99
2026-02-10 11:53:57.103 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.UsuarioController#handleException(UsuarioNotFoundException)
2026-02-10 11:53:57.103 [main] WARN  c.s.r.controller.UsuarioController - Usuario no encontrado: null
2026-02-10 11:53:57.103 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:57.103 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El usuario no existe, errors={})]
2026-02-10 11:53:57.103 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.UsuarioNotFoundException]
2026-02-10 11:53:57.105 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#delete(long)
2026-02-10 11:53:57.107 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.svalero.rutea.controller.UsuarioController.delete(long) throws com.svalero.rutea.exception.UsuarioNotFoundException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"
2026-02-10 11:53:57.107 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:53:57.107 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:57.107 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={id=Invalid value: abc})]
2026-02-10 11:53:57.108 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"]
2026-02-10 11:53:57.111 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#get(long)
2026-02-10 11:53:57.111 [main] DEBUG c.s.r.controller.UsuarioController - GET /usuarios/99
2026-02-10 11:53:57.111 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.UsuarioController#handleException(UsuarioNotFoundException)
2026-02-10 11:53:57.111 [main] WARN  c.s.r.controller.UsuarioController - Usuario no encontrado: null
2026-02-10 11:53:57.112 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:57.112 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El usuario no existe, errors={})]
2026-02-10 11:53:57.112 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.UsuarioNotFoundException]
2026-02-10 11:53:57.116 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#get(long)
2026-02-10 11:53:57.116 [main] DEBUG c.s.r.controller.UsuarioController - GET /usuarios/1
2026-02-10 11:53:57.116 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:57.116 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UsuarioOutDto(id=1, email=a@a.com, esPremium=false, fechaRegistro=2026-02-10, nivelExperiencia=0, us (truncated)...]
2026-02-10 11:53:57.119 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#getAll(Boolean, Integer, String)
2026-02-10 11:53:57.119 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [1] in public org.springframework.http.ResponseEntity<java.util.List<com.svalero.rutea.dto.UsuarioOutDto>> com.svalero.rutea.controller.UsuarioController.getAll(java.lang.Boolean,java.lang.Integer,java.lang.String): Failed to convert value of type 'java.lang.String' to required type 'java.lang.Integer'; For input string: "abc"
2026-02-10 11:53:57.119 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:53:57.120 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:57.120 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={nivelExperiencia=Invali (truncated)...]
2026-02-10 11:53:57.120 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Integer'; For input string: "abc"]
2026-02-10 11:53:57.123 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#getAll(Boolean, Integer, String)
2026-02-10 11:53:57.125 [main] DEBUG c.s.r.controller.UsuarioController - GET /usuarios - Filtros: premium=true, nivelExperiencia=3, username=bor
2026-02-10 11:53:57.125 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:57.125 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UsuarioOutDto(id=1, email=a@a.com, esPremium=true, fechaRegistro=2026-02-10, nivelExperiencia=3, us (truncated)...]
2026-02-10 11:53:57.129 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.svalero.rutea.controller.CategoriaControllerTest]: CategoriaControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-02-10 11:53:57.136 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.svalero.rutea.RuteaApplication for test class com.svalero.rutea.controller.CategoriaControllerTest
2026-02-10 11:53:57.151 [main] INFO  c.s.r.c.CategoriaControllerTest - Starting CategoriaControllerTest using Java 23 with PID 31376 (started by borzg in C:\Proyects\rutea)
2026-02-10 11:53:57.153 [main] DEBUG c.s.r.c.CategoriaControllerTest - Running with Spring Boot v3.3.3, Spring v6.1.12
2026-02-10 11:53:57.153 [main] INFO  c.s.r.c.CategoriaControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-10 11:53:57.154 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@37f71e8
2026-02-10 11:53:57.318 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 8 mappings in 'requestMappingHandlerMapping'
2026-02-10 11:53:57.335 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-10 11:53:57.341 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-10 11:53:57.343 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-10 11:53:57.346 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2026-02-10 11:53:57.347 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2026-02-10 11:53:57.347 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
2026-02-10 11:53:57.352 [main] INFO  c.s.r.c.CategoriaControllerTest - Started CategoriaControllerTest in 0.214 seconds (process running for 4.771)
2026-02-10 11:53:57.355 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#delete(long)
2026-02-10 11:53:57.358 [main] DEBUG c.s.r.controller.CategoriaController - DELETE /categorias/1
2026-02-10 11:53:57.360 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:57.361 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2026-02-10 11:53:57.365 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#delete(long)
2026-02-10 11:53:57.366 [main] DEBUG c.s.r.controller.CategoriaController - DELETE /categorias/99
2026-02-10 11:53:57.366 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.CategoriaController#handleException(CategoriaNotFoundException)
2026-02-10 11:53:57.366 [main] WARN  c.s.r.controller.CategoriaController - Categoría no encontrada: null
2026-02-10 11:53:57.368 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:57.369 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=La categoria no existe, errors={})]
2026-02-10 11:53:57.369 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.CategoriaNotFoundException]
2026-02-10 11:53:57.377 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#add(CategoriaInDto)
2026-02-10 11:53:57.382 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CategoriaInDto(activa=false, costePromedio=0.0, descripcion=null, iconoUrl=null, nombre=, ordenPrior (truncated)...]
2026-02-10 11:53:57.388 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.CategoriaController#handleException(MethodArgumentNotValidException)
2026-02-10 11:53:57.388 [main] WARN  c.s.r.controller.CategoriaController - Error de validación en request
2026-02-10 11:53:57.390 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:57.390 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={nombre=nombre is mandat (truncated)...]
2026-02-10 11:53:57.390 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.CategoriaOutDto> com.svalero.rutea.controller.CategoriaController.add(com.svalero.rutea.dto.CategoriaInDto): [Field error in object 'categoriaInDto' on field 'nombre': rejected value []; codes [NotBlank.categoriaInDto.nombre,NotBlank.nombre,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaInDto.nombre,nombre]; arguments []; default message [nombre]]; default message [nombre is mandatory]] ]
2026-02-10 11:53:57.393 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#modify(long, CategoriaInDto)
2026-02-10 11:53:57.395 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CategoriaInDto(activa=false, costePromedio=0.0, descripcion=null, iconoUrl=null, nombre=, ordenPrior (truncated)...]
2026-02-10 11:53:57.395 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.CategoriaController#handleException(MethodArgumentNotValidException)
2026-02-10 11:53:57.395 [main] WARN  c.s.r.controller.CategoriaController - Error de validación en request
2026-02-10 11:53:57.395 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:57.395 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={nombre=nombre is mandat (truncated)...]
2026-02-10 11:53:57.395 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [1] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.CategoriaOutDto> com.svalero.rutea.controller.CategoriaController.modify(long,com.svalero.rutea.dto.CategoriaInDto) throws com.svalero.rutea.exception.CategoriaNotFoundException: [Field error in object 'categoriaInDto' on field 'nombre': rejected value []; codes [NotBlank.categoriaInDto.nombre,NotBlank.nombre,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [categoriaInDto.nombre,nombre]; arguments []; default message [nombre]]; default message [nombre is mandatory]] ]
2026-02-10 11:53:57.399 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#add(CategoriaInDto)
2026-02-10 11:53:57.401 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CategoriaInDto(activa=true, costePromedio=0.0, descripcion=null, iconoUrl=null, nombre=Montaña, orde (truncated)...]
2026-02-10 11:53:57.401 [main] DEBUG c.s.r.controller.CategoriaController - POST /categorias - Montaña
2026-02-10 11:53:57.404 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:57.411 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CategoriaOutDto(id=1, activa=true, costePromedio=0.0, descripcion=null, iconoUrl=null, nombre=Montañ (truncated)...]
2026-02-10 11:53:57.414 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#modify(long, CategoriaInDto)
2026-02-10 11:53:57.415 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CategoriaInDto(activa=true, costePromedio=0.0, descripcion=null, iconoUrl=null, nombre=X, ordenPrior (truncated)...]
2026-02-10 11:53:57.417 [main] DEBUG c.s.r.controller.CategoriaController - PUT /categorias/1
2026-02-10 11:53:57.417 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:57.417 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CategoriaOutDto(id=1, activa=true, costePromedio=0.0, descripcion=null, iconoUrl=null, nombre=X, ord (truncated)...]
2026-02-10 11:53:57.423 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#modify(long, CategoriaInDto)
2026-02-10 11:53:57.423 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CategoriaInDto(activa=true, costePromedio=0.0, descripcion=null, iconoUrl=null, nombre=X, ordenPrior (truncated)...]
2026-02-10 11:53:57.424 [main] DEBUG c.s.r.controller.CategoriaController - PUT /categorias/99
2026-02-10 11:53:57.426 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.CategoriaController#handleException(CategoriaNotFoundException)
2026-02-10 11:53:57.426 [main] WARN  c.s.r.controller.CategoriaController - Categoría no encontrada: null
2026-02-10 11:53:57.426 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:57.426 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=La categoria no existe, errors={})]
2026-02-10 11:53:57.427 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.CategoriaNotFoundException]
2026-02-10 11:53:57.430 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#get(long)
2026-02-10 11:53:57.432 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.CategoriaOutDto> com.svalero.rutea.controller.CategoriaController.get(long) throws com.svalero.rutea.exception.CategoriaNotFoundException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"
2026-02-10 11:53:57.432 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:53:57.432 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:57.432 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={id=Invalid value: abc})]
2026-02-10 11:53:57.432 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"]
2026-02-10 11:53:57.437 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#delete(long)
2026-02-10 11:53:57.437 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.svalero.rutea.controller.CategoriaController.delete(long) throws com.svalero.rutea.exception.CategoriaNotFoundException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"
2026-02-10 11:53:57.438 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:53:57.438 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:57.439 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={id=Invalid value: abc})]
2026-02-10 11:53:57.439 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"]
2026-02-10 11:53:57.441 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#modify(long, CategoriaInDto)
2026-02-10 11:53:57.443 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.CategoriaOutDto> com.svalero.rutea.controller.CategoriaController.modify(long,com.svalero.rutea.dto.CategoriaInDto) throws com.svalero.rutea.exception.CategoriaNotFoundException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"
2026-02-10 11:53:57.443 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:53:57.443 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:57.443 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={id=Invalid value: abc})]
2026-02-10 11:53:57.443 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"]
2026-02-10 11:53:57.446 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#get(long)
2026-02-10 11:53:57.446 [main] DEBUG c.s.r.controller.CategoriaController - GET /categorias/1
2026-02-10 11:53:57.447 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:57.447 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CategoriaOutDto(id=1, activa=false, costePromedio=0.0, descripcion=null, iconoUrl=null, nombre=Monta (truncated)...]
2026-02-10 11:53:57.450 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#get(long)
2026-02-10 11:53:57.450 [main] DEBUG c.s.r.controller.CategoriaController - GET /categorias/99
2026-02-10 11:53:57.452 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.CategoriaController#handleException(CategoriaNotFoundException)
2026-02-10 11:53:57.452 [main] WARN  c.s.r.controller.CategoriaController - Categoría no encontrada: null
2026-02-10 11:53:57.452 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:57.452 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=La categoria no existe, errors={})]
2026-02-10 11:53:57.452 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.CategoriaNotFoundException]
2026-02-10 11:53:57.455 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#getAll(Boolean, String, Integer)
2026-02-10 11:53:57.455 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [2] in public org.springframework.http.ResponseEntity<java.util.List<com.svalero.rutea.dto.CategoriaOutDto>> com.svalero.rutea.controller.CategoriaController.getAll(java.lang.Boolean,java.lang.String,java.lang.Integer): Failed to convert value of type 'java.lang.String' to required type 'java.lang.Integer'; For input string: "abc"
2026-02-10 11:53:57.455 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:53:57.455 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:57.455 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={ordenPrioridad=Invalid  (truncated)...]
2026-02-10 11:53:57.457 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Integer'; For input string: "abc"]
2026-02-10 11:53:57.458 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#getAll(Boolean, String, Integer)
2026-02-10 11:53:57.461 [main] DEBUG c.s.r.controller.CategoriaController - GET /categorias - Filtros: activa=true, nombre=mon, ordenPrioridad=1
2026-02-10 11:53:57.463 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:57.463 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoriaOutDto(id=1, activa=true, costePromedio=0.0, descripcion=null, iconoUrl=null, nombre=Monta (truncated)...]
2026-02-10 11:53:57.636 [main] DEBUG c.s.rutea.service.CategoriaService - Buscando categoría por ID: 1
2026-02-10 11:53:57.649 [main] INFO  c.s.rutea.service.CategoriaService - Modificando categoría ID: 1
2026-02-10 11:53:57.649 [main] INFO  c.s.rutea.service.CategoriaService - Categoría modificada exitosamente: ID 1
2026-02-10 11:53:57.653 [main] DEBUG c.s.rutea.service.CategoriaService - Buscando categorías con filtros: activa=true, nombre=null, ordenPrioridad=null
2026-02-10 11:53:57.653 [main] INFO  c.s.rutea.service.CategoriaService - Se encontraron 1 categorías
2026-02-10 11:53:57.656 [main] DEBUG c.s.rutea.service.CategoriaService - Buscando categorías con filtros: activa=null, nombre=mon, ordenPrioridad=null
2026-02-10 11:53:57.657 [main] INFO  c.s.rutea.service.CategoriaService - Se encontraron 1 categorías
2026-02-10 11:53:57.667 [main] DEBUG c.s.rutea.service.CategoriaService - Buscando categorías con filtros: activa=null, nombre=mon, ordenPrioridad=1
2026-02-10 11:53:57.667 [main] INFO  c.s.rutea.service.CategoriaService - Se encontraron 1 categorías
2026-02-10 11:53:57.669 [main] DEBUG c.s.rutea.service.CategoriaService - Buscando categorías con filtros: activa=true, nombre=mon, ordenPrioridad=1
2026-02-10 11:53:57.669 [main] INFO  c.s.rutea.service.CategoriaService - Se encontraron 1 categorías
2026-02-10 11:53:57.674 [main] INFO  c.s.rutea.service.CategoriaService - Eliminando categoría ID: 99
2026-02-10 11:53:57.674 [main] ERROR c.s.rutea.service.CategoriaService - Categoría no encontrada para eliminación: ID 99
2026-02-10 11:53:57.678 [main] INFO  c.s.rutea.service.CategoriaService - Eliminando categoría ID: 1
2026-02-10 11:53:57.678 [main] INFO  c.s.rutea.service.CategoriaService - Categoría eliminada exitosamente: ID 1
2026-02-10 11:53:57.682 [main] DEBUG c.s.rutea.service.CategoriaService - Buscando categorías con filtros: activa=true, nombre=null, ordenPrioridad=1
2026-02-10 11:53:57.682 [main] INFO  c.s.rutea.service.CategoriaService - Se encontraron 1 categorías
2026-02-10 11:53:57.685 [main] DEBUG c.s.rutea.service.CategoriaService - Buscando categoría por ID: 99
2026-02-10 11:53:57.685 [main] ERROR c.s.rutea.service.CategoriaService - Categoría no encontrada: ID 99
2026-02-10 11:53:57.688 [main] INFO  c.s.rutea.service.CategoriaService - Modificando categoría ID: 99
2026-02-10 11:53:57.689 [main] ERROR c.s.rutea.service.CategoriaService - Categoría no encontrada para modificación: ID 99
2026-02-10 11:53:57.691 [main] DEBUG c.s.rutea.service.CategoriaService - Buscando categorías con filtros: activa=true, nombre=mon, ordenPrioridad=null
2026-02-10 11:53:57.691 [main] INFO  c.s.rutea.service.CategoriaService - Se encontraron 1 categorías
2026-02-10 11:53:57.694 [main] DEBUG c.s.rutea.service.CategoriaService - Buscando categorías con filtros: activa=null, nombre=null, ordenPrioridad=null
2026-02-10 11:53:57.694 [main] INFO  c.s.rutea.service.CategoriaService - Se encontraron 2 categorías
2026-02-10 11:53:57.697 [main] INFO  c.s.rutea.service.CategoriaService - Creando nueva categoría: Montaña
2026-02-10 11:53:57.699 [main] INFO  c.s.rutea.service.CategoriaService - Categoría creada exitosamente con ID: 1
2026-02-10 11:53:57.702 [main] DEBUG c.s.rutea.service.CategoriaService - Buscando categorías con filtros: activa=null, nombre=null, ordenPrioridad=1
2026-02-10 11:53:57.702 [main] INFO  c.s.rutea.service.CategoriaService - Se encontraron 1 categorías
2026-02-10 11:53:57.705 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.svalero.rutea.controller.RutaControllerTest]: RutaControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-02-10 11:53:57.709 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.svalero.rutea.RuteaApplication for test class com.svalero.rutea.controller.RutaControllerTest
2026-02-10 11:53:57.729 [main] INFO  c.s.r.controller.RutaControllerTest - Starting RutaControllerTest using Java 23 with PID 31376 (started by borzg in C:\Proyects\rutea)
2026-02-10 11:53:57.729 [main] DEBUG c.s.r.controller.RutaControllerTest - Running with Spring Boot v3.3.3, Spring v6.1.12
2026-02-10 11:53:57.729 [main] INFO  c.s.r.controller.RutaControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-10 11:53:57.733 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@6a30f6b1
2026-02-10 11:53:57.891 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 8 mappings in 'requestMappingHandlerMapping'
2026-02-10 11:53:57.912 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-10 11:53:57.913 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-10 11:53:57.916 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-10 11:53:57.920 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2026-02-10 11:53:57.920 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2026-02-10 11:53:57.921 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2026-02-10 11:53:57.923 [main] INFO  c.s.r.controller.RutaControllerTest - Started RutaControllerTest in 0.21 seconds (process running for 5.342)
2026-02-10 11:53:57.926 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#delete(long)
2026-02-10 11:53:57.927 [main] DEBUG c.s.rutea.controller.RutaController - DELETE /rutas/1
2026-02-10 11:53:57.929 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:57.929 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2026-02-10 11:53:57.937 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#add(RutaInDto)
2026-02-10 11:53:57.946 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RutaInDto(dificultad=facil, distanciaKm=1.0, duracionMinutos=10, fechaRealizacion=2026-02-10, public (truncated)...]
2026-02-10 11:53:57.953 [main] DEBUG c.s.rutea.controller.RutaController - POST /rutas - Ruta
2026-02-10 11:53:57.954 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.RutaController#handleException(UsuarioNotFoundException)
2026-02-10 11:53:57.954 [main] WARN  c.s.rutea.controller.RutaController - Usuario no encontrado: null
2026-02-10 11:53:57.956 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:57.956 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El usuario no existe, errors={})]
2026-02-10 11:53:57.956 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.UsuarioNotFoundException]
2026-02-10 11:53:57.959 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#add(RutaInDto)
2026-02-10 11:53:57.959 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RutaInDto(dificultad=x, distanciaKm=-1.0, duracionMinutos=-5, fechaRealizacion=null, publica=true, t (truncated)...]
2026-02-10 11:53:57.960 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.RutaController#handleException(MethodArgumentNotValidException)
2026-02-10 11:53:57.960 [main] WARN  c.s.rutea.controller.RutaController - Error de validación en request
2026-02-10 11:53:57.962 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:57.962 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={fechaRealizacion=fechaR (truncated)...]
2026-02-10 11:53:57.962 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.RutaOutDto> com.svalero.rutea.controller.RutaController.add(com.svalero.rutea.dto.RutaInDto) throws com.svalero.rutea.exception.UsuarioNotFoundException,com.svalero.rutea.exception.PuntoInteresNotFoundException with 5 errors: [Field error in object 'rutaInDto' on field 'distanciaKm': rejected value [-1.0]; codes [PositiveOrZero.rutaInDto.distanciaKm,PositiveOrZero.distanciaKm,PositiveOrZero.float,PositiveOrZero]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [rutaInDto.distanciaKm,distanciaKm]; arguments []; default message [distanciaKm]]; default message [distanciaKm must be >= 0]] [Field error in object 'rutaInDto' on field 'usuarioId': rejected value [null]; codes [NotNull.rutaInDto.usuarioId,NotNull.usuarioId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [rutaInDto.usuarioId,usuarioId]; arguments []; default message [usuarioId]]; default message [usuarioId is mandatory]] [Field error in object 'rutaInDto' on field 'titulo': rejected value []; codes [NotBlank.rutaInDto.titulo,NotBlank.titulo,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [rutaInDto.titulo,titulo]; arguments []; default message [titulo]]; default message [titulo is mandatory]] [Field error in object 'rutaInDto' on field 'fechaRealizacion': rejected value [null]; codes [NotNull.rutaInDto.fechaRealizacion,NotNull.fechaRealizacion,NotNull.java.time.LocalDate,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [rutaInDto.fechaRealizacion,fechaRealizacion]; arguments []; default message [fechaRealizacion]]; default message [fechaRealizacion is mandatory]] [Field error in object 'rutaInDto' on field 'duracionMinutos': rejected value [-5]; codes [Min.rutaInDto.duracionMinutos,Min.duracionMinutos,Min.int,Min]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [rutaInDto.duracionMinutos,duracionMinutos]; arguments []; default message [duracionMinutos],0]; default message [duracionMinutos must be >= 0]] ]
2026-02-10 11:53:57.966 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#modify(long, RutaInDto)
2026-02-10 11:53:57.966 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RutaInDto(dificultad=null, distanciaKm=-1.0, duracionMinutos=-1, fechaRealizacion=null, publica=true (truncated)...]
2026-02-10 11:53:57.968 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.RutaController#handleException(MethodArgumentNotValidException)
2026-02-10 11:53:57.968 [main] WARN  c.s.rutea.controller.RutaController - Error de validación en request
2026-02-10 11:53:57.968 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:57.968 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={fechaRealizacion=fechaR (truncated)...]
2026-02-10 11:53:57.969 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [1] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.RutaOutDto> com.svalero.rutea.controller.RutaController.modify(long,com.svalero.rutea.dto.RutaInDto) throws com.svalero.rutea.exception.RutaNotFoundException,com.svalero.rutea.exception.UsuarioNotFoundException,com.svalero.rutea.exception.PuntoInteresNotFoundException with 5 errors: [Field error in object 'rutaInDto' on field 'titulo': rejected value []; codes [NotBlank.rutaInDto.titulo,NotBlank.titulo,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [rutaInDto.titulo,titulo]; arguments []; default message [titulo]]; default message [titulo is mandatory]] [Field error in object 'rutaInDto' on field 'duracionMinutos': rejected value [-1]; codes [Min.rutaInDto.duracionMinutos,Min.duracionMinutos,Min.int,Min]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [rutaInDto.duracionMinutos,duracionMinutos]; arguments []; default message [duracionMinutos],0]; default message [duracionMinutos must be >= 0]] [Field error in object 'rutaInDto' on field 'usuarioId': rejected value [null]; codes [NotNull.rutaInDto.usuarioId,NotNull.usuarioId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [rutaInDto.usuarioId,usuarioId]; arguments []; default message [usuarioId]]; default message [usuarioId is mandatory]] [Field error in object 'rutaInDto' on field 'distanciaKm': rejected value [-1.0]; codes [PositiveOrZero.rutaInDto.distanciaKm,PositiveOrZero.distanciaKm,PositiveOrZero.float,PositiveOrZero]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [rutaInDto.distanciaKm,distanciaKm]; arguments []; default message [distanciaKm]]; default message [distanciaKm must be >= 0]] [Field error in object 'rutaInDto' on field 'fechaRealizacion': rejected value [null]; codes [NotNull.rutaInDto.fechaRealizacion,NotNull.fechaRealizacion,NotNull.java.time.LocalDate,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [rutaInDto.fechaRealizacion,fechaRealizacion]; arguments []; default message [fechaRealizacion]]; default message [fechaRealizacion is mandatory]] ]
2026-02-10 11:53:57.972 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#add(RutaInDto)
2026-02-10 11:53:57.974 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RutaInDto(dificultad=facil, distanciaKm=5.5, duracionMinutos=60, fechaRealizacion=2026-02-10, public (truncated)...]
2026-02-10 11:53:57.974 [main] DEBUG c.s.rutea.controller.RutaController - POST /rutas - Paseo por el parque
2026-02-10 11:53:57.977 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:57.985 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [RutaOutDto(id=1, dificultad=facil, distanciaKm=5.5, duracionMinutos=60, fechaRealizacion=2026-02-10, (truncated)...]
2026-02-10 11:53:57.995 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#modify(long, RutaInDto)
2026-02-10 11:53:57.996 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RutaInDto(dificultad=dificil, distanciaKm=12.0, duracionMinutos=180, fechaRealizacion=2026-02-10, pu (truncated)...]
2026-02-10 11:53:57.996 [main] DEBUG c.s.rutea.controller.RutaController - PUT /rutas/1
2026-02-10 11:53:57.997 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:57.998 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [RutaOutDto(id=1, dificultad=dificil, distanciaKm=12.0, duracionMinutos=180, fechaRealizacion=2026-02 (truncated)...]
2026-02-10 11:53:58.000 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#get(long)
2026-02-10 11:53:58.002 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.RutaOutDto> com.svalero.rutea.controller.RutaController.get(long) throws com.svalero.rutea.exception.RutaNotFoundException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"
2026-02-10 11:53:58.002 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:53:58.002 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:58.002 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={id=Invalid value: abc})]
2026-02-10 11:53:58.002 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"]
2026-02-10 11:53:58.005 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#modify(long, RutaInDto)
2026-02-10 11:53:58.005 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RutaInDto(dificultad=x, distanciaKm=1.0, duracionMinutos=1, fechaRealizacion=2026-02-10, publica=tru (truncated)...]
2026-02-10 11:53:58.006 [main] DEBUG c.s.rutea.controller.RutaController - PUT /rutas/1
2026-02-10 11:53:58.006 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.RutaController#handleException(PuntoInteresNotFoundException)
2026-02-10 11:53:58.008 [main] WARN  c.s.rutea.controller.RutaController - Punto de interés no encontrado: null
2026-02-10 11:53:58.008 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:58.008 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El punto de interés no existe, errors={})]
2026-02-10 11:53:58.008 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.PuntoInteresNotFoundException]
2026-02-10 11:53:58.011 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#add(RutaInDto)
2026-02-10 11:53:58.013 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RutaInDto(dificultad=facil, distanciaKm=1.0, duracionMinutos=10, fechaRealizacion=2026-02-10, public (truncated)...]
2026-02-10 11:53:58.013 [main] DEBUG c.s.rutea.controller.RutaController - POST /rutas - Ruta
2026-02-10 11:53:58.014 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.RutaController#handleException(PuntoInteresNotFoundException)
2026-02-10 11:53:58.014 [main] WARN  c.s.rutea.controller.RutaController - Punto de interés no encontrado: null
2026-02-10 11:53:58.014 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:58.014 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El punto de interés no existe, errors={})]
2026-02-10 11:53:58.014 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.PuntoInteresNotFoundException]
2026-02-10 11:53:58.019 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#delete(long)
2026-02-10 11:53:58.019 [main] DEBUG c.s.rutea.controller.RutaController - DELETE /rutas/99
2026-02-10 11:53:58.019 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.RutaController#handleException(RutaNotFoundException)
2026-02-10 11:53:58.019 [main] WARN  c.s.rutea.controller.RutaController - Ruta no encontrada: null
2026-02-10 11:53:58.020 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:58.020 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=La ruta no existe, errors={})]
2026-02-10 11:53:58.020 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.RutaNotFoundException]
2026-02-10 11:53:58.023 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#delete(long)
2026-02-10 11:53:58.025 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.svalero.rutea.controller.RutaController.delete(long) throws com.svalero.rutea.exception.RutaNotFoundException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"
2026-02-10 11:53:58.026 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:53:58.026 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:58.026 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={id=Invalid value: abc})]
2026-02-10 11:53:58.026 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"]
2026-02-10 11:53:58.030 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#modify(long, RutaInDto)
2026-02-10 11:53:58.032 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RutaInDto(dificultad=x, distanciaKm=1.0, duracionMinutos=1, fechaRealizacion=2026-02-10, publica=tru (truncated)...]
2026-02-10 11:53:58.032 [main] DEBUG c.s.rutea.controller.RutaController - PUT /rutas/1
2026-02-10 11:53:58.033 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.RutaController#handleException(UsuarioNotFoundException)
2026-02-10 11:53:58.033 [main] WARN  c.s.rutea.controller.RutaController - Usuario no encontrado: null
2026-02-10 11:53:58.033 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:58.033 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El usuario no existe, errors={})]
2026-02-10 11:53:58.033 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.UsuarioNotFoundException]
2026-02-10 11:53:58.037 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#get(long)
2026-02-10 11:53:58.037 [main] DEBUG c.s.rutea.controller.RutaController - GET /rutas/99
2026-02-10 11:53:58.037 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.RutaController#handleException(RutaNotFoundException)
2026-02-10 11:53:58.038 [main] WARN  c.s.rutea.controller.RutaController - Ruta no encontrada: null
2026-02-10 11:53:58.038 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:58.038 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=La ruta no existe, errors={})]
2026-02-10 11:53:58.038 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.RutaNotFoundException]
2026-02-10 11:53:58.041 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#get(long)
2026-02-10 11:53:58.041 [main] DEBUG c.s.rutea.controller.RutaController - GET /rutas/1
2026-02-10 11:53:58.041 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:58.041 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [RutaOutDto(id=1, dificultad=media, distanciaKm=10.0, duracionMinutos=120, fechaRealizacion=2026-02-1 (truncated)...]
2026-02-10 11:53:58.044 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#getAll(String, Boolean, String)
2026-02-10 11:53:58.045 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [1] in public org.springframework.http.ResponseEntity<java.util.List<com.svalero.rutea.dto.RutaOutDto>> com.svalero.rutea.controller.RutaController.getAll(java.lang.String,java.lang.Boolean,java.lang.String): Failed to convert value of type 'java.lang.String' to required type 'java.lang.Boolean'; Invalid boolean value [abc]
2026-02-10 11:53:58.045 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:53:58.045 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:58.045 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={publica=Invalid value:  (truncated)...]
2026-02-10 11:53:58.045 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Boolean'; Invalid boolean value [abc]]
2026-02-10 11:53:58.049 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#modify(long, RutaInDto)
2026-02-10 11:53:58.049 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RutaInDto(dificultad=x, distanciaKm=1.0, duracionMinutos=1, fechaRealizacion=2026-02-10, publica=tru (truncated)...]
2026-02-10 11:53:58.049 [main] DEBUG c.s.rutea.controller.RutaController - PUT /rutas/99
2026-02-10 11:53:58.050 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.RutaController#handleException(RutaNotFoundException)
2026-02-10 11:53:58.050 [main] WARN  c.s.rutea.controller.RutaController - Ruta no encontrada: null
2026-02-10 11:53:58.050 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:58.050 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=La ruta no existe, errors={})]
2026-02-10 11:53:58.051 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.RutaNotFoundException]
2026-02-10 11:53:58.055 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#getAll(String, Boolean, String)
2026-02-10 11:53:58.056 [main] DEBUG c.s.rutea.controller.RutaController - GET /rutas - Filtros: dificultad=facil, publica=true, titulo=paseo
2026-02-10 11:53:58.056 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:58.058 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[RutaOutDto(id=1, dificultad=facil, distanciaKm=5.5, duracionMinutos=60, fechaRealizacion=2026-02-10 (truncated)...]
2026-02-10 11:53:58.154 [main] DEBUG c.s.r.service.PuntoInteresService - Buscando punto de interés por ID: 10
2026-02-10 11:53:58.160 [main] INFO  c.s.r.service.PuntoInteresService - Modificando punto de interés ID: 10
2026-02-10 11:53:58.162 [main] INFO  c.s.r.service.PuntoInteresService - Punto de interés modificado exitosamente: ID 10
2026-02-10 11:53:58.167 [main] INFO  c.s.r.service.PuntoInteresService - Eliminando punto de interés ID: 999
2026-02-10 11:53:58.168 [main] ERROR c.s.r.service.PuntoInteresService - Punto de interés no encontrado para eliminación: ID 999
2026-02-10 11:53:58.174 [main] INFO  c.s.r.service.PuntoInteresService - Creando nuevo punto de interés: X
2026-02-10 11:53:58.174 [main] ERROR c.s.r.service.PuntoInteresService - Categoría no encontrada: ID 99
2026-02-10 11:53:58.179 [main] INFO  c.s.r.service.PuntoInteresService - Modificando punto de interés ID: 999
2026-02-10 11:53:58.179 [main] ERROR c.s.r.service.PuntoInteresService - Punto de interés no encontrado para modificación: ID 999
2026-02-10 11:53:58.182 [main] INFO  c.s.r.service.PuntoInteresService - Eliminando punto de interés ID: 10
2026-02-10 11:53:58.184 [main] INFO  c.s.r.service.PuntoInteresService - Punto de interés eliminado exitosamente: ID 10
2026-02-10 11:53:58.187 [main] DEBUG c.s.r.service.PuntoInteresService - Buscando puntos de interés con filtros: categoriaId=1, abiertoActualmente=true, nombre=parque, puntuacionMedia=4.5
2026-02-10 11:53:58.190 [main] INFO  c.s.r.service.PuntoInteresService - Se encontraron 1 puntos de interés
2026-02-10 11:53:58.195 [main] INFO  c.s.r.service.PuntoInteresService - Creando nuevo punto de interés: Parque Grande
2026-02-10 11:53:58.196 [main] INFO  c.s.r.service.PuntoInteresService - Punto de interés creado exitosamente con ID: 10
2026-02-10 11:53:58.201 [main] DEBUG c.s.r.service.PuntoInteresService - Buscando punto de interés por ID: 999
2026-02-10 11:53:58.201 [main] ERROR c.s.r.service.PuntoInteresService - Punto de interés no encontrado: ID 999
2026-02-10 11:53:58.206 [main] INFO  c.s.r.service.PuntoInteresService - Modificando punto de interés ID: 10
2026-02-10 11:53:58.207 [main] ERROR c.s.r.service.PuntoInteresService - Categoría no encontrada: ID 99
2026-02-10 11:53:58.306 [main] INFO  c.s.rutea.service.ResenaService - Modificando reseña ID: 999
2026-02-10 11:53:58.307 [main] ERROR c.s.rutea.service.ResenaService - Reseña no encontrada para modificación: ID 999
2026-02-10 11:53:58.313 [main] DEBUG c.s.rutea.service.ResenaService - Buscando reseña por ID: 1
2026-02-10 11:53:58.316 [main] DEBUG c.s.rutea.service.ResenaService - Buscando reseñas con filtros: editada=false, likes=10, valoracion=5
2026-02-10 11:53:58.318 [main] INFO  c.s.rutea.service.ResenaService - Se encontraron 1 reseñas
2026-02-10 11:53:58.323 [main] INFO  c.s.rutea.service.ResenaService - Creando nueva reseña para punto ID: 10
2026-02-10 11:53:58.323 [main] ERROR c.s.rutea.service.ResenaService - Usuario no encontrado: ID 999
2026-02-10 11:53:58.328 [main] INFO  c.s.rutea.service.ResenaService - Creando nueva reseña para punto ID: 10
2026-02-10 11:53:58.330 [main] INFO  c.s.rutea.service.ResenaService - Reseña creada exitosamente con ID: 1
2026-02-10 11:53:58.334 [main] INFO  c.s.rutea.service.ResenaService - Eliminando reseña ID: 999
2026-02-10 11:53:58.336 [main] ERROR c.s.rutea.service.ResenaService - Reseña no encontrada para eliminación: ID 999
2026-02-10 11:53:58.342 [main] INFO  c.s.rutea.service.ResenaService - Modificando reseña ID: 1
2026-02-10 11:53:58.342 [main] ERROR c.s.rutea.service.ResenaService - Punto de interés no encontrado: ID 999
2026-02-10 11:53:58.347 [main] INFO  c.s.rutea.service.ResenaService - Eliminando reseña ID: 1
2026-02-10 11:53:58.347 [main] INFO  c.s.rutea.service.ResenaService - Reseña eliminada exitosamente: ID 1
2026-02-10 11:53:58.352 [main] INFO  c.s.rutea.service.ResenaService - Modificando reseña ID: 1
2026-02-10 11:53:58.353 [main] ERROR c.s.rutea.service.ResenaService - Usuario no encontrado: ID 999
2026-02-10 11:53:58.357 [main] INFO  c.s.rutea.service.ResenaService - Modificando reseña ID: 1
2026-02-10 11:53:58.357 [main] INFO  c.s.rutea.service.ResenaService - Reseña modificada exitosamente: ID 1
2026-02-10 11:53:58.362 [main] DEBUG c.s.rutea.service.ResenaService - Buscando reseña por ID: 999
2026-02-10 11:53:58.362 [main] ERROR c.s.rutea.service.ResenaService - Reseña no encontrada: ID 999
2026-02-10 11:53:58.364 [main] INFO  c.s.rutea.service.ResenaService - Creando nueva reseña para punto ID: 999
2026-02-10 11:53:58.365 [main] ERROR c.s.rutea.service.ResenaService - Punto de interés no encontrado: ID 999
2026-02-10 11:53:58.415 [main] DEBUG c.svalero.rutea.service.RutaService - Buscando ruta por ID: 1
2026-02-10 11:53:58.420 [main] INFO  c.svalero.rutea.service.RutaService - Creando nueva ruta: Ruta
2026-02-10 11:53:58.421 [main] ERROR c.svalero.rutea.service.RutaService - Usuario no encontrado: ID 999
2026-02-10 11:53:58.424 [main] INFO  c.svalero.rutea.service.RutaService - Eliminando ruta ID: 999
2026-02-10 11:53:58.426 [main] ERROR c.svalero.rutea.service.RutaService - Ruta no encontrada para eliminación: ID 999
2026-02-10 11:53:58.429 [main] INFO  c.svalero.rutea.service.RutaService - Modificando ruta ID: 999
2026-02-10 11:53:58.429 [main] ERROR c.svalero.rutea.service.RutaService - Ruta no encontrada para modificación: ID 999
2026-02-10 11:53:58.437 [main] INFO  c.svalero.rutea.service.RutaService - Modificando ruta ID: 1
2026-02-10 11:53:58.443 [main] INFO  c.svalero.rutea.service.RutaService - Eliminando ruta ID: 1
2026-02-10 11:53:58.443 [main] INFO  c.svalero.rutea.service.RutaService - Ruta eliminada exitosamente: ID 1
2026-02-10 11:53:58.448 [main] INFO  c.svalero.rutea.service.RutaService - Modificando ruta ID: 1
2026-02-10 11:53:58.448 [main] ERROR c.svalero.rutea.service.RutaService - Usuario no encontrado: ID 999
2026-02-10 11:53:58.453 [main] INFO  c.svalero.rutea.service.RutaService - Creando nueva ruta: Ruta
2026-02-10 11:53:58.456 [main] INFO  c.svalero.rutea.service.RutaService - Creando nueva ruta: Paseo por el parque
2026-02-10 11:53:58.456 [main] INFO  c.svalero.rutea.service.RutaService - Ruta creada exitosamente con ID: 1
2026-02-10 11:53:58.463 [main] INFO  c.svalero.rutea.service.RutaService - Modificando ruta ID: 1
2026-02-10 11:53:58.463 [main] INFO  c.svalero.rutea.service.RutaService - Ruta modificada exitosamente: ID 1
2026-02-10 11:53:58.467 [main] DEBUG c.svalero.rutea.service.RutaService - Buscando ruta por ID: 999
2026-02-10 11:53:58.467 [main] ERROR c.svalero.rutea.service.RutaService - Ruta no encontrada: ID 999
2026-02-10 11:53:58.470 [main] DEBUG c.svalero.rutea.service.RutaService - Buscando rutas con filtros: dificultad=fac, publica=true, titulo=parque
2026-02-10 11:53:58.471 [main] INFO  c.svalero.rutea.service.RutaService - Se encontraron 1 rutas
2026-02-10 11:53:58.476 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.svalero.rutea.controller.ResenaControllerTest]: ResenaControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-02-10 11:53:58.485 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.svalero.rutea.RuteaApplication for test class com.svalero.rutea.controller.ResenaControllerTest
2026-02-10 11:53:58.506 [main] INFO  c.s.r.c.ResenaControllerTest - Starting ResenaControllerTest using Java 23 with PID 31376 (started by borzg in C:\Proyects\rutea)
2026-02-10 11:53:58.506 [main] DEBUG c.s.r.c.ResenaControllerTest - Running with Spring Boot v3.3.3, Spring v6.1.12
2026-02-10 11:53:58.506 [main] INFO  c.s.r.c.ResenaControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-10 11:53:58.508 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@28a33dc9
2026-02-10 11:53:58.656 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 8 mappings in 'requestMappingHandlerMapping'
2026-02-10 11:53:58.670 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-10 11:53:58.674 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-10 11:53:58.674 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-10 11:53:58.677 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2026-02-10 11:53:58.677 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2026-02-10 11:53:58.679 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
2026-02-10 11:53:58.680 [main] INFO  c.s.r.c.ResenaControllerTest - Started ResenaControllerTest in 0.193 seconds (process running for 6.099)
2026-02-10 11:53:58.685 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#delete(long)
2026-02-10 11:53:58.686 [main] DEBUG c.s.r.controller.ResenaController - DELETE /resenas/1
2026-02-10 11:53:58.696 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:58.697 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2026-02-10 11:53:58.708 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#add(ResenaInDto)
2026-02-10 11:53:58.713 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ResenaInDto(comentario=Ok, editada=false, fechaPublicacion=null, likes=0, titulo=null, valoracion=4, (truncated)...]
2026-02-10 11:53:58.718 [main] DEBUG c.s.r.controller.ResenaController - POST /resenas - valoracion: 4
2026-02-10 11:53:58.719 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.ResenaController#handleException(UsuarioNotFoundException)
2026-02-10 11:53:58.719 [main] WARN  c.s.r.controller.ResenaController - Usuario no encontrado: null
2026-02-10 11:53:58.721 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:58.721 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El usuario no existe, errors={})]
2026-02-10 11:53:58.721 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.UsuarioNotFoundException]
2026-02-10 11:53:58.724 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#add(ResenaInDto)
2026-02-10 11:53:58.724 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ResenaInDto(comentario=, editada=false, fechaPublicacion=null, likes=-1, titulo=null, valoracion=6,  (truncated)...]
2026-02-10 11:53:58.726 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.ResenaController#handleException(MethodArgumentNotValidException)
2026-02-10 11:53:58.727 [main] WARN  c.s.r.controller.ResenaController - Error de validación en request
2026-02-10 11:53:58.727 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:58.727 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={valoracion=valoracion m (truncated)...]
2026-02-10 11:53:58.729 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.ResenaOutDto> com.svalero.rutea.controller.ResenaController.add(com.svalero.rutea.dto.ResenaInDto) throws com.svalero.rutea.exception.PuntoInteresNotFoundException,com.svalero.rutea.exception.UsuarioNotFoundException with 5 errors: [Field error in object 'resenaInDto' on field 'comentario': rejected value []; codes [NotBlank.resenaInDto.comentario,NotBlank.comentario,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [resenaInDto.comentario,comentario]; arguments []; default message [comentario]]; default message [comentario is mandatory]] [Field error in object 'resenaInDto' on field 'valoracion': rejected value [6]; codes [Max.resenaInDto.valoracion,Max.valoracion,Max.int,Max]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [resenaInDto.valoracion,valoracion]; arguments []; default message [valoracion],5]; default message [valoracion must be between 1 and 5]] [Field error in object 'resenaInDto' on field 'puntoId': rejected value [null]; codes [NotNull.resenaInDto.puntoId,NotNull.puntoId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [resenaInDto.puntoId,puntoId]; arguments []; default message [puntoId]]; default message [puntoId is mandatory]] [Field error in object 'resenaInDto' on field 'usuarioId': rejected value [null]; codes [NotNull.resenaInDto.usuarioId,NotNull.usuarioId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [resenaInDto.usuarioId,usuarioId]; arguments []; default message [usuarioId]]; default message [usuarioId is mandatory]] [Field error in object 'resenaInDto' on field 'likes': rejected value [-1]; codes [PositiveOrZero.resenaInDto.likes,PositiveOrZero.likes,PositiveOrZero.int,PositiveOrZero]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [resenaInDto.likes,likes]; arguments []; default message [likes]]; default message [likes must be >= 0]] ]
2026-02-10 11:53:58.732 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#modify(long, ResenaInDto)
2026-02-10 11:53:58.732 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ResenaInDto(comentario=, editada=false, fechaPublicacion=null, likes=-5, titulo=t, valoracion=0, pun (truncated)...]
2026-02-10 11:53:58.734 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.ResenaController#handleException(MethodArgumentNotValidException)
2026-02-10 11:53:58.734 [main] WARN  c.s.r.controller.ResenaController - Error de validación en request
2026-02-10 11:53:58.734 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:58.734 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={puntoId=puntoId is mand (truncated)...]
2026-02-10 11:53:58.734 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [1] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.ResenaOutDto> com.svalero.rutea.controller.ResenaController.modify(long,com.svalero.rutea.dto.ResenaInDto) throws com.svalero.rutea.exception.ResenaNotFoundException,com.svalero.rutea.exception.PuntoInteresNotFoundException,com.svalero.rutea.exception.UsuarioNotFoundException with 5 errors: [Field error in object 'resenaInDto' on field 'comentario': rejected value []; codes [NotBlank.resenaInDto.comentario,NotBlank.comentario,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [resenaInDto.comentario,comentario]; arguments []; default message [comentario]]; default message [comentario is mandatory]] [Field error in object 'resenaInDto' on field 'likes': rejected value [-5]; codes [PositiveOrZero.resenaInDto.likes,PositiveOrZero.likes,PositiveOrZero.int,PositiveOrZero]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [resenaInDto.likes,likes]; arguments []; default message [likes]]; default message [likes must be >= 0]] [Field error in object 'resenaInDto' on field 'puntoId': rejected value [null]; codes [NotNull.resenaInDto.puntoId,NotNull.puntoId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [resenaInDto.puntoId,puntoId]; arguments []; default message [puntoId]]; default message [puntoId is mandatory]] [Field error in object 'resenaInDto' on field 'valoracion': rejected value [0]; codes [Min.resenaInDto.valoracion,Min.valoracion,Min.int,Min]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [resenaInDto.valoracion,valoracion]; arguments []; default message [valoracion],1]; default message [valoracion must be between 1 and 5]] [Field error in object 'resenaInDto' on field 'usuarioId': rejected value [null]; codes [NotNull.resenaInDto.usuarioId,NotNull.usuarioId,NotNull.java.lang.Long,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [resenaInDto.usuarioId,usuarioId]; arguments []; default message [usuarioId]]; default message [usuarioId is mandatory]] ]
2026-02-10 11:53:58.738 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#add(ResenaInDto)
2026-02-10 11:53:58.738 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ResenaInDto(comentario=Muy buena, editada=false, fechaPublicacion=2026-02-10, likes=0, titulo=Título (truncated)...]
2026-02-10 11:53:58.740 [main] DEBUG c.s.r.controller.ResenaController - POST /resenas - valoracion: 5
2026-02-10 11:53:58.742 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:58.749 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ResenaOutDto(id=1, comentario=Muy buena, editada=false, fechaPublicacion=2026-02-10, likes=0, titulo (truncated)...]
2026-02-10 11:53:58.754 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#modify(long, ResenaInDto)
2026-02-10 11:53:58.754 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ResenaInDto(comentario=Editada, editada=true, fechaPublicacion=2026-02-10, likes=5, titulo=Nuevo, va (truncated)...]
2026-02-10 11:53:58.756 [main] DEBUG c.s.r.controller.ResenaController - PUT /resenas/1
2026-02-10 11:53:58.756 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:58.756 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ResenaOutDto(id=1, comentario=Editada, editada=true, fechaPublicacion=2026-02-10, likes=5, titulo=Nu (truncated)...]
2026-02-10 11:53:58.759 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#get(long)
2026-02-10 11:53:58.759 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<com.svalero.rutea.dto.ResenaOutDto> com.svalero.rutea.controller.ResenaController.get(long) throws com.svalero.rutea.exception.ResenaNotFoundException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"
2026-02-10 11:53:58.760 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:53:58.760 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:58.760 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={id=Invalid value: abc})]
2026-02-10 11:53:58.760 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"]
2026-02-10 11:53:58.763 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#delete(long)
2026-02-10 11:53:58.763 [main] DEBUG c.s.r.controller.ResenaController - DELETE /resenas/99
2026-02-10 11:53:58.765 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.ResenaController#handleException(ResenaNotFoundException)
2026-02-10 11:53:58.765 [main] WARN  c.s.r.controller.ResenaController - Reseña no encontrada: null
2026-02-10 11:53:58.765 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:58.765 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=La reseña no existe, errors={})]
2026-02-10 11:53:58.765 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.ResenaNotFoundException]
2026-02-10 11:53:58.768 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#delete(long)
2026-02-10 11:53:58.768 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<java.lang.Void> com.svalero.rutea.controller.ResenaController.delete(long) throws com.svalero.rutea.exception.ResenaNotFoundException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"
2026-02-10 11:53:58.768 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:53:58.769 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:58.769 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={id=Invalid value: abc})]
2026-02-10 11:53:58.769 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "abc"]
2026-02-10 11:53:58.772 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#modify(long, ResenaInDto)
2026-02-10 11:53:58.772 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ResenaInDto(comentario=X, editada=false, fechaPublicacion=null, likes=0, titulo=null, valoracion=4,  (truncated)...]
2026-02-10 11:53:58.774 [main] DEBUG c.s.r.controller.ResenaController - PUT /resenas/1
2026-02-10 11:53:58.774 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.ResenaController#handleException(UsuarioNotFoundException)
2026-02-10 11:53:58.774 [main] WARN  c.s.r.controller.ResenaController - Usuario no encontrado: null
2026-02-10 11:53:58.774 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:58.774 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El usuario no existe, errors={})]
2026-02-10 11:53:58.775 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.UsuarioNotFoundException]
2026-02-10 11:53:58.779 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#add(ResenaInDto)
2026-02-10 11:53:58.779 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ResenaInDto(comentario=Ok, editada=false, fechaPublicacion=null, likes=0, titulo=null, valoracion=4, (truncated)...]
2026-02-10 11:53:58.780 [main] DEBUG c.s.r.controller.ResenaController - POST /resenas - valoracion: 4
2026-02-10 11:53:58.780 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.ResenaController#handleException(PuntoInteresNotFoundException)
2026-02-10 11:53:58.780 [main] WARN  c.s.r.controller.ResenaController - Punto de interés no encontrado: null
2026-02-10 11:53:58.780 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:58.780 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El punto de interés no existe, errors={})]
2026-02-10 11:53:58.782 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.PuntoInteresNotFoundException]
2026-02-10 11:53:58.783 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#modify(long, ResenaInDto)
2026-02-10 11:53:58.785 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ResenaInDto(comentario=X, editada=false, fechaPublicacion=null, likes=0, titulo=null, valoracion=4,  (truncated)...]
2026-02-10 11:53:58.785 [main] DEBUG c.s.r.controller.ResenaController - PUT /resenas/99
2026-02-10 11:53:58.785 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.ResenaController#handleException(ResenaNotFoundException)
2026-02-10 11:53:58.785 [main] WARN  c.s.r.controller.ResenaController - Reseña no encontrada: null
2026-02-10 11:53:58.786 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:58.786 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=La reseña no existe, errors={})]
2026-02-10 11:53:58.786 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.ResenaNotFoundException]
2026-02-10 11:53:58.788 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#get(long)
2026-02-10 11:53:58.788 [main] DEBUG c.s.r.controller.ResenaController - GET /resenas/99
2026-02-10 11:53:58.790 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.ResenaController#handleException(ResenaNotFoundException)
2026-02-10 11:53:58.790 [main] WARN  c.s.r.controller.ResenaController - Reseña no encontrada: null
2026-02-10 11:53:58.790 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:58.790 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=La reseña no existe, errors={})]
2026-02-10 11:53:58.790 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.ResenaNotFoundException]
2026-02-10 11:53:58.793 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#get(long)
2026-02-10 11:53:58.793 [main] DEBUG c.s.r.controller.ResenaController - GET /resenas/1
2026-02-10 11:53:58.794 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:58.794 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ResenaOutDto(id=1, comentario=Comentario, editada=false, fechaPublicacion=2026-02-10, likes=0, titul (truncated)...]
2026-02-10 11:53:58.796 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#getAll(Boolean, Integer, Integer)
2026-02-10 11:53:58.797 [main] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [1] in public org.springframework.http.ResponseEntity<java.util.List<com.svalero.rutea.dto.ResenaOutDto>> com.svalero.rutea.controller.ResenaController.getAll(java.lang.Boolean,java.lang.Integer,java.lang.Integer): Failed to convert value of type 'java.lang.String' to required type 'java.lang.Integer'; For input string: "abc"
2026-02-10 11:53:58.797 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleTypeMismatch(MethodArgumentTypeMismatchException)
2026-02-10 11:53:58.797 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:58.797 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=400, title=bad-request, message=Validation error, errors={likes=Invalid value: ab (truncated)...]
2026-02-10 11:53:58.797 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Integer'; For input string: "abc"]
2026-02-10 11:53:58.800 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#modify(long, ResenaInDto)
2026-02-10 11:53:58.800 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ResenaInDto(comentario=X, editada=false, fechaPublicacion=null, likes=0, titulo=null, valoracion=4,  (truncated)...]
2026-02-10 11:53:58.800 [main] DEBUG c.s.r.controller.ResenaController - PUT /resenas/1
2026-02-10 11:53:58.802 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.ResenaController#handleException(PuntoInteresNotFoundException)
2026-02-10 11:53:58.802 [main] WARN  c.s.r.controller.ResenaController - Punto de interés no encontrado: null
2026-02-10 11:53:58.802 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:58.802 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El punto de interés no existe, errors={})]
2026-02-10 11:53:58.802 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.PuntoInteresNotFoundException]
2026-02-10 11:53:58.804 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#getAll(Boolean, Integer, Integer)
2026-02-10 11:53:58.805 [main] DEBUG c.s.r.controller.ResenaController - GET /resenas - Filtros: editada=true, likes=10, valoracion=5
2026-02-10 11:53:58.807 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:53:58.807 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ResenaOutDto(id=1, comentario=Muy bien, editada=true, fechaPublicacion=2026-02-10, likes=10, titulo (truncated)...]
2026-02-10 11:53:58.811 [main] DEBUG c.s.rutea.service.UsuarioService - Buscando usuario por ID: 1
2026-02-10 11:53:58.814 [main] DEBUG c.s.rutea.service.UsuarioService - Buscando usuarios con filtros: premium=true, nivelExperiencia=null, username=
2026-02-10 11:53:58.814 [main] INFO  c.s.rutea.service.UsuarioService - Se encontraron 1 usuarios
2026-02-10 11:53:58.817 [main] INFO  c.s.rutea.service.UsuarioService - Modificando usuario ID: 1
2026-02-10 11:53:58.819 [main] INFO  c.s.rutea.service.UsuarioService - Usuario modificado exitosamente: ID 1
2026-02-10 11:53:58.820 [main] DEBUG c.s.rutea.service.UsuarioService - Buscando usuarios con filtros: premium=true, nivelExperiencia=3, username=bor
2026-02-10 11:53:58.820 [main] INFO  c.s.rutea.service.UsuarioService - Se encontraron 1 usuarios
2026-02-10 11:53:58.822 [main] DEBUG c.s.rutea.service.UsuarioService - Buscando usuarios con filtros: premium=true, nivelExperiencia=null, username=bor
2026-02-10 11:53:58.822 [main] INFO  c.s.rutea.service.UsuarioService - Se encontraron 1 usuarios
2026-02-10 11:53:58.825 [main] INFO  c.s.rutea.service.UsuarioService - Eliminando usuario ID: 99
2026-02-10 11:53:58.827 [main] ERROR c.s.rutea.service.UsuarioService - Usuario no encontrado para eliminación: ID 99
2026-02-10 11:53:58.828 [main] INFO  c.s.rutea.service.UsuarioService - Eliminando usuario ID: 1
2026-02-10 11:53:58.828 [main] INFO  c.s.rutea.service.UsuarioService - Usuario eliminado exitosamente: ID 1
2026-02-10 11:53:58.831 [main] DEBUG c.s.rutea.service.UsuarioService - Buscando usuario por ID: 99
2026-02-10 11:53:58.831 [main] ERROR c.s.rutea.service.UsuarioService - Usuario no encontrado: ID 99
2026-02-10 11:53:58.834 [main] INFO  c.s.rutea.service.UsuarioService - Modificando usuario ID: 99
2026-02-10 11:53:58.834 [main] ERROR c.s.rutea.service.UsuarioService - Usuario no encontrado para modificación: ID 99
2026-02-10 11:53:58.838 [main] DEBUG c.s.rutea.service.UsuarioService - Buscando usuarios con filtros: premium=true, nivelExperiencia=3, username=
2026-02-10 11:53:58.838 [main] INFO  c.s.rutea.service.UsuarioService - Se encontraron 1 usuarios
2026-02-10 11:53:58.841 [main] DEBUG c.s.rutea.service.UsuarioService - Buscando usuarios con filtros: premium=null, nivelExperiencia=null, username=
2026-02-10 11:53:58.841 [main] INFO  c.s.rutea.service.UsuarioService - Se encontraron 2 usuarios
2026-02-10 11:53:58.844 [main] INFO  c.s.rutea.service.UsuarioService - Creando nuevo usuario: borja
2026-02-10 11:53:58.844 [main] INFO  c.s.rutea.service.UsuarioService - Usuario creado exitosamente con ID: 1
2026-02-10 11:53:58.847 [main] DEBUG c.s.rutea.service.UsuarioService - Buscando usuarios con filtros: premium=null, nivelExperiencia=3, username=bor
2026-02-10 11:53:58.847 [main] INFO  c.s.rutea.service.UsuarioService - Se encontraron 1 usuarios
2026-02-10 11:53:58.849 [main] DEBUG c.s.rutea.service.UsuarioService - Buscando usuarios con filtros: premium=null, nivelExperiencia=null, username=an
2026-02-10 11:53:58.849 [main] INFO  c.s.rutea.service.UsuarioService - Se encontraron 1 usuarios
2026-02-10 11:53:58.852 [main] DEBUG c.s.rutea.service.UsuarioService - Buscando usuarios con filtros: premium=null, nivelExperiencia=0, username=
2026-02-10 11:53:58.852 [main] INFO  c.s.rutea.service.UsuarioService - Se encontraron 1 usuarios
2026-02-10 11:53:58.861 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@6d4a65c6, started on Tue Feb 10 11:53:54 CET 2026
2026-02-10 11:53:58.866 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@1868ed54, started on Tue Feb 10 11:53:56 CET 2026
2026-02-10 11:53:58.866 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@37f71e8, started on Tue Feb 10 11:53:57 CET 2026
2026-02-10 11:53:58.867 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@6a30f6b1, started on Tue Feb 10 11:53:57 CET 2026
2026-02-10 11:53:58.867 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@28a33dc9, started on Tue Feb 10 11:53:58 CET 2026

2026-02-10 10:29:00.017 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2026-02-10 10:29:00.059 [main] INFO  com.svalero.rutea.RuteaApplication - Starting RuteaApplication using Java 23 with PID 26736 (C:\Proyects\rutea\target\classes started by borzg in C:\Proyects\rutea)
2026-02-10 10:29:00.060 [main] DEBUG com.svalero.rutea.RuteaApplication - Running with Spring Boot v3.3.3, Spring v6.1.12
2026-02-10 10:29:00.060 [main] INFO  com.svalero.rutea.RuteaApplication - No active profile set, falling back to 1 default profile: "default"
2026-02-10 10:29:00.664 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-02-10 10:29:00.709 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 39 ms. Found 5 JPA repository interfaces.
2026-02-10 10:29:01.094 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-02-10 10:29:01.103 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2026-02-10 10:29:01.107 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-02-10 10:29:01.107 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.28]
2026-02-10 10:29:01.158 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-02-10 10:29:01.158 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1058 ms
2026-02-10 10:29:01.266 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-02-10 10:29:01.337 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.2.Final
2026-02-10 10:29:01.370 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-02-10 10:29:01.632 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-02-10 10:29:01.655 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-02-10 10:29:02.709 [main] WARN  o.h.e.j.e.i.JdbcEnvironmentInitiator - HHH000342: Could not obtain connection to query metadata
java.lang.NullPointerException: Cannot invoke "org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(java.sql.SQLException, String)" because the return value of "org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.sqlExceptionHelper()" is null
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:116)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:290)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:123)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:77)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:221)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:189)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:171)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1431)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1502)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.svalero.rutea.RuteaApplication.main(RuteaApplication.java:10)
2026-02-10 10:29:02.733 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MariaDBDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-10 10:29:03.537 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-10 10:29:03.553 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-02-10 10:29:04.569 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 08000
2026-02-10 10:29:04.569 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Socket fail to connect to host:address=(host=localhost)(port=3306)(type=primary). Connection refused: getsockopt
2026-02-10 10:29:04.574 [main] ERROR o.s.o.j.LocalContainerEntityManagerFactoryBean - Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Socket fail to connect to host:address=(host=localhost)(port=3306)(type=primary). Connection refused: getsockopt] [n/a]
2026-02-10 10:29:04.574 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Socket fail to connect to host:address=(host=localhost)(port=3306)(type=primary). Connection refused: getsockopt] [n/a]
2026-02-10 10:29:04.576 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2026-02-10 10:29:04.585 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2026-02-10 10:29:04.598 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Socket fail to connect to host:address=(host=localhost)(port=3306)(type=primary). Connection refused: getsockopt] [n/a]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.svalero.rutea.RuteaApplication.main(RuteaApplication.java:10)
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Socket fail to connect to host:address=(host=localhost)(port=3306)(type=primary). Connection refused: getsockopt] [n/a]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 15 common frames omitted
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Socket fail to connect to host:address=(host=localhost)(port=3306)(type=primary). Connection refused: getsockopt] [n/a]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:51)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:74)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:39)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:63)
	at org.hibernate.tool.schema.extract.spi.ExtractionContext.getQueryResults(ExtractionContext.java:43)
	at org.hibernate.tool.schema.extract.internal.SequenceInformationExtractorMariaDBDatabaseImpl.extractMetadata(SequenceInformationExtractorMariaDBDatabaseImpl.java:46)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.initializeSequences(DatabaseInformationImpl.java:66)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.<init>(DatabaseInformationImpl.java:60)
	at org.hibernate.tool.schema.internal.Helper.buildDatabaseInformation(Helper.java:185)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:98)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 19 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: Socket fail to connect to host:address=(host=localhost)(port=3306)(type=primary). Connection refused: getsockopt
	at org.mariadb.jdbc.client.impl.ConnectionHelper.connectSocket(ConnectionHelper.java:140)
	at org.mariadb.jdbc.client.impl.StandardClient.<init>(StandardClient.java:102)
	at org.mariadb.jdbc.Driver.connect(Driver.java:69)
	at org.mariadb.jdbc.Driver.connect(Driver.java:95)
	at org.mariadb.jdbc.Driver.connect(Driver.java:26)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:137)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:360)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:202)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:461)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:550)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:98)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:437)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46)
	... 39 common frames omitted
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:760)
	at org.mariadb.jdbc.client.impl.ConnectionHelper.connectSocket(ConnectionHelper.java:134)
	... 53 common frames omitted
2026-02-10 10:29:30.302 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2026-02-10 10:29:30.330 [main] INFO  com.svalero.rutea.RuteaApplication - Starting RuteaApplication using Java 23 with PID 6904 (C:\Proyects\rutea\target\classes started by borzg in C:\Proyects\rutea)
2026-02-10 10:29:30.330 [main] DEBUG com.svalero.rutea.RuteaApplication - Running with Spring Boot v3.3.3, Spring v6.1.12
2026-02-10 10:29:30.331 [main] INFO  com.svalero.rutea.RuteaApplication - No active profile set, falling back to 1 default profile: "default"
2026-02-10 10:29:30.862 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-02-10 10:29:30.907 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 35 ms. Found 5 JPA repository interfaces.
2026-02-10 10:29:31.281 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-02-10 10:29:31.289 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2026-02-10 10:29:31.291 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-02-10 10:29:31.291 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.28]
2026-02-10 10:29:31.346 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-02-10 10:29:31.347 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 980 ms
2026-02-10 10:29:31.454 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-02-10 10:29:31.505 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.2.Final
2026-02-10 10:29:31.535 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-02-10 10:29:31.783 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-02-10 10:29:31.802 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-02-10 10:29:31.880 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.mariadb.jdbc.Connection@3f9f8d23
2026-02-10 10:29:31.881 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-02-10 10:29:31.902 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MariaDBDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-10 10:29:32.790 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-10 10:29:32.852 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-02-10 10:29:33.259 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-02-10 10:29:33.358 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 36 mappings in 'requestMappingHandlerMapping'
2026-02-10 10:29:33.407 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2026-02-10 10:29:33.433 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-10 10:29:33.467 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-10 10:29:33.598 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2026-02-10 10:29:33.613 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2026-02-10 10:29:33.618 [main] INFO  com.svalero.rutea.RuteaApplication - Started RuteaApplication in 3.667 seconds (process running for 4.215)
2026-02-10 10:29:41.694 [http-nio-8080-exec-3] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-02-10 10:29:41.694 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-02-10 10:29:41.694 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2026-02-10 10:29:41.694 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2026-02-10 10:29:41.694 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2026-02-10 10:29:41.695 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@58dd1d0c
2026-02-10 10:29:41.695 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@1978eab7
2026-02-10 10:29:41.695 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2026-02-10 10:29:41.695 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2026-02-10 10:29:41.701 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/categorias", parameters={}
2026-02-10 10:29:41.711 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#getAll(Boolean, String, Integer)
2026-02-10 10:29:41.728 [http-nio-8080-exec-3] DEBUG c.s.r.controller.CategoriaController - GET /categorias - Filtros: activa=null, nombre=null, ordenPrioridad=null
2026-02-10 10:29:41.728 [http-nio-8080-exec-3] DEBUG c.s.rutea.service.CategoriaService - Buscando categorías con filtros: activa=null, nombre=null, ordenPrioridad=null
2026-02-10 10:29:41.843 [http-nio-8080-exec-3] INFO  c.s.rutea.service.CategoriaService - Se encontraron 2 categorías
2026-02-10 10:29:41.857 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 10:29:41.860 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoriaOutDto(id=1, activa=true, costePromedio=10.0, descripcion=Ruta por la Ciudad, iconoUrl=htt (truncated)...]
2026-02-10 10:29:41.904 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-02-10 10:32:45.027 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - PATCH "/categorias/1", parameters={}
2026-02-10 10:32:45.027 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#patch(long, Map)
2026-02-10 10:32:45.050 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [{nombre=Ruta de Ciudad}]
2026-02-10 10:32:45.051 [http-nio-8080-exec-8] DEBUG c.s.r.controller.CategoriaController - PATCH /categorias/1 - Campos: [nombre]
2026-02-10 10:32:45.051 [http-nio-8080-exec-8] INFO  c.s.rutea.service.CategoriaService - Aplicando PATCH a categoría ID: 1 con 1 campos
2026-02-10 10:32:45.053 [http-nio-8080-exec-8] DEBUG c.s.rutea.service.CategoriaService - Campos a actualizar: [nombre]
2026-02-10 10:32:45.066 [http-nio-8080-exec-8] DEBUG c.s.rutea.service.CategoriaService - Campo actualizado: nombre = Ruta de Ciudad
2026-02-10 10:32:45.079 [http-nio-8080-exec-8] INFO  c.s.rutea.service.CategoriaService - Categoría actualizada exitosamente con PATCH: ID 1
2026-02-10 10:32:45.081 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 10:32:45.081 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CategoriaOutDto(id=1, activa=true, costePromedio=10.0, descripcion=Ruta por la Ciudad, iconoUrl=http (truncated)...]
2026-02-10 10:32:45.082 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-02-10 10:32:53.786 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - PATCH "/categorias/1", parameters={}
2026-02-10 10:32:53.787 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#patch(long, Map)
2026-02-10 10:32:53.788 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [{nombre=Ruta de Ciudad Actualizada}]
2026-02-10 10:32:53.788 [http-nio-8080-exec-6] DEBUG c.s.r.controller.CategoriaController - PATCH /categorias/1 - Campos: [nombre]
2026-02-10 10:32:53.788 [http-nio-8080-exec-6] INFO  c.s.rutea.service.CategoriaService - Aplicando PATCH a categoría ID: 1 con 1 campos
2026-02-10 10:32:53.788 [http-nio-8080-exec-6] DEBUG c.s.rutea.service.CategoriaService - Campos a actualizar: [nombre]
2026-02-10 10:32:53.794 [http-nio-8080-exec-6] DEBUG c.s.rutea.service.CategoriaService - Campo actualizado: nombre = Ruta de Ciudad Actualizada
2026-02-10 10:32:53.820 [http-nio-8080-exec-6] INFO  c.s.rutea.service.CategoriaService - Categoría actualizada exitosamente con PATCH: ID 1
2026-02-10 10:32:53.820 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 10:32:53.820 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CategoriaOutDto(id=1, activa=true, costePromedio=10.0, descripcion=Ruta por la Ciudad, iconoUrl=http (truncated)...]
2026-02-10 10:32:53.821 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-02-10 10:32:56.890 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/categorias", parameters={}
2026-02-10 10:32:56.890 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.CategoriaController#getAll(Boolean, String, Integer)
2026-02-10 10:32:56.890 [http-nio-8080-exec-4] DEBUG c.s.r.controller.CategoriaController - GET /categorias - Filtros: activa=null, nombre=null, ordenPrioridad=null
2026-02-10 10:32:56.891 [http-nio-8080-exec-4] DEBUG c.s.rutea.service.CategoriaService - Buscando categorías con filtros: activa=null, nombre=null, ordenPrioridad=null
2026-02-10 10:32:56.902 [http-nio-8080-exec-4] INFO  c.s.rutea.service.CategoriaService - Se encontraron 2 categorías
2026-02-10 10:32:56.902 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 10:32:56.902 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoriaOutDto(id=1, activa=true, costePromedio=10.0, descripcion=Ruta por la Ciudad, iconoUrl=htt (truncated)...]
2026-02-10 10:32:56.902 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-02-10 10:33:56.941 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/puntos", parameters={}
2026-02-10 10:33:56.942 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#getAll(Long, Boolean, Boolean, String, Float)
2026-02-10 10:33:56.946 [http-nio-8080-exec-9] DEBUG c.s.r.c.PuntoInteresController - GET: /puntos - Filtros aplicados
2026-02-10 10:33:56.946 [http-nio-8080-exec-9] DEBUG c.s.r.service.PuntoInteresService - Buscando puntos de interés con filtros: categoriaId=null, abiertoActualmente=null, nombre=, puntuacionMedia=null
2026-02-10 10:33:56.960 [http-nio-8080-exec-9] INFO  c.s.r.service.PuntoInteresService - Se encontraron 1 puntos de interés
2026-02-10 10:33:56.980 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 10:33:56.983 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[PuntoInteresOutDto(id=3, abiertoActualmente=true, fechaCreacion=2026-02-03T10:00, latitud=41.6488,  (truncated)...]
2026-02-10 10:33:56.987 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-02-10 10:34:14.246 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - PATCH "/puntos/3", parameters={}
2026-02-10 10:34:14.247 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#patch(long, Map)
2026-02-10 10:34:14.249 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [{abiertoActualmente=false, puntuacionMedia=5.5}]
2026-02-10 10:34:14.249 [http-nio-8080-exec-1] DEBUG c.s.r.c.PuntoInteresController - PATCH /puntos/3 - Campos: [abiertoActualmente, puntuacionMedia]
2026-02-10 10:34:14.249 [http-nio-8080-exec-1] INFO  c.s.r.service.PuntoInteresService - Aplicando PATCH a punto de interés ID: 3 con 2 campos
2026-02-10 10:34:14.249 [http-nio-8080-exec-1] DEBUG c.s.r.service.PuntoInteresService - Campos a actualizar: [abiertoActualmente, puntuacionMedia]
2026-02-10 10:34:14.256 [http-nio-8080-exec-1] DEBUG c.s.r.service.PuntoInteresService - Campo actualizado: abiertoActualmente = false
2026-02-10 10:34:14.256 [http-nio-8080-exec-1] DEBUG c.s.r.service.PuntoInteresService - Campo actualizado: puntuacionMedia = 5.5
2026-02-10 10:34:14.267 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleGeneric(Exception)
2026-02-10 10:34:14.269 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 10:34:14.271 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=500, title=internal-server-error, message=Unexpected error, errors={})]
2026-02-10 10:34:14.273 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.transaction.TransactionSystemException: Could not commit JPA transaction]
2026-02-10 10:34:14.274 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2026-02-10 10:35:17.810 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - PATCH "/puntos/3", parameters={}
2026-02-10 10:35:17.810 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#patch(long, Map)
2026-02-10 10:35:17.811 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [{nombre=Punto de Interés Actualizado, puntuacionMedia=5.5, abiertoActualmente=false}]
2026-02-10 10:35:17.811 [http-nio-8080-exec-3] DEBUG c.s.r.c.PuntoInteresController - PATCH /puntos/3 - Campos: [nombre, puntuacionMedia, abiertoActualmente]
2026-02-10 10:35:17.811 [http-nio-8080-exec-3] INFO  c.s.r.service.PuntoInteresService - Aplicando PATCH a punto de interés ID: 3 con 3 campos
2026-02-10 10:35:17.812 [http-nio-8080-exec-3] DEBUG c.s.r.service.PuntoInteresService - Campos a actualizar: [nombre, puntuacionMedia, abiertoActualmente]
2026-02-10 10:35:17.830 [http-nio-8080-exec-3] DEBUG c.s.r.service.PuntoInteresService - Campo actualizado: nombre = Punto de Interés Actualizado
2026-02-10 10:35:17.830 [http-nio-8080-exec-3] DEBUG c.s.r.service.PuntoInteresService - Campo actualizado: puntuacionMedia = 5.5
2026-02-10 10:35:17.830 [http-nio-8080-exec-3] DEBUG c.s.r.service.PuntoInteresService - Campo actualizado: abiertoActualmente = false
2026-02-10 10:35:17.834 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleGeneric(Exception)
2026-02-10 10:35:17.835 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 10:35:17.835 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=500, title=internal-server-error, message=Unexpected error, errors={})]
2026-02-10 10:35:17.835 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.transaction.TransactionSystemException: Could not commit JPA transaction]
2026-02-10 10:35:17.836 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2026-02-10 10:42:30.300 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-02-10 10:42:30.302 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-02-10 10:42:30.311 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-02-10 10:42:34.012 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2026-02-10 10:42:34.042 [main] INFO  com.svalero.rutea.RuteaApplication - Starting RuteaApplication using Java 23 with PID 2412 (C:\Proyects\rutea\target\classes started by borzg in C:\Proyects\rutea)
2026-02-10 10:42:34.042 [main] DEBUG com.svalero.rutea.RuteaApplication - Running with Spring Boot v3.3.3, Spring v6.1.12
2026-02-10 10:42:34.043 [main] INFO  com.svalero.rutea.RuteaApplication - No active profile set, falling back to 1 default profile: "default"
2026-02-10 10:42:34.606 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-02-10 10:42:34.652 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 39 ms. Found 5 JPA repository interfaces.
2026-02-10 10:42:35.014 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-02-10 10:42:35.023 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2026-02-10 10:42:35.026 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-02-10 10:42:35.026 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.28]
2026-02-10 10:42:35.076 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-02-10 10:42:35.077 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 999 ms
2026-02-10 10:42:35.185 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-02-10 10:42:35.235 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.2.Final
2026-02-10 10:42:35.264 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-02-10 10:42:35.496 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-02-10 10:42:35.520 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-02-10 10:42:35.585 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.mariadb.jdbc.Connection@cdbe995
2026-02-10 10:42:35.586 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-02-10 10:42:35.607 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MariaDBDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-10 10:42:36.412 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-10 10:42:36.503 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-02-10 10:42:36.898 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-02-10 10:42:36.974 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 36 mappings in 'requestMappingHandlerMapping'
2026-02-10 10:42:37.027 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2026-02-10 10:42:37.051 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-10 10:42:37.072 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-10 10:42:37.191 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2026-02-10 10:42:37.208 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2026-02-10 10:42:37.214 [main] INFO  com.svalero.rutea.RuteaApplication - Started RuteaApplication in 3.519 seconds (process running for 3.962)
2026-02-10 10:43:15.339 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-02-10 10:43:15.340 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-02-10 10:43:15.350 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-02-10 10:43:18.939 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2026-02-10 10:43:18.969 [main] INFO  com.svalero.rutea.RuteaApplication - Starting RuteaApplication using Java 23 with PID 5720 (C:\Proyects\rutea\target\classes started by borzg in C:\Proyects\rutea)
2026-02-10 10:43:18.970 [main] DEBUG com.svalero.rutea.RuteaApplication - Running with Spring Boot v3.3.3, Spring v6.1.12
2026-02-10 10:43:18.970 [main] INFO  com.svalero.rutea.RuteaApplication - No active profile set, falling back to 1 default profile: "default"
2026-02-10 10:43:19.512 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-02-10 10:43:19.551 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 35 ms. Found 5 JPA repository interfaces.
2026-02-10 10:43:19.887 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-02-10 10:43:19.895 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2026-02-10 10:43:19.897 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-02-10 10:43:19.898 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.28]
2026-02-10 10:43:19.944 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-02-10 10:43:19.944 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 936 ms
2026-02-10 10:43:20.041 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-02-10 10:43:20.080 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.2.Final
2026-02-10 10:43:20.106 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-02-10 10:43:20.328 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-02-10 10:43:20.345 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-02-10 10:43:20.406 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.mariadb.jdbc.Connection@542c65d9
2026-02-10 10:43:20.407 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-02-10 10:43:20.428 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MariaDBDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-10 10:43:21.208 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-10 10:43:21.261 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-02-10 10:43:21.632 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-02-10 10:43:21.705 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 36 mappings in 'requestMappingHandlerMapping'
2026-02-10 10:43:21.753 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2026-02-10 10:43:21.776 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-10 10:43:21.797 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-10 10:43:21.910 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2026-02-10 10:43:21.923 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2026-02-10 10:43:21.929 [main] INFO  com.svalero.rutea.RuteaApplication - Started RuteaApplication in 3.325 seconds (process running for 3.752)
2026-02-10 10:44:10.905 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-02-10 10:44:10.905 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-02-10 10:44:10.906 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2026-02-10 10:44:10.906 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2026-02-10 10:44:10.906 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2026-02-10 10:44:10.907 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@17810908
2026-02-10 10:44:10.907 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@2eb0932c
2026-02-10 10:44:10.908 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2026-02-10 10:44:10.908 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2026-02-10 10:44:10.915 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/puntos", parameters={}
2026-02-10 10:44:10.924 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#getAll(Long, Boolean, Boolean, String, Float)
2026-02-10 10:44:10.945 [http-nio-8080-exec-1] DEBUG c.s.r.c.PuntoInteresController - GET: /puntos - Filtros aplicados
2026-02-10 10:44:10.946 [http-nio-8080-exec-1] DEBUG c.s.r.service.PuntoInteresService - Buscando puntos de interés con filtros: categoriaId=null, abiertoActualmente=null, nombre=, puntuacionMedia=null
2026-02-10 10:44:11.070 [http-nio-8080-exec-1] INFO  c.s.r.service.PuntoInteresService - Se encontraron 1 puntos de interés
2026-02-10 10:44:11.102 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 10:44:11.106 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[PuntoInteresOutDto(id=3, abiertoActualmente=true, fechaCreacion=2026-02-03T10:00, latitud=41.6488,  (truncated)...]
2026-02-10 10:44:11.145 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-02-10 10:44:23.524 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - PATCH "/puntos/3", parameters={}
2026-02-10 10:44:23.525 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#patch(long, Map)
2026-02-10 10:44:23.546 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [{nombre=Punto de Interés Actualizado, puntuacionMedia=5.5, abiertoActualmente=false}]
2026-02-10 10:44:23.548 [http-nio-8080-exec-4] DEBUG c.s.r.c.PuntoInteresController - PATCH /puntos/3 - Campos: [nombre, puntuacionMedia, abiertoActualmente]
2026-02-10 10:44:23.551 [http-nio-8080-exec-4] INFO  c.s.r.service.PuntoInteresService - Aplicando PATCH a punto de interés ID: 3 con 3 campos
2026-02-10 10:44:23.551 [http-nio-8080-exec-4] DEBUG c.s.r.service.PuntoInteresService - Campos a actualizar: [nombre, puntuacionMedia, abiertoActualmente]
2026-02-10 10:44:23.556 [http-nio-8080-exec-4] DEBUG c.s.r.service.PuntoInteresService - Campo actualizado: nombre = Punto de Interés Actualizado
2026-02-10 10:44:23.556 [http-nio-8080-exec-4] DEBUG c.s.r.service.PuntoInteresService - Campo actualizado: puntuacionMedia = 5.5
2026-02-10 10:44:23.556 [http-nio-8080-exec-4] DEBUG c.s.r.service.PuntoInteresService - Campo actualizado: abiertoActualmente = false
2026-02-10 10:44:23.561 [http-nio-8080-exec-4] INFO  c.s.r.service.PuntoInteresService - Punto de interés actualizado exitosamente con PATCH: ID 3
2026-02-10 10:44:23.590 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleGeneric(Exception)
2026-02-10 10:44:23.592 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 10:44:23.593 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=500, title=internal-server-error, message=Unexpected error, errors={})]
2026-02-10 10:44:23.596 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.transaction.TransactionSystemException: Could not commit JPA transaction]
2026-02-10 10:44:23.597 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2026-02-10 10:46:22.640 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-02-10 10:46:22.641 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-02-10 10:46:22.650 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-02-10 10:46:26.254 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2026-02-10 10:46:26.282 [main] INFO  com.svalero.rutea.RuteaApplication - Starting RuteaApplication using Java 23 with PID 17084 (C:\Proyects\rutea\target\classes started by borzg in C:\Proyects\rutea)
2026-02-10 10:46:26.283 [main] DEBUG com.svalero.rutea.RuteaApplication - Running with Spring Boot v3.3.3, Spring v6.1.12
2026-02-10 10:46:26.283 [main] INFO  com.svalero.rutea.RuteaApplication - No active profile set, falling back to 1 default profile: "default"
2026-02-10 10:46:26.832 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-02-10 10:46:26.871 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 34 ms. Found 5 JPA repository interfaces.
2026-02-10 10:46:27.213 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-02-10 10:46:27.221 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2026-02-10 10:46:27.224 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-02-10 10:46:27.224 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.28]
2026-02-10 10:46:27.282 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-02-10 10:46:27.283 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 962 ms
2026-02-10 10:46:27.390 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-02-10 10:46:27.443 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.2.Final
2026-02-10 10:46:27.476 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-02-10 10:46:27.722 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-02-10 10:46:27.742 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-02-10 10:46:27.815 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.mariadb.jdbc.Connection@16b64a03
2026-02-10 10:46:27.817 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-02-10 10:46:27.838 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MariaDBDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-10 10:46:28.683 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-10 10:46:28.742 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-02-10 10:46:29.138 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-02-10 10:46:29.214 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 36 mappings in 'requestMappingHandlerMapping'
2026-02-10 10:46:29.267 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2026-02-10 10:46:29.292 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-10 10:46:29.315 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-10 10:46:29.426 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2026-02-10 10:46:29.441 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2026-02-10 10:46:29.448 [main] INFO  com.svalero.rutea.RuteaApplication - Started RuteaApplication in 3.532 seconds (process running for 3.99)
2026-02-10 10:46:32.370 [http-nio-8080-exec-6] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-02-10 10:46:32.370 [http-nio-8080-exec-6] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-02-10 10:46:32.370 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2026-02-10 10:46:32.371 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2026-02-10 10:46:32.371 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2026-02-10 10:46:32.371 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@174d5cf7
2026-02-10 10:46:32.371 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@e75bae7
2026-02-10 10:46:32.372 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2026-02-10 10:46:32.372 [http-nio-8080-exec-6] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2026-02-10 10:46:32.377 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/puntos", parameters={}
2026-02-10 10:46:32.387 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#getAll(Long, Boolean, Boolean, String, Float)
2026-02-10 10:46:32.406 [http-nio-8080-exec-6] DEBUG c.s.r.c.PuntoInteresController - GET: /puntos - Filtros aplicados
2026-02-10 10:46:32.406 [http-nio-8080-exec-6] DEBUG c.s.r.service.PuntoInteresService - Buscando puntos de interés con filtros: categoriaId=null, abiertoActualmente=null, nombre=, puntuacionMedia=null
2026-02-10 10:46:32.517 [http-nio-8080-exec-6] INFO  c.s.r.service.PuntoInteresService - Se encontraron 1 puntos de interés
2026-02-10 10:46:32.547 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 10:46:32.550 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[PuntoInteresOutDto(id=3, abiertoActualmente=true, fechaCreacion=2026-02-03T10:00, latitud=41.6488,  (truncated)...]
2026-02-10 10:46:32.584 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-02-10 10:46:36.567 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - PATCH "/puntos/3", parameters={}
2026-02-10 10:46:36.568 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#patch(long, Map)
2026-02-10 10:46:36.594 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [{nombre=Punto de Interés Actualizado, puntuacionMedia=5.5, abiertoActualmente=false}]
2026-02-10 10:46:36.596 [http-nio-8080-exec-7] DEBUG c.s.r.c.PuntoInteresController - PATCH /puntos/3 - Campos: [nombre, puntuacionMedia, abiertoActualmente]
2026-02-10 10:46:36.599 [http-nio-8080-exec-7] INFO  c.s.r.service.PuntoInteresService - Aplicando PATCH a punto de interés ID: 3 con 3 campos
2026-02-10 10:46:36.599 [http-nio-8080-exec-7] DEBUG c.s.r.service.PuntoInteresService - Campos a actualizar: [nombre, puntuacionMedia, abiertoActualmente]
2026-02-10 10:46:36.604 [http-nio-8080-exec-7] DEBUG c.s.r.service.PuntoInteresService - Campo actualizado: nombre = Punto de Interés Actualizado
2026-02-10 10:46:36.604 [http-nio-8080-exec-7] DEBUG c.s.r.service.PuntoInteresService - Campo actualizado: puntuacionMedia = 5.5
2026-02-10 10:46:36.604 [http-nio-8080-exec-7] DEBUG c.s.r.service.PuntoInteresService - Campo actualizado: abiertoActualmente = false
2026-02-10 10:46:36.608 [http-nio-8080-exec-7] INFO  c.s.r.service.PuntoInteresService - Punto de interés actualizado exitosamente con PATCH: ID 3
2026-02-10 10:46:36.638 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleGeneric(Exception)
2026-02-10 10:46:36.640 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 10:46:36.642 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=500, title=internal-server-error, message=Unexpected error, errors={})]
2026-02-10 10:46:36.645 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.transaction.TransactionSystemException: Could not commit JPA transaction]
2026-02-10 10:46:36.645 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2026-02-10 10:54:52.550 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-02-10 10:54:52.552 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-02-10 10:54:52.559 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-02-10 10:54:57.833 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2026-02-10 10:54:57.866 [main] INFO  com.svalero.rutea.RuteaApplication - Starting RuteaApplication using Java 23 with PID 10676 (C:\Proyects\rutea\target\classes started by borzg in C:\Proyects\rutea)
2026-02-10 10:54:57.867 [main] DEBUG com.svalero.rutea.RuteaApplication - Running with Spring Boot v3.3.3, Spring v6.1.12
2026-02-10 10:54:57.867 [main] INFO  com.svalero.rutea.RuteaApplication - No active profile set, falling back to 1 default profile: "default"
2026-02-10 10:54:58.459 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-02-10 10:54:58.514 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 49 ms. Found 5 JPA repository interfaces.
2026-02-10 10:54:58.853 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-02-10 10:54:58.861 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2026-02-10 10:54:58.863 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-02-10 10:54:58.863 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.28]
2026-02-10 10:54:58.913 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-02-10 10:54:58.913 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1005 ms
2026-02-10 10:54:59.012 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-02-10 10:54:59.050 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.2.Final
2026-02-10 10:54:59.128 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-02-10 10:54:59.368 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-02-10 10:54:59.387 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-02-10 10:54:59.446 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.mariadb.jdbc.Connection@241fc278
2026-02-10 10:54:59.447 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-02-10 10:54:59.469 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MariaDBDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-10 10:55:00.266 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-10 10:55:00.323 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-02-10 10:55:00.735 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-02-10 10:55:00.812 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 36 mappings in 'requestMappingHandlerMapping'
2026-02-10 10:55:00.859 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2026-02-10 10:55:00.881 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-10 10:55:00.902 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-10 10:55:01.021 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2026-02-10 10:55:01.034 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2026-02-10 10:55:01.039 [main] INFO  com.svalero.rutea.RuteaApplication - Started RuteaApplication in 3.562 seconds (process running for 3.988)
2026-02-10 10:55:08.290 [http-nio-8080-exec-3] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-02-10 10:55:08.290 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-02-10 10:55:08.291 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2026-02-10 10:55:08.291 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2026-02-10 10:55:08.291 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2026-02-10 10:55:08.292 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@35bb3fea
2026-02-10 10:55:08.292 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@2d398cfb
2026-02-10 10:55:08.292 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2026-02-10 10:55:08.292 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2026-02-10 10:55:08.299 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/puntos", parameters={}
2026-02-10 10:55:08.307 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#getAll(Long, Boolean, Boolean, String, Float)
2026-02-10 10:55:08.325 [http-nio-8080-exec-3] DEBUG c.s.r.c.PuntoInteresController - GET: /puntos - Filtros aplicados
2026-02-10 10:55:08.334 [http-nio-8080-exec-3] DEBUG c.s.r.service.PuntoInteresService - Buscando puntos de interés con filtros: categoriaId=null, abiertoActualmente=null, nombre=, puntuacionMedia=null
2026-02-10 10:55:08.433 [http-nio-8080-exec-3] INFO  c.s.r.service.PuntoInteresService - Se encontraron 1 puntos de interés
2026-02-10 10:55:08.464 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 10:55:08.468 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[PuntoInteresOutDto(id=3, abiertoActualmente=true, fechaCreacion=2026-02-03T10:00, latitud=41.6488,  (truncated)...]
2026-02-10 10:55:08.504 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-02-10 10:55:19.006 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - PATCH "/puntos/3", parameters={}
2026-02-10 10:55:19.006 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#patch(long, Map)
2026-02-10 10:55:19.033 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [{nombre=Punto de Interés Actualizado, puntuacionMedia=5.5, abiertoActualmente=false}]
2026-02-10 10:55:19.035 [http-nio-8080-exec-1] DEBUG c.s.r.c.PuntoInteresController - PATCH /puntos/3 - Campos: [nombre, puntuacionMedia, abiertoActualmente]
2026-02-10 10:55:19.040 [http-nio-8080-exec-1] INFO  c.s.r.service.PuntoInteresService - Aplicando PATCH a punto de interés ID: 3 con 3 campos
2026-02-10 10:55:19.040 [http-nio-8080-exec-1] DEBUG c.s.r.service.PuntoInteresService - Campos a actualizar: [nombre, puntuacionMedia, abiertoActualmente]
2026-02-10 10:55:19.046 [http-nio-8080-exec-1] DEBUG c.s.r.service.PuntoInteresService - Campo actualizado: nombre = Punto de Interés Actualizado
2026-02-10 10:55:19.046 [http-nio-8080-exec-1] DEBUG c.s.r.service.PuntoInteresService - Campo actualizado: puntuacionMedia = 5.5
2026-02-10 10:55:19.046 [http-nio-8080-exec-1] DEBUG c.s.r.service.PuntoInteresService - Campo actualizado: abiertoActualmente = false
2026-02-10 10:55:19.086 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleGeneric(Exception)
2026-02-10 10:55:19.088 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 10:55:19.090 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=500, title=internal-server-error, message=Unexpected error, errors={})]
2026-02-10 10:55:19.093 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [jakarta.validation.ConstraintViolationException: Validation failed for classes [com.svalero.rutea.domain.PuntoInteres] during update time for groups [jakarta.validation.groups.Default, ]<EOL>List of constraint violations:[<EOL>?ConstraintViolationImpl{interpolatedMessage='puntuacionMedia must be between 0 and 5', propertyPath=puntuacionMedia, rootBeanClass=class com.svalero.rutea.domain.PuntoInteres, messageTemplate='puntuacionMedia must be between 0 and 5'}<EOL>]]
2026-02-10 10:55:19.093 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2026-02-10 10:56:30.480 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - PATCH "/puntos/3", parameters={}
2026-02-10 10:56:30.481 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.PuntoInteresController#patch(long, Map)
2026-02-10 10:56:30.482 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [{nombre=Punto de Interés Actualizado, puntuacionMedia=4.9, abiertoActualmente=false}]
2026-02-10 10:56:30.482 [http-nio-8080-exec-6] DEBUG c.s.r.c.PuntoInteresController - PATCH /puntos/3 - Campos: [nombre, puntuacionMedia, abiertoActualmente]
2026-02-10 10:56:30.485 [http-nio-8080-exec-6] INFO  c.s.r.service.PuntoInteresService - Aplicando PATCH a punto de interés ID: 3 con 3 campos
2026-02-10 10:56:30.485 [http-nio-8080-exec-6] DEBUG c.s.r.service.PuntoInteresService - Campos a actualizar: [nombre, puntuacionMedia, abiertoActualmente]
2026-02-10 10:56:30.487 [http-nio-8080-exec-6] DEBUG c.s.r.service.PuntoInteresService - Campo actualizado: nombre = Punto de Interés Actualizado
2026-02-10 10:56:30.487 [http-nio-8080-exec-6] DEBUG c.s.r.service.PuntoInteresService - Campo actualizado: puntuacionMedia = 4.9
2026-02-10 10:56:30.487 [http-nio-8080-exec-6] DEBUG c.s.r.service.PuntoInteresService - Campo actualizado: abiertoActualmente = false
2026-02-10 10:56:30.498 [http-nio-8080-exec-6] INFO  c.s.r.service.PuntoInteresService - Punto de interés actualizado exitosamente con PATCH: ID 3
2026-02-10 10:56:30.504 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 10:56:30.504 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [PuntoInteresOutDto(id=3, abiertoActualmente=false, fechaCreacion=2026-02-03T10:00, latitud=41.6488,  (truncated)...]
2026-02-10 10:56:30.505 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-02-10 10:57:25.761 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/resenas", parameters={}
2026-02-10 10:57:25.761 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#getAll(Boolean, Integer, Integer)
2026-02-10 10:57:25.763 [http-nio-8080-exec-4] DEBUG c.s.r.controller.ResenaController - GET /resenas - Filtros: editada=null, likes=null, valoracion=null
2026-02-10 10:57:25.763 [http-nio-8080-exec-4] DEBUG c.s.rutea.service.ResenaService - Buscando reseñas con filtros: editada=null, likes=null, valoracion=null
2026-02-10 10:57:25.770 [http-nio-8080-exec-4] INFO  c.s.rutea.service.ResenaService - Se encontraron 0 reseñas
2026-02-10 10:57:25.771 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 10:57:25.772 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2026-02-10 10:57:25.772 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-02-10 10:57:35.632 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/resenas", parameters={}
2026-02-10 10:57:35.633 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#add(ResenaInDto)
2026-02-10 10:57:35.655 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ResenaInDto(comentario=Pésimo, editada=true, fechaPublicacion=2026-02-05, likes=10, titulo=Malísima, (truncated)...]
2026-02-10 10:57:35.666 [http-nio-8080-exec-7] DEBUG c.s.r.controller.ResenaController - POST /resenas - valoracion: 1
2026-02-10 10:57:35.666 [http-nio-8080-exec-7] INFO  c.s.rutea.service.ResenaService - Creando nueva reseña para punto ID: 1
2026-02-10 10:57:35.671 [http-nio-8080-exec-7] ERROR c.s.rutea.service.ResenaService - Punto de interés no encontrado: ID 1
2026-02-10 10:57:35.671 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.controller.ResenaController#handleException(PuntoInteresNotFoundException)
2026-02-10 10:57:35.671 [http-nio-8080-exec-7] WARN  c.s.r.controller.ResenaController - Punto de interés no encontrado: null
2026-02-10 10:57:35.672 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 10:57:35.672 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=404, title=not-found, message=El punto de interés no existe, errors={})]
2026-02-10 10:57:35.673 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.svalero.rutea.exception.PuntoInteresNotFoundException]
2026-02-10 10:57:35.673 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2026-02-10 10:57:50.024 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/usuarios", parameters={}
2026-02-10 10:57:50.024 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#getAll(Boolean, Integer, String)
2026-02-10 10:57:50.025 [http-nio-8080-exec-8] DEBUG c.s.r.controller.UsuarioController - GET /usuarios - Filtros: premium=null, nivelExperiencia=null, username=
2026-02-10 10:57:50.025 [http-nio-8080-exec-8] DEBUG c.s.rutea.service.UsuarioService - Buscando usuarios con filtros: premium=null, nivelExperiencia=null, username=
2026-02-10 10:57:50.031 [http-nio-8080-exec-8] INFO  c.s.rutea.service.UsuarioService - Se encontraron 1 usuarios
2026-02-10 10:57:50.033 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 10:57:50.035 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UsuarioOutDto(id=1, email=borja@example.com, esPremium=true, fechaRegistro=2026-02-08, nivelExperie (truncated)...]
2026-02-10 10:57:50.037 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-02-10 10:57:55.516 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/resenas", parameters={}
2026-02-10 10:57:55.516 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#add(ResenaInDto)
2026-02-10 10:57:55.517 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ResenaInDto(comentario=Pésimo, editada=true, fechaPublicacion=2026-02-05, likes=10, titulo=Malísima, (truncated)...]
2026-02-10 10:57:55.518 [http-nio-8080-exec-9] DEBUG c.s.r.controller.ResenaController - POST /resenas - valoracion: 1
2026-02-10 10:57:55.518 [http-nio-8080-exec-9] INFO  c.s.rutea.service.ResenaService - Creando nueva reseña para punto ID: 3
2026-02-10 10:57:55.551 [http-nio-8080-exec-9] INFO  c.s.rutea.service.ResenaService - Reseña creada exitosamente con ID: 1
2026-02-10 10:57:55.555 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 10:57:55.557 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ResenaOutDto(id=1, comentario=Pésimo, editada=true, fechaPublicacion=2026-02-05, likes=10, titulo=Ma (truncated)...]
2026-02-10 10:57:55.558 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2026-02-10 10:58:54.051 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/resenas", parameters={}
2026-02-10 10:58:54.051 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#getAll(Boolean, Integer, Integer)
2026-02-10 10:58:54.052 [http-nio-8080-exec-10] DEBUG c.s.r.controller.ResenaController - GET /resenas - Filtros: editada=null, likes=null, valoracion=null
2026-02-10 10:58:54.052 [http-nio-8080-exec-10] DEBUG c.s.rutea.service.ResenaService - Buscando reseñas con filtros: editada=null, likes=null, valoracion=null
2026-02-10 10:58:54.061 [http-nio-8080-exec-10] INFO  c.s.rutea.service.ResenaService - Se encontraron 1 reseñas
2026-02-10 10:58:54.062 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 10:58:54.062 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ResenaOutDto(id=1, comentario=Pésimo, editada=true, fechaPublicacion=2026-02-05, likes=10, titulo=M (truncated)...]
2026-02-10 10:58:54.063 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-02-10 10:59:46.850 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/resenas", parameters={}
2026-02-10 10:59:46.850 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#getAll(Boolean, Integer, Integer)
2026-02-10 10:59:46.851 [http-nio-8080-exec-2] DEBUG c.s.r.controller.ResenaController - GET /resenas - Filtros: editada=null, likes=null, valoracion=null
2026-02-10 10:59:46.851 [http-nio-8080-exec-2] DEBUG c.s.rutea.service.ResenaService - Buscando reseñas con filtros: editada=null, likes=null, valoracion=null
2026-02-10 10:59:46.859 [http-nio-8080-exec-2] INFO  c.s.rutea.service.ResenaService - Se encontraron 1 reseñas
2026-02-10 10:59:46.860 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 10:59:46.860 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ResenaOutDto(id=1, comentario=Pésimo, editada=true, fechaPublicacion=2026-02-05, likes=10, titulo=M (truncated)...]
2026-02-10 10:59:46.861 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-02-10 11:00:45.368 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - PATCH "/resenas/1", parameters={}
2026-02-10 11:00:45.369 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#patch(long, Map)
2026-02-10 11:00:45.370 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [{comentario=No está mal, titulo=Justita, valoracion=5}]
2026-02-10 11:00:45.371 [http-nio-8080-exec-3] DEBUG c.s.r.controller.ResenaController - PATCH /resenas/1 - Campos: [comentario, titulo, valoracion]
2026-02-10 11:00:45.371 [http-nio-8080-exec-3] INFO  c.s.rutea.service.ResenaService - Aplicando PATCH a reseña ID: 1 con 3 campos
2026-02-10 11:00:45.371 [http-nio-8080-exec-3] DEBUG c.s.rutea.service.ResenaService - Campos a actualizar: [comentario, titulo, valoracion]
2026-02-10 11:00:45.382 [http-nio-8080-exec-3] DEBUG c.s.rutea.service.ResenaService - Campo actualizado: comentario = No está mal
2026-02-10 11:00:45.382 [http-nio-8080-exec-3] DEBUG c.s.rutea.service.ResenaService - Campo actualizado: titulo = Justita
2026-02-10 11:00:45.383 [http-nio-8080-exec-3] DEBUG c.s.rutea.service.ResenaService - Campo actualizado: valoracion = 5
2026-02-10 11:00:45.390 [http-nio-8080-exec-3] INFO  c.s.rutea.service.ResenaService - Reseña actualizada exitosamente con PATCH: ID 1
2026-02-10 11:00:45.391 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:00:45.391 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ResenaOutDto(id=1, comentario=No está mal, editada=true, fechaPublicacion=2026-02-05, likes=10, titu (truncated)...]
2026-02-10 11:00:45.391 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-02-10 11:00:55.861 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/resenas", parameters={}
2026-02-10 11:00:55.861 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.ResenaController#getAll(Boolean, Integer, Integer)
2026-02-10 11:00:55.862 [http-nio-8080-exec-1] DEBUG c.s.r.controller.ResenaController - GET /resenas - Filtros: editada=null, likes=null, valoracion=null
2026-02-10 11:00:55.862 [http-nio-8080-exec-1] DEBUG c.s.rutea.service.ResenaService - Buscando reseñas con filtros: editada=null, likes=null, valoracion=null
2026-02-10 11:00:55.870 [http-nio-8080-exec-1] INFO  c.s.rutea.service.ResenaService - Se encontraron 1 reseñas
2026-02-10 11:00:55.871 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:00:55.871 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ResenaOutDto(id=1, comentario=No está mal, editada=true, fechaPublicacion=2026-02-05, likes=10, tit (truncated)...]
2026-02-10 11:00:55.872 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-02-10 11:01:17.997 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/rutas", parameters={}
2026-02-10 11:01:17.997 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#getAll(String, Boolean, String)
2026-02-10 11:01:17.998 [http-nio-8080-exec-5] DEBUG c.s.rutea.controller.RutaController - GET /rutas - Filtros: dificultad=, publica=null, titulo=
2026-02-10 11:01:17.998 [http-nio-8080-exec-5] DEBUG c.svalero.rutea.service.RutaService - Buscando rutas con filtros: dificultad=, publica=null, titulo=
2026-02-10 11:01:18.038 [http-nio-8080-exec-5] INFO  c.svalero.rutea.service.RutaService - Se encontraron 1 rutas
2026-02-10 11:01:18.047 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:01:18.049 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[RutaOutDto(id=1, dificultad=Media, distanciaKm=5.0, duracionMinutos=120, fechaRealizacion=2026-02-0 (truncated)...]
2026-02-10 11:01:18.052 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-02-10 11:03:50.176 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - PATCH "/rutas/1", parameters={}
2026-02-10 11:03:50.177 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#patch(long, Map)
2026-02-10 11:03:50.178 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [{distanciaKm=5.5, duracionMinutos=180, publica=false}]
2026-02-10 11:03:50.179 [http-nio-8080-exec-4] DEBUG c.s.rutea.controller.RutaController - PATCH /rutas/1 - Campos: [distanciaKm, duracionMinutos, publica]
2026-02-10 11:03:50.179 [http-nio-8080-exec-4] INFO  c.svalero.rutea.service.RutaService - Aplicando PATCH a ruta ID: 1 con 3 campos
2026-02-10 11:03:50.179 [http-nio-8080-exec-4] DEBUG c.svalero.rutea.service.RutaService - Campos a actualizar: [distanciaKm, duracionMinutos, publica]
2026-02-10 11:03:50.187 [http-nio-8080-exec-4] DEBUG c.svalero.rutea.service.RutaService - Campo actualizado: distanciaKm = 5.5
2026-02-10 11:03:50.187 [http-nio-8080-exec-4] DEBUG c.svalero.rutea.service.RutaService - Campo actualizado: duracionMinutos = 180
2026-02-10 11:03:50.187 [http-nio-8080-exec-4] DEBUG c.svalero.rutea.service.RutaService - Campo actualizado: publica = false
2026-02-10 11:03:50.195 [http-nio-8080-exec-4] INFO  c.svalero.rutea.service.RutaService - Ruta actualizada exitosamente con PATCH: ID 1
2026-02-10 11:03:50.198 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:03:50.199 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [RutaOutDto(id=1, dificultad=Media, distanciaKm=5.5, duracionMinutos=180, fechaRealizacion=2026-02-08 (truncated)...]
2026-02-10 11:03:50.200 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-02-10 11:03:59.903 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/rutas", parameters={}
2026-02-10 11:03:59.904 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.RutaController#getAll(String, Boolean, String)
2026-02-10 11:03:59.904 [http-nio-8080-exec-8] DEBUG c.s.rutea.controller.RutaController - GET /rutas - Filtros: dificultad=, publica=null, titulo=
2026-02-10 11:03:59.904 [http-nio-8080-exec-8] DEBUG c.svalero.rutea.service.RutaService - Buscando rutas con filtros: dificultad=, publica=null, titulo=
2026-02-10 11:03:59.913 [http-nio-8080-exec-8] INFO  c.svalero.rutea.service.RutaService - Se encontraron 1 rutas
2026-02-10 11:03:59.915 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:03:59.915 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[RutaOutDto(id=1, dificultad=Media, distanciaKm=5.5, duracionMinutos=180, fechaRealizacion=2026-02-0 (truncated)...]
2026-02-10 11:03:59.916 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-02-10 11:04:11.940 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/usuarios", parameters={}
2026-02-10 11:04:11.940 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#getAll(Boolean, Integer, String)
2026-02-10 11:04:11.941 [http-nio-8080-exec-9] DEBUG c.s.r.controller.UsuarioController - GET /usuarios - Filtros: premium=null, nivelExperiencia=null, username=
2026-02-10 11:04:11.941 [http-nio-8080-exec-9] DEBUG c.s.rutea.service.UsuarioService - Buscando usuarios con filtros: premium=null, nivelExperiencia=null, username=
2026-02-10 11:04:11.951 [http-nio-8080-exec-9] INFO  c.s.rutea.service.UsuarioService - Se encontraron 1 usuarios
2026-02-10 11:04:11.952 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:04:11.952 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[UsuarioOutDto(id=1, email=borja@example.com, esPremium=true, fechaRegistro=2026-02-08, nivelExperie (truncated)...]
2026-02-10 11:04:11.952 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2026-02-10 11:05:47.738 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - PATCH "/usuarios/1", parameters={}
2026-02-10 11:05:47.739 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#patch(long, Map)
2026-02-10 11:05:47.740 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [{email=borjazg@example.com, esPremium=false, username=Borja ZG}]
2026-02-10 11:05:47.740 [http-nio-8080-exec-2] DEBUG c.s.r.controller.UsuarioController - PATCH /usuarios/1 - Campos: [email, esPremium, username]
2026-02-10 11:05:47.740 [http-nio-8080-exec-2] INFO  c.s.rutea.service.UsuarioService - Aplicando PATCH a usuario ID: 1 con 3 campos
2026-02-10 11:05:47.740 [http-nio-8080-exec-2] DEBUG c.s.rutea.service.UsuarioService - Campos a actualizar: [email, esPremium, username]
2026-02-10 11:05:47.748 [http-nio-8080-exec-2] DEBUG c.s.rutea.service.UsuarioService - Campo actualizado: email = borjazg@example.com
2026-02-10 11:05:47.749 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleGeneric(Exception)
2026-02-10 11:05:47.749 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:05:47.749 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=500, title=internal-server-error, message=Unexpected error, errors={})]
2026-02-10 11:05:47.749 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: Can not set boolean field com.svalero.rutea.domain.Usuario.esPremium to java.lang.String]
2026-02-10 11:05:47.749 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2026-02-10 11:06:11.922 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - PATCH "/usuarios/1", parameters={}
2026-02-10 11:06:11.923 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#patch(long, Map)
2026-02-10 11:06:11.923 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [{email=borjazg@example.com, esPremium=true, username=Borja ZG}]
2026-02-10 11:06:11.924 [http-nio-8080-exec-1] DEBUG c.s.r.controller.UsuarioController - PATCH /usuarios/1 - Campos: [email, esPremium, username]
2026-02-10 11:06:11.924 [http-nio-8080-exec-1] INFO  c.s.rutea.service.UsuarioService - Aplicando PATCH a usuario ID: 1 con 3 campos
2026-02-10 11:06:11.924 [http-nio-8080-exec-1] DEBUG c.s.rutea.service.UsuarioService - Campos a actualizar: [email, esPremium, username]
2026-02-10 11:06:11.930 [http-nio-8080-exec-1] DEBUG c.s.rutea.service.UsuarioService - Campo actualizado: email = borjazg@example.com
2026-02-10 11:06:11.930 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleGeneric(Exception)
2026-02-10 11:06:11.931 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:06:11.931 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=500, title=internal-server-error, message=Unexpected error, errors={})]
2026-02-10 11:06:11.931 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: Can not set boolean field com.svalero.rutea.domain.Usuario.esPremium to java.lang.String]
2026-02-10 11:06:11.932 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2026-02-10 11:06:16.747 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - PATCH "/usuarios/1", parameters={}
2026-02-10 11:06:16.748 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.svalero.rutea.controller.UsuarioController#patch(long, Map)
2026-02-10 11:06:16.749 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [{email=borjazg@example.com, esPremium=true, username=Borja}]
2026-02-10 11:06:16.749 [http-nio-8080-exec-7] DEBUG c.s.r.controller.UsuarioController - PATCH /usuarios/1 - Campos: [email, esPremium, username]
2026-02-10 11:06:16.749 [http-nio-8080-exec-7] INFO  c.s.rutea.service.UsuarioService - Aplicando PATCH a usuario ID: 1 con 3 campos
2026-02-10 11:06:16.749 [http-nio-8080-exec-7] DEBUG c.s.rutea.service.UsuarioService - Campos a actualizar: [email, esPremium, username]
2026-02-10 11:06:16.754 [http-nio-8080-exec-7] DEBUG c.s.rutea.service.UsuarioService - Campo actualizado: email = borjazg@example.com
2026-02-10 11:06:16.754 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.svalero.rutea.exception.GlobalExceptionHandler#handleGeneric(Exception)
2026-02-10 11:06:16.754 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-10 11:06:16.754 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(code=500, title=internal-server-error, message=Unexpected error, errors={})]
2026-02-10 11:06:16.754 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: Can not set boolean field com.svalero.rutea.domain.Usuario.esPremium to java.lang.String]
2026-02-10 11:06:16.754 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2026-02-10 11:16:38.418 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-02-10 11:16:38.418 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-02-10 11:16:38.428 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
